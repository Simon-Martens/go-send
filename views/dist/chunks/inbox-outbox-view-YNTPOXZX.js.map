{
  "version": 3,
  "sources": ["../../src/ui/inbox-outbox-view.mjs"],
  "sourcesContent": ["import { fetchInbox, fetchOutbox } from \"../api.mjs\";\nimport { bytes, translateElement } from \"../utils.mjs\";\nimport storage from \"../storage.mjs\";\n\nclass InboxOutboxView extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._currentView = \"outbox\"; // 'inbox' or 'outbox'\n\t\tthis._files = [];\n\t\tthis._translate = null;\n\t}\n\n\tconnectedCallback() {\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\t// Mount navigation template\n\t\tconst navTemplate = document.getElementById(\"inbox-outbox-nav\");\n\t\tif (!navTemplate) {\n\t\t\tconsole.error(\"Template #inbox-outbox-nav not found\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.innerHTML = \"\";\n\t\tconst navFragment = navTemplate.content.cloneNode(true);\n\t\tthis.appendChild(navFragment);\n\n\t\t// Create container for files\n\t\tconst filesContainer = document.createElement(\"ul\");\n\t\tfilesContainer.className = \"grid grid-cols-1 gap-4\";\n\t\tfilesContainer.setAttribute(\"data-role\", \"files-list\");\n\t\tthis.appendChild(filesContainer);\n\n\t\t// Create empty state container\n\t\tconst emptyContainer = document.createElement(\"div\");\n\t\temptyContainer.className = \"text-center py-8 text-grey-60 dark:text-grey-40 hidden\";\n\t\temptyContainer.setAttribute(\"data-role\", \"empty-state\");\n\t\tthis.appendChild(emptyContainer);\n\n\t\t// Attach event listeners to tabs\n\t\tthis._attachTabListeners();\n\n\t\t// Translate\n\t\ttranslateElement(this);\n\n\t\t// Set initial active tab\n\t\tthis._setActiveTab(this._currentView);\n\n\t\t// Load initial data\n\t\tthis._loadFiles();\n\t}\n\n\tsetState({ translate = null } = {}) {\n\t\tthis._translate = translate;\n\t}\n\n\trefresh() {\n\t\tthis._loadFiles();\n\t}\n\n\t_attachTabListeners() {\n\t\tconst inboxTab = this.querySelector('[data-tab=\"inbox\"]');\n\t\tconst outboxTab = this.querySelector('[data-tab=\"outbox\"]');\n\n\t\tif (inboxTab) {\n\t\t\tinboxTab.addEventListener(\"click\", () => {\n\t\t\t\tthis._currentView = \"inbox\";\n\t\t\t\tthis._setActiveTab(\"inbox\");\n\t\t\t\tthis._loadFiles();\n\t\t\t});\n\t\t}\n\n\t\tif (outboxTab) {\n\t\t\toutboxTab.addEventListener(\"click\", () => {\n\t\t\t\tthis._currentView = \"outbox\";\n\t\t\t\tthis._setActiveTab(\"outbox\");\n\t\t\t\tthis._loadFiles();\n\t\t\t});\n\t\t}\n\t}\n\n\t_setActiveTab(tab) {\n\t\tconst inboxTab = this.querySelector('[data-tab=\"inbox\"]');\n\t\tconst outboxTab = this.querySelector('[data-tab=\"outbox\"]');\n\n\t\tif (inboxTab) {\n\t\t\tif (tab === \"inbox\") {\n\t\t\t\tinboxTab.classList.add(\"bg-primary\", \"text-white\");\n\t\t\t\tinboxTab.classList.remove(\"text-grey-70\", \"hover:bg-grey-10\", \"dark:text-grey-30\", \"dark:hover:bg-grey-80\");\n\t\t\t} else {\n\t\t\t\tinboxTab.classList.remove(\"bg-primary\", \"text-white\");\n\t\t\t\tinboxTab.classList.add(\"text-grey-70\", \"hover:bg-grey-10\", \"dark:text-grey-30\", \"dark:hover:bg-grey-80\");\n\t\t\t}\n\t\t}\n\n\t\tif (outboxTab) {\n\t\t\tif (tab === \"outbox\") {\n\t\t\t\toutboxTab.classList.add(\"bg-primary\", \"text-white\");\n\t\t\t\toutboxTab.classList.remove(\"text-grey-70\", \"hover:bg-grey-10\", \"dark:text-grey-30\", \"dark:hover:bg-grey-80\");\n\t\t\t} else {\n\t\t\t\toutboxTab.classList.remove(\"bg-primary\", \"text-white\");\n\t\t\t\toutboxTab.classList.add(\"text-grey-70\", \"hover:bg-grey-10\", \"dark:text-grey-30\", \"dark:hover:bg-grey-80\");\n\t\t\t}\n\t\t}\n\t}\n\n\tasync _loadFiles() {\n\t\tconst filesContainer = this.querySelector('[data-role=\"files-list\"]');\n\t\tconst emptyContainer = this.querySelector('[data-role=\"empty-state\"]');\n\n\t\tif (!filesContainer) return;\n\n\t\t// Show loading state\n\t\tthis.hidden = false;\n\t\tfilesContainer.innerHTML = '<li class=\"text-center py-8 text-grey-60 dark:text-grey-40\">Loading...</li>';\n\n\t\ttry {\n\t\t\tconst files = this._currentView === \"inbox\"\n\t\t\t\t? await fetchInbox()\n\t\t\t\t: await fetchOutbox();\n\n\t\t\tthis._files = this._prepareFiles(files, this._currentView);\n\t\t\tthis._renderFiles();\n\t\t} catch (err) {\n\t\t\tconsole.error(`Failed to load ${this._currentView}:`, err);\n\t\t\tif (err && (err.message === \"401\" || err.message === \"403\")) {\n\t\t\t\tthis._files = [];\n\t\t\t\tthis.hidden = true;\n\t\t\t\tfilesContainer.innerHTML = \"\";\n\t\t\t\tif (emptyContainer) {\n\t\t\t\t\temptyContainer.classList.add(\"hidden\");\n\t\t\t\t\temptyContainer.textContent = \"\";\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfilesContainer.innerHTML = `<li class=\"text-center py-8 text-red-600 dark:text-red-400\">Failed to load ${this._currentView}</li>`;\n\t\t}\n\t}\n\n\t_renderFiles() {\n\t\tconst filesContainer = this.querySelector('[data-role=\"files-list\"]');\n\t\tconst emptyContainer = this.querySelector('[data-role=\"empty-state\"]');\n\n\t\tif (!filesContainer || !emptyContainer) return;\n\n\t\tfilesContainer.innerHTML = \"\";\n\n\t\tif (this._files.length === 0) {\n\t\t\tfilesContainer.classList.add(\"hidden\");\n\t\t\temptyContainer.classList.remove(\"hidden\");\n\t\t\temptyContainer.textContent = this._translateText(\n\t\t\t\tthis._currentView === \"inbox\" ? \"noInboxFiles\" : \"noOutboxFiles\",\n\t\t\t\tthis._currentView === \"inbox\" ? \"No files in your inbox\" : \"No files in your outbox\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tfilesContainer.classList.remove(\"hidden\");\n\t\temptyContainer.classList.add(\"hidden\");\n\n\t\tconst tileTemplate = document.getElementById(\"upload-tile-item\");\n\t\tif (!tileTemplate) {\n\t\t\tconsole.error(\"Template #upload-tile-item not found\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis._files.forEach((file) => {\n\t\t\tconst fragment = tileTemplate.content.cloneNode(true);\n\t\t\tconst tile = fragment.querySelector(\"li\");\n\n\t\t\t// Set file ID\n\t\t\ttile.dataset.uploadId = file.id;\n\n\t\t\tconst ownedFile = typeof storage.getFileById === \"function\"\n\t\t\t\t? storage.getFileById(file.id)\n\t\t\t\t: null;\n\n\t\t\t// Set file name (prefer locally cached metadata when available)\n\t\t\tconst nameEl = tile.querySelector('[data-role=\"file-name\"]');\n\t\t\tif (nameEl) {\n\t\t\t\tif (ownedFile && ownedFile.name) {\n\t\t\t\t\tnameEl.textContent = ownedFile.name;\n\t\t\t\t} else {\n\t\t\t\t\tnameEl.textContent = `File ${file.id.substring(0, 8)}...`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set file size (fallback to blank if we cannot resolve)\n\t\t\tconst sizeEl = tile.querySelector('[data-role=\"file-size\"]');\n\t\t\tif (sizeEl) {\n\t\t\t\tif (ownedFile && typeof ownedFile.size === \"number\") {\n\t\t\t\t\tsizeEl.textContent = bytes(ownedFile.size);\n\t\t\t\t} else {\n\t\t\t\t\tsizeEl.textContent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set user info (sender/recipient)\n\t\t\tconst userInfoEl = tile.querySelector('[data-role=\"user-info\"]');\n\t\t\tconst userLabelEl = tile.querySelector('[data-role=\"user-label\"]');\n\t\t\tconst userNameEl = tile.querySelector('[data-role=\"user-name\"]');\n\n\t\t\tif (userInfoEl && userLabelEl && userNameEl) {\n\t\t\t\tif (this._currentView === \"inbox\" && file.owner_name) {\n\t\t\t\t\t// Inbox: show sender\n\t\t\t\t\tuserLabelEl.textContent = this._translateText(\"sharedBy\", \"Shared by\");\n\t\t\t\t\tuserNameEl.textContent = file.owner_name;\n\t\t\t\t\tuserInfoEl.classList.remove(\"hidden\");\n\t\t\t\t} else if (this._currentView === \"outbox\" && file.recipient_name) {\n\t\t\t\t\t// Outbox: show recipient\n\t\t\t\t\tuserLabelEl.textContent = this._translateText(\"sentTo\", \"Sent to\");\n\t\t\t\t\tuserNameEl.textContent = file.recipient_name;\n\t\t\t\t\tuserInfoEl.classList.remove(\"hidden\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set upload date\n\t\t\tconst dateEl = tile.querySelector('[data-role=\"upload-date\"]');\n\t\t\tif (dateEl) {\n\t\t\t\tconst date = new Date(file.created_at * 1000);\n\t\t\t\tdateEl.textContent = date.toLocaleDateString();\n\t\t\t}\n\n\t\t\t// Set expiry info\n\t\t\tconst expiryEl = tile.querySelector('[data-role=\"expiry-info\"]');\n\t\t\tif (expiryEl) {\n\t\t\t\tconst now = Math.floor(Date.now() / 1000);\n\t\t\t\tconst timeLeft = file.expires_at - now;\n\t\t\t\tif (timeLeft > 0) {\n\t\t\t\t\tconst hours = Math.floor(timeLeft / 3600);\n\t\t\t\t\tconst days = Math.floor(hours / 24);\n\t\t\t\t\tif (days > 0) {\n\t\t\t\t\t\texpiryEl.textContent = this._translateText(\"expiresInDays\", `Expires in ${days} days`, { days });\n\t\t\t\t\t} else if (hours > 0) {\n\t\t\t\t\t\texpiryEl.textContent = this._translateText(\"expiresInHours\", `Expires in ${hours} hours`, { hours });\n\t\t\t\t\t} else {\n\t\t\t\t\t\texpiryEl.textContent = this._translateText(\"expiresInMinutes\", `Expires soon`, {});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\texpiryEl.textContent = this._translateText(\"expired\", \"Expired\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set download link\n\t\t\tconst downloadLinkEl = tile.querySelector('[data-role=\"download-link\"]');\n\t\t\tif (downloadLinkEl) {\n\t\t\t\tif (ownedFile && ownedFile.url) {\n\t\t\t\t\tdownloadLinkEl.href = ownedFile.url;\n\t\t\t\t} else {\n\t\t\t\t\tdownloadLinkEl.href = `/download/${file.id}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set copy link button\n\t\t\tconst copyBtn = tile.querySelector('[data-action=\"copy\"]');\n\t\t\tif (copyBtn) {\n\t\t\t\tcopyBtn.addEventListener(\"click\", () => {\n\t\t\t\t\tconst url = ownedFile && ownedFile.url\n\t\t\t\t\t\t? ownedFile.url\n\t\t\t\t\t\t: `${window.location.origin}/download/${file.id}`;\n\t\t\t\t\tnavigator.clipboard.writeText(url).then(() => {\n\t\t\t\t\t\tconst copyIcon = copyBtn.querySelector('[data-role=\"copy-icon\"]');\n\t\t\t\t\t\tif (copyIcon) {\n\t\t\t\t\t\t\tcopyIcon.className = \"ri-check-line h-4 w-4 mr-2 text-base leading-4\";\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tcopyIcon.className = \"ri-file-copy-line h-4 w-4 mr-2 text-base leading-4\";\n\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.error(\"Failed to copy:\", err);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Set delete button (only for outbox/owner files)\n\t\t\tconst deleteBtn = tile.querySelector('[data-action=\"delete\"]');\n\t\t\tif (deleteBtn) {\n\t\t\t\tif (this._currentView === \"outbox\" && file.owner_token) {\n\t\t\t\t\tdeleteBtn.addEventListener(\"click\", async () => {\n\t\t\t\t\t\tif (confirm(this._translateText(\"deleteConfirm\", \"Are you sure you want to delete this file?\"))) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst { del } = await import(\"../api.mjs\");\n\t\t\t\t\t\t\t\tconst success = await del(file.id, file.owner_token);\n\t\t\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\t\t\ttile.remove();\n\t\t\t\t\t\t\t\t\tthis._files = this._files.filter(f => f.id !== file.id);\n\t\t\t\t\t\t\t\t\tif (this._files.length === 0) {\n\t\t\t\t\t\t\t\t\t\tthis._renderFiles();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\talert(this._translateText(\"deleteFailed\", \"Failed to delete file\"));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\tconsole.error(\"Delete failed:\", err);\n\t\t\t\t\t\t\t\talert(this._translateText(\"deleteFailed\", \"Failed to delete file\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Hide delete button for inbox files\n\t\t\t\t\tdeleteBtn.style.display = \"none\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfilesContainer.appendChild(fragment);\n\t\t});\n\t}\n\n\t_prepareFiles(files, view) {\n\t\tif (!Array.isArray(files)) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst unique = new Map();\n\t\tfiles.forEach((file) => {\n\t\t\tif (!file || !file.id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (view === \"outbox\" && !file.owner_token) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (view === \"inbox\" && file.owner_token) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst existing = unique.get(file.id);\n\t\t\tif (!existing || (file.created_at || 0) > (existing.created_at || 0)) {\n\t\t\t\tunique.set(file.id, file);\n\t\t\t}\n\t\t});\n\n\t\treturn Array.from(unique.values()).sort((a, b) => (b.created_at || 0) - (a.created_at || 0));\n\t}\n\n\t_translateText(key, fallback, params) {\n\t\ttry {\n\t\t\tif (typeof this._translate === \"function\") {\n\t\t\t\tconst result = this._translate(key, params);\n\t\t\t\tif (result) return result;\n\t\t\t} else if (typeof window.translate === \"function\") {\n\t\t\t\tconst result = window.translate(key, params);\n\t\t\t\tif (result) return result;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t// ignore missing translation\n\t\t}\n\t\treturn fallback;\n\t}\n}\n\ncustomElements.define(\"inbox-outbox-view\", InboxOutboxView);\n"],
  "mappings": ";;;;;;;;;;;;;;AAIA,IAAM,kBAAN,cAA8B,YAAY;AAAA,EACzC,cAAc;AACb,UAAM;AACN,SAAK,eAAe;AACpB,SAAK,SAAS,CAAC;AACf,SAAK,aAAa;AAAA,EACnB;AAAA,EAEA,oBAAoB;AACnB,SAAK,OAAO;AAAA,EACb;AAAA,EAEA,SAAS;AAER,UAAM,cAAc,SAAS,eAAe,kBAAkB;AAC9D,QAAI,CAAC,aAAa;AACjB,cAAQ,MAAM,sCAAsC;AACpD;AAAA,IACD;AAEA,SAAK,YAAY;AACjB,UAAM,cAAc,YAAY,QAAQ,UAAU,IAAI;AACtD,SAAK,YAAY,WAAW;AAG5B,UAAM,iBAAiB,SAAS,cAAc,IAAI;AAClD,mBAAe,YAAY;AAC3B,mBAAe,aAAa,aAAa,YAAY;AACrD,SAAK,YAAY,cAAc;AAG/B,UAAM,iBAAiB,SAAS,cAAc,KAAK;AACnD,mBAAe,YAAY;AAC3B,mBAAe,aAAa,aAAa,aAAa;AACtD,SAAK,YAAY,cAAc;AAG/B,SAAK,oBAAoB;AAGzB,qBAAiB,IAAI;AAGrB,SAAK,cAAc,KAAK,YAAY;AAGpC,SAAK,WAAW;AAAA,EACjB;AAAA,EAEA,SAAS,EAAE,YAAY,KAAK,IAAI,CAAC,GAAG;AACnC,SAAK,aAAa;AAAA,EACnB;AAAA,EAEA,UAAU;AACT,SAAK,WAAW;AAAA,EACjB;AAAA,EAEA,sBAAsB;AACrB,UAAM,WAAW,KAAK,cAAc,oBAAoB;AACxD,UAAM,YAAY,KAAK,cAAc,qBAAqB;AAE1D,QAAI,UAAU;AACb,eAAS,iBAAiB,SAAS,MAAM;AACxC,aAAK,eAAe;AACpB,aAAK,cAAc,OAAO;AAC1B,aAAK,WAAW;AAAA,MACjB,CAAC;AAAA,IACF;AAEA,QAAI,WAAW;AACd,gBAAU,iBAAiB,SAAS,MAAM;AACzC,aAAK,eAAe;AACpB,aAAK,cAAc,QAAQ;AAC3B,aAAK,WAAW;AAAA,MACjB,CAAC;AAAA,IACF;AAAA,EACD;AAAA,EAEA,cAAc,KAAK;AAClB,UAAM,WAAW,KAAK,cAAc,oBAAoB;AACxD,UAAM,YAAY,KAAK,cAAc,qBAAqB;AAE1D,QAAI,UAAU;AACb,UAAI,QAAQ,SAAS;AACpB,iBAAS,UAAU,IAAI,cAAc,YAAY;AACjD,iBAAS,UAAU,OAAO,gBAAgB,oBAAoB,qBAAqB,uBAAuB;AAAA,MAC3G,OAAO;AACN,iBAAS,UAAU,OAAO,cAAc,YAAY;AACpD,iBAAS,UAAU,IAAI,gBAAgB,oBAAoB,qBAAqB,uBAAuB;AAAA,MACxG;AAAA,IACD;AAEA,QAAI,WAAW;AACd,UAAI,QAAQ,UAAU;AACrB,kBAAU,UAAU,IAAI,cAAc,YAAY;AAClD,kBAAU,UAAU,OAAO,gBAAgB,oBAAoB,qBAAqB,uBAAuB;AAAA,MAC5G,OAAO;AACN,kBAAU,UAAU,OAAO,cAAc,YAAY;AACrD,kBAAU,UAAU,IAAI,gBAAgB,oBAAoB,qBAAqB,uBAAuB;AAAA,MACzG;AAAA,IACD;AAAA,EACD;AAAA,EAEA,MAAM,aAAa;AAClB,UAAM,iBAAiB,KAAK,cAAc,0BAA0B;AACpE,UAAM,iBAAiB,KAAK,cAAc,2BAA2B;AAErE,QAAI,CAAC,eAAgB;AAGrB,SAAK,SAAS;AACd,mBAAe,YAAY;AAE3B,QAAI;AACH,YAAM,QAAQ,KAAK,iBAAiB,UACjC,MAAM,WAAW,IACjB,MAAM,YAAY;AAErB,WAAK,SAAS,KAAK,cAAc,OAAO,KAAK,YAAY;AACzD,WAAK,aAAa;AAAA,IACnB,SAAS,KAAK;AACb,cAAQ,MAAM,kBAAkB,KAAK,YAAY,KAAK,GAAG;AACzD,UAAI,QAAQ,IAAI,YAAY,SAAS,IAAI,YAAY,QAAQ;AAC5D,aAAK,SAAS,CAAC;AACf,aAAK,SAAS;AACd,uBAAe,YAAY;AAC3B,YAAI,gBAAgB;AACnB,yBAAe,UAAU,IAAI,QAAQ;AACrC,yBAAe,cAAc;AAAA,QAC9B;AACA;AAAA,MACD;AAEA,qBAAe,YAAY,8EAA8E,KAAK,YAAY;AAAA,IAC3H;AAAA,EACD;AAAA,EAEA,eAAe;AACd,UAAM,iBAAiB,KAAK,cAAc,0BAA0B;AACpE,UAAM,iBAAiB,KAAK,cAAc,2BAA2B;AAErE,QAAI,CAAC,kBAAkB,CAAC,eAAgB;AAExC,mBAAe,YAAY;AAE3B,QAAI,KAAK,OAAO,WAAW,GAAG;AAC7B,qBAAe,UAAU,IAAI,QAAQ;AACrC,qBAAe,UAAU,OAAO,QAAQ;AACxC,qBAAe,cAAc,KAAK;AAAA,QACjC,KAAK,iBAAiB,UAAU,iBAAiB;AAAA,QACjD,KAAK,iBAAiB,UAAU,2BAA2B;AAAA,MAC5D;AACA;AAAA,IACD;AAEA,mBAAe,UAAU,OAAO,QAAQ;AACxC,mBAAe,UAAU,IAAI,QAAQ;AAErC,UAAM,eAAe,SAAS,eAAe,kBAAkB;AAC/D,QAAI,CAAC,cAAc;AAClB,cAAQ,MAAM,sCAAsC;AACpD;AAAA,IACD;AAEA,SAAK,OAAO,QAAQ,CAAC,SAAS;AAC7B,YAAM,WAAW,aAAa,QAAQ,UAAU,IAAI;AACpD,YAAM,OAAO,SAAS,cAAc,IAAI;AAGxC,WAAK,QAAQ,WAAW,KAAK;AAE7B,YAAM,YAAY,OAAO,gBAAQ,gBAAgB,aAC9C,gBAAQ,YAAY,KAAK,EAAE,IAC3B;AAGH,YAAM,SAAS,KAAK,cAAc,yBAAyB;AAC3D,UAAI,QAAQ;AACX,YAAI,aAAa,UAAU,MAAM;AAChC,iBAAO,cAAc,UAAU;AAAA,QAChC,OAAO;AACN,iBAAO,cAAc,QAAQ,KAAK,GAAG,UAAU,GAAG,CAAC,CAAC;AAAA,QACrD;AAAA,MACD;AAGA,YAAM,SAAS,KAAK,cAAc,yBAAyB;AAC3D,UAAI,QAAQ;AACX,YAAI,aAAa,OAAO,UAAU,SAAS,UAAU;AACpD,iBAAO,cAAc,MAAM,UAAU,IAAI;AAAA,QAC1C,OAAO;AACN,iBAAO,cAAc;AAAA,QACtB;AAAA,MACD;AAGA,YAAM,aAAa,KAAK,cAAc,yBAAyB;AAC/D,YAAM,cAAc,KAAK,cAAc,0BAA0B;AACjE,YAAM,aAAa,KAAK,cAAc,yBAAyB;AAE/D,UAAI,cAAc,eAAe,YAAY;AAC5C,YAAI,KAAK,iBAAiB,WAAW,KAAK,YAAY;AAErD,sBAAY,cAAc,KAAK,eAAe,YAAY,WAAW;AACrE,qBAAW,cAAc,KAAK;AAC9B,qBAAW,UAAU,OAAO,QAAQ;AAAA,QACrC,WAAW,KAAK,iBAAiB,YAAY,KAAK,gBAAgB;AAEjE,sBAAY,cAAc,KAAK,eAAe,UAAU,SAAS;AACjE,qBAAW,cAAc,KAAK;AAC9B,qBAAW,UAAU,OAAO,QAAQ;AAAA,QACrC;AAAA,MACD;AAGA,YAAM,SAAS,KAAK,cAAc,2BAA2B;AAC7D,UAAI,QAAQ;AACX,cAAM,OAAO,IAAI,KAAK,KAAK,aAAa,GAAI;AAC5C,eAAO,cAAc,KAAK,mBAAmB;AAAA,MAC9C;AAGA,YAAM,WAAW,KAAK,cAAc,2BAA2B;AAC/D,UAAI,UAAU;AACb,cAAM,MAAM,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AACxC,cAAM,WAAW,KAAK,aAAa;AACnC,YAAI,WAAW,GAAG;AACjB,gBAAM,QAAQ,KAAK,MAAM,WAAW,IAAI;AACxC,gBAAM,OAAO,KAAK,MAAM,QAAQ,EAAE;AAClC,cAAI,OAAO,GAAG;AACb,qBAAS,cAAc,KAAK,eAAe,iBAAiB,cAAc,IAAI,SAAS,EAAE,KAAK,CAAC;AAAA,UAChG,WAAW,QAAQ,GAAG;AACrB,qBAAS,cAAc,KAAK,eAAe,kBAAkB,cAAc,KAAK,UAAU,EAAE,MAAM,CAAC;AAAA,UACpG,OAAO;AACN,qBAAS,cAAc,KAAK,eAAe,oBAAoB,gBAAgB,CAAC,CAAC;AAAA,UAClF;AAAA,QACD,OAAO;AACN,mBAAS,cAAc,KAAK,eAAe,WAAW,SAAS;AAAA,QAChE;AAAA,MACD;AAGA,YAAM,iBAAiB,KAAK,cAAc,6BAA6B;AACvE,UAAI,gBAAgB;AACnB,YAAI,aAAa,UAAU,KAAK;AAC/B,yBAAe,OAAO,UAAU;AAAA,QACjC,OAAO;AACN,yBAAe,OAAO,aAAa,KAAK,EAAE;AAAA,QAC3C;AAAA,MACD;AAGA,YAAM,UAAU,KAAK,cAAc,sBAAsB;AACzD,UAAI,SAAS;AACZ,gBAAQ,iBAAiB,SAAS,MAAM;AACvC,gBAAM,MAAM,aAAa,UAAU,MAChC,UAAU,MACV,GAAG,OAAO,SAAS,MAAM,aAAa,KAAK,EAAE;AAChD,oBAAU,UAAU,UAAU,GAAG,EAAE,KAAK,MAAM;AAC7C,kBAAM,WAAW,QAAQ,cAAc,yBAAyB;AAChE,gBAAI,UAAU;AACb,uBAAS,YAAY;AACrB,yBAAW,MAAM;AAChB,yBAAS,YAAY;AAAA,cACtB,GAAG,GAAI;AAAA,YACR;AAAA,UACD,CAAC,EAAE,MAAM,SAAO;AACf,oBAAQ,MAAM,mBAAmB,GAAG;AAAA,UACrC,CAAC;AAAA,QACF,CAAC;AAAA,MACF;AAGA,YAAM,YAAY,KAAK,cAAc,wBAAwB;AAC7D,UAAI,WAAW;AACd,YAAI,KAAK,iBAAiB,YAAY,KAAK,aAAa;AACvD,oBAAU,iBAAiB,SAAS,YAAY;AAC/C,gBAAI,QAAQ,KAAK,eAAe,iBAAiB,4CAA4C,CAAC,GAAG;AAChG,kBAAI;AACH,sBAAM,EAAE,IAAI,IAAI,MAAM,OAAO,mBAAY;AACzC,sBAAM,UAAU,MAAM,IAAI,KAAK,IAAI,KAAK,WAAW;AACnD,oBAAI,SAAS;AACZ,uBAAK,OAAO;AACZ,uBAAK,SAAS,KAAK,OAAO,OAAO,OAAK,EAAE,OAAO,KAAK,EAAE;AACtD,sBAAI,KAAK,OAAO,WAAW,GAAG;AAC7B,yBAAK,aAAa;AAAA,kBACnB;AAAA,gBACD,OAAO;AACN,wBAAM,KAAK,eAAe,gBAAgB,uBAAuB,CAAC;AAAA,gBACnE;AAAA,cACD,SAAS,KAAK;AACb,wBAAQ,MAAM,kBAAkB,GAAG;AACnC,sBAAM,KAAK,eAAe,gBAAgB,uBAAuB,CAAC;AAAA,cACnE;AAAA,YACD;AAAA,UACD,CAAC;AAAA,QACF,OAAO;AAEN,oBAAU,MAAM,UAAU;AAAA,QAC3B;AAAA,MACD;AAEA,qBAAe,YAAY,QAAQ;AAAA,IACpC,CAAC;AAAA,EACF;AAAA,EAEA,cAAc,OAAO,MAAM;AAC1B,QAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AAC1B,aAAO,CAAC;AAAA,IACT;AAEA,UAAM,SAAS,oBAAI,IAAI;AACvB,UAAM,QAAQ,CAAC,SAAS;AACvB,UAAI,CAAC,QAAQ,CAAC,KAAK,IAAI;AACtB;AAAA,MACD;AACA,UAAI,SAAS,YAAY,CAAC,KAAK,aAAa;AAC3C;AAAA,MACD;AACA,UAAI,SAAS,WAAW,KAAK,aAAa;AACzC;AAAA,MACD;AACA,YAAM,WAAW,OAAO,IAAI,KAAK,EAAE;AACnC,UAAI,CAAC,aAAa,KAAK,cAAc,MAAM,SAAS,cAAc,IAAI;AACrE,eAAO,IAAI,KAAK,IAAI,IAAI;AAAA,MACzB;AAAA,IACD,CAAC;AAED,WAAO,MAAM,KAAK,OAAO,OAAO,CAAC,EAAE,KAAK,CAAC,GAAG,OAAO,EAAE,cAAc,MAAM,EAAE,cAAc,EAAE;AAAA,EAC5F;AAAA,EAEA,eAAe,KAAK,UAAU,QAAQ;AACrC,QAAI;AACH,UAAI,OAAO,KAAK,eAAe,YAAY;AAC1C,cAAM,SAAS,KAAK,WAAW,KAAK,MAAM;AAC1C,YAAI,OAAQ,QAAO;AAAA,MACpB,WAAW,OAAO,OAAO,cAAc,YAAY;AAClD,cAAM,SAAS,OAAO,UAAU,KAAK,MAAM;AAC3C,YAAI,OAAQ,QAAO;AAAA,MACpB;AAAA,IACD,SAAS,KAAK;AAAA,IAEd;AACA,WAAO;AAAA,EACR;AACD;AAEA,eAAe,OAAO,qBAAqB,eAAe;",
  "names": []
}
