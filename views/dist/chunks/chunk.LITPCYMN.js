var a=null,p=null,f=new Map,m=!1;function w(){if(m)return;m=!0;let t=()=>{f.forEach(({element:r,position:s},e)=>{r.isConnected&&!e.classList.contains("hidden")&&g(e,r,s)})};window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t,{passive:!0})}function L(t,r,s={}){let e=s.position||"top",i=s.default==="open";w();let c=document.getElementById("_template_tooltip");if(!c){console.warn("Tooltip template #_template_tooltip not found");return}let o=c.content.cloneNode(!0).querySelector("[data-role='tooltip']");if(!o){console.warn("Tooltip template missing [data-role='tooltip']");return}let d=o.querySelector("[data-role='tooltip-content']");d&&(d.textContent=r);let u=y();o.className=`${o.className} ${u}`;let l=o.querySelector("[data-role='tooltip-pointer']");if(l){let n=T(e);l.className=n}if(document.body.appendChild(o),i&&requestAnimationFrame(()=>{t.isConnected&&b(o,t,e)}),!i){let n=null;t.addEventListener("mouseenter",()=>{p&&(clearTimeout(p),p=null),a&&a!==o?(h(a),n=null,b(o,t,e),a=o):a||(n&&clearTimeout(n),n=setTimeout(()=>{b(o,t,e),a=o,n=null},80))}),t.addEventListener("mouseleave",()=>{n&&(clearTimeout(n),n=null),p&&clearTimeout(p),p=setTimeout(()=>{a===o&&(h(o),a=null),p=null},450)})}}function b(t,r,s){t.style.position="absolute",t.classList.remove("hidden"),f.set(t,{element:r,position:s}),requestAnimationFrame(()=>{g(t,r,s),t.classList.remove("opacity-0"),t.classList.add("opacity-100")})}function g(t,r,s){let e=r.getBoundingClientRect(),i=t.getBoundingClientRect(),c=8,o=window.scrollY||document.documentElement.scrollTop,d=window.scrollX||document.documentElement.scrollLeft,u,l;switch(s){case"bottom":u=e.bottom+c+o,l=e.left+e.width/2-i.width/2+d;break;case"left":u=e.top+e.height/2-i.height/2+o,l=e.left-i.width-c+d;break;case"right":u=e.top+e.height/2-i.height/2+o,l=e.right+c+d;break;case"top":default:u=e.top-i.height-c+o,l=e.left+e.width/2-i.width/2+d}t.style.top=u+"px",t.style.left=l+"px"}function h(t){t.classList.remove("visible","opacity-100"),t.classList.add("hidden","opacity-0"),f.delete(t)}function y(){return"absolute px-2 py-1 text-xs rounded-lg shadow-lg z-[9999] transition-opacity duration-200 block max-w-sm"}function T(t){let r="absolute w-0 h-0";switch(t){case"bottom":return`${r} -top-2 left-1/2 -translate-x-1/2 border-l-8 border-r-8 border-b-8 border-l-transparent border-r-transparent border-b-orange-700`;case"left":return`${r} -right-2 top-1/2 -translate-y-1/2 border-t-8 border-b-8 border-l-8 border-t-transparent border-b-transparent border-l-orange-700`;case"right":return`${r} -left-2 top-1/2 -translate-y-1/2 border-t-8 border-b-8 border-r-8 border-t-transparent border-b-transparent border-r-orange-700`;case"top":default:return`${r} -bottom-2 left-1/2 -translate-x-1/2 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-orange-700`}}export{L as a};
