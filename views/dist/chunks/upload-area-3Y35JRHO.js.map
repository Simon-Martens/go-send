{
  "version": 3,
  "sources": ["../../src/ui/upload-area-empty.mjs", "../../src/ui/upload-area-list.mjs", "../../src/ui/upload-area-uploading.mjs", "../../src/qrcode.mjs", "../../src/ui/upload-area-complete.mjs", "../../src/ui/upload-area-error.mjs", "../../src/ui/upload-area.mjs"],
  "sourcesContent": ["import { translateElement } from \"../utils.mjs\";\n\nclass UploadEmptyView extends HTMLElement {\n  constructor() {\n    super();\n    this._afterFrame = null;\n    this._fileInput = null;\n    this._dragCounter = 0;\n    this._dropZone = null;\n    this._boundFileSelect = this.handleFileSelect.bind(this);\n    this._boundDragEnter = this.handleDragEnter.bind(this);\n    this._boundDragOver = this.handleDragOver.bind(this);\n    this._boundDragLeave = this.handleDragLeave.bind(this);\n    this._boundDrop = this.handleDrop.bind(this);\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  disconnectedCallback() {\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n      this._afterFrame = null;\n    }\n    if (this._fileInput) {\n      this._fileInput.removeEventListener(\"change\", this._boundFileSelect);\n      this._fileInput = null;\n    }\n    this._removeDragListeners();\n  }\n\n  render() {\n    const template = document.getElementById(\"upload-view-empty\");\n    if (!template) {\n      console.error(\"Template #upload-view-empty not found\");\n      return;\n    }\n\n    const fragment = template.content.cloneNode(true);\n    this.innerHTML = \"\";\n    this.appendChild(fragment);\n\n    this._fileInput = this.querySelector(\"#file-upload\");\n    this._errorEl = this.querySelector('[data-role=\"error\"]');\n    this._dropZone = this.querySelector(\".border-2.border-dashed\");\n\n    if (this._fileInput) {\n      this._fileInput.addEventListener(\"change\", this._boundFileSelect);\n    }\n\n    this._setupDragListeners();\n\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n    }\n\n    this._afterFrame = requestAnimationFrame(() => {\n      this._afterFrame = null;\n      translateElement(this);\n    });\n  }\n\n  setConfig({ orClickText, addFilesLabel, noticeHTML } = {}) {\n    if (typeof orClickText === \"string\") {\n      const orClickEl = this.querySelector(\"#orClickWithSize\");\n      if (orClickEl) {\n        orClickEl.textContent = orClickText;\n      }\n    }\n    if (typeof addFilesLabel === \"string\") {\n      const addLabel = this.querySelector(\"#addFilesButton\");\n      if (addLabel) {\n        addLabel.textContent = addFilesLabel;\n      }\n    }\n    const noticeEl = this.querySelector(\"#upload-area-default-notice\");\n    if (noticeEl) {\n      if (noticeHTML) {\n        noticeEl.innerHTML = noticeHTML;\n        noticeEl.classList.remove(\"hidden\");\n      } else {\n        noticeEl.textContent = \"\";\n        noticeEl.classList.add(\"hidden\");\n      }\n    }\n  }\n\n  focusFileInput() {\n    if (this._fileInput) {\n      this._fileInput.focus();\n    }\n  }\n\n  handleFileSelect(event) {\n    const files = Array.from(event.target.files || []);\n    if (files.length === 0) {\n      return;\n    }\n\n    this.dispatchEvent(\n      new CustomEvent(\"addfiles\", {\n        bubbles: true,\n        detail: { files },\n      }),\n    );\n\n    event.target.value = \"\";\n  }\n\n  setError(message) {\n    if (!this._errorEl) {\n      return;\n    }\n    if (message) {\n      this._errorEl.textContent = message;\n      this._errorEl.classList.remove(\"hidden\");\n    } else {\n      this._errorEl.textContent = \"\";\n      this._errorEl.classList.add(\"hidden\");\n    }\n  }\n\n  _setupDragListeners() {\n    if (!this._dropZone) {\n      return;\n    }\n    this._dropZone.addEventListener(\"dragenter\", this._boundDragEnter);\n    this._dropZone.addEventListener(\"dragover\", this._boundDragOver);\n    this._dropZone.addEventListener(\"dragleave\", this._boundDragLeave);\n    this._dropZone.addEventListener(\"drop\", this._boundDrop);\n  }\n\n  _removeDragListeners() {\n    if (!this._dropZone) {\n      return;\n    }\n    this._dropZone.removeEventListener(\"dragenter\", this._boundDragEnter);\n    this._dropZone.removeEventListener(\"dragover\", this._boundDragOver);\n    this._dropZone.removeEventListener(\"dragleave\", this._boundDragLeave);\n    this._dropZone.removeEventListener(\"drop\", this._boundDrop);\n    this._dropZone = null;\n  }\n\n  handleDragEnter(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter++;\n\n    // Only show visual feedback when dragging files\n    if (event.dataTransfer && event.dataTransfer.types.includes(\"Files\")) {\n      this._showDragFeedback();\n    }\n  }\n\n  handleDragOver(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  handleDragLeave(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter--;\n\n    if (this._dragCounter === 0) {\n      this._hideDragFeedback();\n    }\n  }\n\n  handleDrop(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter = 0;\n    this._hideDragFeedback();\n\n    const files = Array.from(event.dataTransfer?.files || []);\n    if (files.length > 0) {\n      this.dispatchEvent(\n        new CustomEvent(\"addfiles\", {\n          bubbles: true,\n          detail: { files },\n        }),\n      );\n    }\n  }\n\n  _showDragFeedback() {\n    if (!this._dropZone) {\n      return;\n    }\n    this._dropZone.classList.remove(\"border-grey-transparent\", \"dark:border-grey-60\");\n    this._dropZone.classList.add(\"border-primary\", \"bg-blue-10\", \"dark:bg-blue-90\", \"dark:border-blue-40\");\n  }\n\n  _hideDragFeedback() {\n    if (!this._dropZone) {\n      return;\n    }\n    this._dropZone.classList.remove(\"border-primary\", \"bg-blue-10\", \"dark:bg-blue-90\", \"dark:border-blue-40\");\n    this._dropZone.classList.add(\"border-grey-transparent\", \"dark:border-grey-60\");\n  }\n}\n\ncustomElements.define(\"upload-empty-view\", UploadEmptyView);\n", "import { bytes, secondsToL10nId, translateElement } from \"../utils.mjs\";\n\nclass UploadListView extends HTMLElement {\n  constructor() {\n    super();\n\n    this.elements = {\n      fileInput: null,\n      fileList: null,\n      uploadButton: null,\n      totalSize: null,\n      fileCount: null,\n      addMoreLabel: null,\n      expiryContainer: null,\n      downloadLimit: null,\n      timeLimit: null,\n      orLabel: null,\n      expiryLabelTop: null,\n      expiryLabelBottom: null,\n      passwordToggle: null,\n      passwordToggleIcon: null,\n      passwordField: null,\n      passwordInput: null,\n      passwordHint: null,\n      passwordVisibilityButton: null,\n      passwordVisibilityIcon: null,\n      dropZone: null,\n      archiveNameContainer: null,\n      archiveNameInput: null,\n    };\n\n    this._afterFrame = null;\n    this._files = [];\n    this._limits = null;\n    this._defaults = null;\n    this._maxFiles = 0;\n    this._translate = null;\n    this._password = \"\";\n    this._passwordEnabled = false;\n    this._timeLimit = null;\n    this._downloadLimit = null;\n    this._errorMessage = null;\n    this._dragCounter = 0;\n\n    this._boundFileSelect = this.handleFileSelect.bind(this);\n    this._boundUploadClick = this.handleUploadClick.bind(this);\n    this._boundTimeChange = this.handleTimeLimitChange.bind(this);\n    this._boundDownloadChange = this.handleDownloadLimitChange.bind(this);\n    this._boundPasswordInput = this.handlePasswordInput.bind(this);\n    this._boundPasswordToggle = null;\n    this._boundPasswordVisibility = null;\n    this._boundDragEnter = this.handleDragEnter.bind(this);\n    this._boundDragOver = this.handleDragOver.bind(this);\n    this._boundDragLeave = this.handleDragLeave.bind(this);\n    this._boundDrop = this.handleDrop.bind(this);\n    this._boundArchiveNameInput = this.handleArchiveNameInput.bind(this);\n    this._archiveNameValid = true;\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  disconnectedCallback() {\n    this._detachListeners();\n    this._removeDragListeners();\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n      this._afterFrame = null;\n    }\n  }\n\n  render() {\n    const template = document.getElementById(\"upload-view-list\");\n    if (!template) {\n      console.error(\"Template #upload-view-list not found\");\n      return;\n    }\n\n    this._detachListeners();\n\n    const fragment = template.content.cloneNode(true);\n    this.innerHTML = \"\";\n    this.appendChild(fragment);\n\n    this.elements.fileInput = this.querySelector(\"#file-upload\");\n    this.elements.fileList = this.querySelector('[data-role=\"file-list\"]');\n    this.elements.uploadButton = this.querySelector('[data-action=\"upload\"]');\n    this.elements.totalSize = this.querySelector(\n      '[data-role=\"total-size-value\"]',\n    );\n    this.elements.fileCount = this.querySelector(\n      '[data-role=\"file-count-value\"]',\n    );\n    this.elements.addMoreLabel = this.querySelector(\n      '[data-role=\"add-more-label\"]',\n    );\n    this.elements.error = this.querySelector('[data-role=\"error\"]');\n    this.elements.dropZone = this.querySelector(\".flex.flex-col\");\n\n    const optionsContainer = this.querySelector(\"#upload-area-options-slot\");\n    if (optionsContainer) {\n      const optionsTemplate = document.getElementById(\n        \"upload-view-list-options\",\n      );\n      if (optionsTemplate && optionsContainer.childElementCount === 0) {\n        optionsContainer.appendChild(optionsTemplate.content.cloneNode(true));\n      }\n      this.elements.expiryContainer = optionsContainer.querySelector(\n        '[data-role=\"expiry-container\"]',\n      );\n      this.elements.downloadLimit = optionsContainer.querySelector(\n        'select[data-role=\"download-limit\"]',\n      );\n      this.elements.timeLimit = optionsContainer.querySelector(\n        'select[data-role=\"time-limit\"]',\n      );\n      this.elements.orLabel = optionsContainer.querySelector(\n        '[data-role=\"or-label\"]',\n      );\n      this.elements.expiryLabelTop = optionsContainer.querySelector(\n        '[data-role=\"expiry-label-top\"]',\n      );\n      this.elements.expiryLabelBottom = optionsContainer.querySelector(\n        '[data-role=\"expiry-label-bottom\"]',\n      );\n      this.elements.passwordToggle = optionsContainer.querySelector(\n        '[data-role=\"password-toggle\"]',\n      );\n      this.elements.passwordToggleIcon = optionsContainer.querySelector(\n        '[data-role=\"password-toggle-icon\"]',\n      );\n      this.elements.passwordField = optionsContainer.querySelector(\n        '[data-role=\"password-field\"]',\n      );\n      this.elements.passwordInput = optionsContainer.querySelector(\n        '[data-role=\"password\"]',\n      );\n      this.elements.passwordHint = optionsContainer.querySelector(\n        '[data-role=\"password-hint\"]',\n      );\n      this.elements.passwordVisibilityButton = optionsContainer.querySelector(\n        '[data-role=\"password-visibility\"]',\n      );\n      this.elements.passwordVisibilityIcon = optionsContainer.querySelector(\n        '[data-role=\"password-visibility-icon\"]',\n      );\n      this.elements.archiveNameContainer = optionsContainer.querySelector(\n        '[data-role=\"archive-name-container\"]',\n      );\n      this.elements.archiveNameInput = optionsContainer.querySelector(\n        '[data-role=\"archive-name\"]',\n      );\n    }\n\n    this._attachBaseListeners();\n    this._setupDragListeners();\n\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n    }\n    this._afterFrame = requestAnimationFrame(() => {\n      this._afterFrame = null;\n      translateElement(this);\n      this.applyPasswordState();\n    });\n  }\n\n  setState({\n    files = [],\n    totalSize = 0,\n    maxFiles = 0,\n    limits = null,\n    defaults = null,\n    translate = null,\n    timeLimit = null,\n    downloadLimit = null,\n    password = \"\",\n  } = {}) {\n    this._files = Array.from(files);\n    this._maxFiles = maxFiles || 0;\n    this._limits = limits;\n    this._defaults = defaults;\n    this._translate = translate;\n\n    if (typeof timeLimit === \"number\" && !Number.isNaN(timeLimit)) {\n      this._timeLimit = timeLimit;\n    }\n\n    if (typeof downloadLimit === \"number\" && !Number.isNaN(downloadLimit)) {\n      this._downloadLimit = downloadLimit;\n    }\n\n    const hasServerPassword =\n      typeof password === \"string\" && password.length > 0;\n    if (this._files.length === 0) {\n      this._passwordEnabled = false;\n      this._password = \"\";\n    } else if (hasServerPassword) {\n      this._passwordEnabled = true;\n      this._password = password;\n    } else if (password === null && !this._passwordEnabled) {\n      this._password = \"\";\n    }\n\n    const resolvedTotalSize =\n      totalSize || this._files.reduce((sum, file) => sum + (file.size || 0), 0);\n\n    this._renderFileList();\n    this._updateFileCount();\n    this._updateTotalSize(resolvedTotalSize);\n    this._renderExpiryControls();\n    this._updateOptionValues();\n    this._updateStaticLabels(resolvedTotalSize);\n    this._updateArchiveNameVisibility();\n    this.applyPasswordState();\n    this.updatePasswordHint(this._password.length);\n    this.setError(this._errorMessage);\n    this._updateUploadButtonState();\n  }\n\n  updateTotalSize(totalSize) {\n    this._updateTotalSize(totalSize);\n  }\n\n  setUploadEnabled(enabled) {\n    if (this.elements.uploadButton) {\n      this.elements.uploadButton.disabled = !enabled;\n    }\n  }\n\n  updateProgress() {}\n\n  updateProgressText() {}\n\n  _renderFileList() {\n    if (!this.elements.fileList) {\n      return;\n    }\n\n    this.elements.fileList.innerHTML = \"\";\n\n    const template = document.getElementById(\"upload-view-list-item\");\n    if (!template) {\n      console.error(\"Template #upload-view-list-item not found\");\n      return;\n    }\n\n    this._files.forEach((file, index) => {\n      const fragment = template.content.cloneNode(true);\n      const item = fragment.querySelector(\"li\");\n      const nameEl = fragment.querySelector('[data-role=\"file-name\"]');\n      const metaEl = fragment.querySelector('[data-role=\"file-meta\"]');\n      const removeButton = fragment.querySelector('[data-action=\"remove\"]');\n      const srLabel = fragment.querySelector('[data-role=\"remove-label\"]');\n      const iconEl = fragment.querySelector('[data-role=\"file-icon\"]');\n\n      if (nameEl) {\n        nameEl.textContent = file.name || \"Untitled\";\n      }\n\n      if (metaEl) {\n        const path = file.webkitRelativePath || \"\";\n        const sizeLabel = bytes(file.size || 0);\n        metaEl.textContent = path ? `${sizeLabel} \u2022 ${path}` : sizeLabel;\n      }\n\n      // Set icon based on file type\n      if (iconEl && file.name) {\n        const fileName = file.name.toLowerCase();\n        if (fileName.endsWith(\".zip\")) {\n          iconEl.className =\n            \"ri-folder-6-line h-8 w-8 flex-shrink-0 text-primary mr-3 text-3xl leading-8\";\n        }\n      }\n\n      if (srLabel) {\n        srLabel.textContent = this._translateText(\n          \"deleteButtonHover\",\n          \"Remove file\",\n        );\n      }\n\n      if (removeButton) {\n        removeButton.dataset.index = String(index);\n        removeButton.addEventListener(\"click\", (event) =>\n          this.handleRemoveClick(event),\n        );\n      }\n\n      if (item) {\n        this.elements.fileList.appendChild(fragment);\n      }\n    });\n  }\n\n  _renderExpiryControls() {\n    const container = this.elements.expiryContainer;\n    const downloadSelect = this.elements.downloadLimit;\n    const timeSelect = this.elements.timeLimit;\n    if (!container || !downloadSelect || !timeSelect) {\n      return;\n    }\n\n    this._detachOptionListeners();\n\n    const downloadToken = \"__DOWNLOAD__\";\n    const timeToken = \"__TIMESPAN__\";\n    const fallback = `Expires after ${downloadToken} ${this._translateText(\"or\", \"or\")} ${timeToken} ends`;\n\n    const translated = this._translateText(\"archiveExpiryInfo\", fallback, {\n      downloadCount: downloadToken,\n      timespan: timeToken,\n    });\n\n    const downloadSplit = translated.split(downloadToken);\n    const beforeDownload = downloadSplit[0] || \"\";\n    const afterDownloadRaw = downloadSplit[1] || \"\";\n    const timeSplit = afterDownloadRaw.split(timeToken);\n    const between = timeSplit[0] || \"\";\n    const afterTime = timeSplit[1] || \"\";\n\n    if (this.elements.expiryLabelTop) {\n      const labelText =\n        beforeDownload.trim() ||\n        this._translateText(\"expiresAfterLabel\", \"Expires after\");\n      this.elements.expiryLabelTop.textContent = labelText;\n    }\n    if (this.elements.orLabel) {\n      const orText = between.trim() || this._translateText(\"or\", \"or\");\n      this.elements.orLabel.textContent = orText;\n    }\n    if (this.elements.expiryLabelBottom) {\n      const suffixText =\n        afterTime.trim() || this._translateText(\"expiresAfterSuffix\", \"\");\n      this.elements.expiryLabelBottom.textContent = suffixText;\n    }\n\n    this._downloadLimit = this._populateSelect(\n      downloadSelect,\n      (this._defaults?.DOWNLOAD_COUNTS || []).filter((count) => {\n        const max = this._limits?.MAX_DOWNLOADS;\n        return max ? count <= max : true;\n      }),\n      this._downloadLimit,\n      (value) =>\n        this._translateText(\"downloadCount\", `${value}`, { num: value }),\n    );\n\n    this._timeLimit = this._populateSelect(\n      timeSelect,\n      (this._defaults?.EXPIRE_TIMES_SECONDS || []).filter((seconds) => {\n        const max = this._limits?.MAX_EXPIRE_SECONDS;\n        return max ? seconds <= max : true;\n      }),\n      this._timeLimit,\n      (value) => this._formatExpireOption(value),\n    );\n\n    this._attachOptionListeners();\n  }\n\n  _populateSelect(select, values, selected, formatter) {\n    if (!select) {\n      return selected;\n    }\n\n    const desired =\n      selected !== null && selected !== undefined ? String(selected) : null;\n    select.innerHTML = \"\";\n\n    values.forEach((value) => {\n      const option = document.createElement(\"option\");\n      option.value = String(value);\n      option.textContent = formatter(value);\n      select.appendChild(option);\n    });\n\n    if (\n      desired &&\n      Array.from(select.options).some((opt) => opt.value === desired)\n    ) {\n      select.value = desired;\n    } else if (select.options.length > 0) {\n      select.selectedIndex = 0;\n    }\n\n    return select.options.length > 0 ? Number(select.value) : selected;\n  }\n\n  _updateOptionValues() {\n    if (\n      this.elements.downloadLimit &&\n      this._downloadLimit !== null &&\n      this._downloadLimit !== undefined\n    ) {\n      const value = String(this._downloadLimit);\n      if (\n        Array.from(this.elements.downloadLimit.options).some(\n          (opt) => opt.value === value,\n        )\n      ) {\n        this.elements.downloadLimit.value = value;\n      }\n    }\n\n    if (\n      this.elements.timeLimit &&\n      this._timeLimit !== null &&\n      this._timeLimit !== undefined\n    ) {\n      const value = String(this._timeLimit);\n      if (\n        Array.from(this.elements.timeLimit.options).some(\n          (opt) => opt.value === value,\n        )\n      ) {\n        this.elements.timeLimit.value = value;\n      }\n    }\n\n    if (this.elements.passwordInput) {\n      this.elements.passwordInput.value = this._password || \"\";\n    }\n  }\n\n  _updateFileCount() {\n    if (!this.elements.fileCount) {\n      return;\n    }\n    const count = this._files.length;\n    const label = this._translateText(\n      \"fileCount\",\n      count === 1 ? \"1 file\" : `${count} files`,\n      { num: count },\n    );\n    const max = this._maxFiles\n      ? this._translateText(\"maxFilesPerArchive\", `Max ${this._maxFiles}`, {\n          num: this._maxFiles,\n        })\n      : \"\";\n    this.elements.fileCount.textContent = max ? `${label} \u2022 ${max}` : label;\n  }\n\n  _updateTotalSize(totalSize) {\n    if (!this.elements.totalSize) {\n      return;\n    }\n    const sizeLabel = bytes(totalSize || 0);\n    const translated = this._translateText(\"totalSize\", `${sizeLabel}`, {\n      size: sizeLabel,\n    });\n    this.elements.totalSize.textContent = translated;\n  }\n\n  _updateStaticLabels(totalSize) {\n    if (this.elements.addMoreLabel) {\n      this.elements.addMoreLabel.textContent = this._translateText(\n        \"addFilesButton\",\n        \"Add more files\",\n      );\n    }\n    if (this.elements.uploadButton) {\n      const uploadLabel = this._translateText(\"uploadButton\", \"Upload\");\n      const uploadSpan =\n        this.elements.uploadButton.querySelector(\"#uploadButton\");\n      if (uploadSpan) {\n        uploadSpan.textContent = uploadLabel;\n      } else {\n        this.elements.uploadButton.textContent = uploadLabel;\n      }\n    }\n    this._updateTotalSize(totalSize);\n  }\n\n  _updateArchiveNameVisibility() {\n    if (!this.elements.archiveNameContainer) {\n      return;\n    }\n\n    // Show archive name input only when there are multiple files\n    if (this._files.length > 1) {\n      const wasHidden =\n        this.elements.archiveNameContainer.classList.contains(\"hidden\");\n      this.elements.archiveNameContainer.classList.remove(\"hidden\");\n\n      // Translate elements if they're being shown for the first time\n      if (wasHidden) {\n        translateElement(this.elements.archiveNameContainer);\n      }\n\n      // Set default value if input is empty\n      if (\n        this.elements.archiveNameInput &&\n        !this.elements.archiveNameInput.value\n      ) {\n        this.elements.archiveNameInput.value = \"Send-Archive\";\n      }\n    } else {\n      this.elements.archiveNameContainer.classList.add(\"hidden\");\n      // Reset validation state when hiding (not needed for single file)\n      this._archiveNameValid = true;\n      this._showArchiveNameError(null);\n    }\n  }\n\n  _attachBaseListeners() {\n    if (this.elements.fileInput) {\n      this.elements.fileInput.addEventListener(\"change\", this._boundFileSelect);\n    }\n    if (this.elements.uploadButton) {\n      this.elements.uploadButton.addEventListener(\n        \"click\",\n        this._boundUploadClick,\n      );\n    }\n    if (this.elements.passwordToggle) {\n      this._boundPasswordToggle =\n        this._boundPasswordToggle || this.handlePasswordToggle.bind(this);\n      this.elements.passwordToggle.addEventListener(\n        \"click\",\n        this._boundPasswordToggle,\n      );\n    }\n    if (this.elements.passwordVisibilityButton) {\n      this._boundPasswordVisibility =\n        this._boundPasswordVisibility ||\n        this.togglePasswordVisibility.bind(this);\n      this.elements.passwordVisibilityButton.addEventListener(\n        \"click\",\n        this._boundPasswordVisibility,\n      );\n    }\n    if (this.elements.passwordInput) {\n      this.elements.passwordInput.addEventListener(\n        \"input\",\n        this._boundPasswordInput,\n      );\n    }\n    if (this.elements.archiveNameInput) {\n      this.elements.archiveNameInput.addEventListener(\n        \"input\",\n        this._boundArchiveNameInput,\n      );\n    }\n  }\n\n  _attachOptionListeners() {\n    if (this.elements.downloadLimit) {\n      this.elements.downloadLimit.addEventListener(\n        \"change\",\n        this._boundDownloadChange,\n      );\n    }\n    if (this.elements.timeLimit) {\n      this.elements.timeLimit.addEventListener(\"change\", this._boundTimeChange);\n    }\n  }\n\n  _detachOptionListeners() {\n    if (this.elements.downloadLimit) {\n      this.elements.downloadLimit.removeEventListener(\n        \"change\",\n        this._boundDownloadChange,\n      );\n    }\n    if (this.elements.timeLimit) {\n      this.elements.timeLimit.removeEventListener(\n        \"change\",\n        this._boundTimeChange,\n      );\n    }\n  }\n\n  _detachListeners() {\n    if (this.elements.fileInput) {\n      this.elements.fileInput.removeEventListener(\n        \"change\",\n        this._boundFileSelect,\n      );\n    }\n    if (this.elements.uploadButton) {\n      this.elements.uploadButton.removeEventListener(\n        \"click\",\n        this._boundUploadClick,\n      );\n    }\n    if (this.elements.passwordToggle && this._boundPasswordToggle) {\n      this.elements.passwordToggle.removeEventListener(\n        \"click\",\n        this._boundPasswordToggle,\n      );\n    }\n    if (\n      this.elements.passwordVisibilityButton &&\n      this._boundPasswordVisibility\n    ) {\n      this.elements.passwordVisibilityButton.removeEventListener(\n        \"click\",\n        this._boundPasswordVisibility,\n      );\n    }\n    if (this.elements.passwordInput) {\n      this.elements.passwordInput.removeEventListener(\n        \"input\",\n        this._boundPasswordInput,\n      );\n    }\n    if (this.elements.archiveNameInput) {\n      this.elements.archiveNameInput.removeEventListener(\n        \"input\",\n        this._boundArchiveNameInput,\n      );\n    }\n    this._detachOptionListeners();\n  }\n\n  _formatExpireOption(seconds) {\n    const l10n = secondsToL10nId(seconds);\n    const fallback = this._formatDuration(seconds);\n    return this._translateText(l10n.id, fallback, l10n);\n  }\n\n  _formatDuration(seconds) {\n    const MINUTE = 60;\n    const HOUR = 3600;\n    const DAY = 86400;\n\n    if (seconds % DAY === 0) {\n      const days = seconds / DAY;\n      return days === 1 ? \"1 day\" : `${days} days`;\n    }\n    if (seconds % HOUR === 0) {\n      const hours = seconds / HOUR;\n      return hours === 1 ? \"1 hour\" : `${hours} hours`;\n    }\n    if (seconds % MINUTE === 0) {\n      const minutes = seconds / MINUTE;\n      return minutes === 1 ? \"1 minute\" : `${minutes} minutes`;\n    }\n    return `${seconds} seconds`;\n  }\n\n  _translateText(key, fallback, params) {\n    try {\n      if (typeof this._translate === \"function\") {\n        const result = this._translate(key, params);\n        if (result) {\n          return result;\n        }\n      } else if (typeof window.translate === \"function\") {\n        const result = window.translate(key, params);\n        if (result) {\n          return result;\n        }\n      }\n    } catch (err) {\n      // ignore missing translation\n    }\n    return fallback;\n  }\n\n  updatePasswordHint(length) {\n    if (!this.elements.passwordHint) {\n      return;\n    }\n\n    if (length >= 4096) {\n      this.elements.passwordHint.textContent = this._translateText(\n        \"maxPasswordLength\",\n        \"Maximum password length\",\n        { length: 4096 },\n      );\n    } else {\n      this.elements.passwordHint.textContent = \"\";\n    }\n  }\n\n  handleFileSelect(event) {\n    const files = Array.from(event.target.files || []);\n    if (files.length === 0) {\n      return;\n    }\n\n    this.dispatchEvent(\n      new CustomEvent(\"addfiles\", {\n        bubbles: true,\n        detail: { files },\n      }),\n    );\n\n    event.target.value = \"\";\n  }\n\n  handleUploadClick(event) {\n    event.preventDefault();\n\n    // Validate archive name if multiple files\n    if (this._files.length > 1 && this.elements.archiveNameInput) {\n      const archiveName = this.elements.archiveNameInput.value;\n      const validationError = this._validateArchiveName(archiveName);\n\n      if (validationError) {\n        this._archiveNameValid = false;\n        this._showArchiveNameError(validationError);\n        this._updateUploadButtonState();\n        return;\n      }\n    }\n\n    this.dispatchEvent(\n      new CustomEvent(\"upload\", {\n        bubbles: true,\n      }),\n    );\n  }\n\n  handleRemoveClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const index = Number.parseInt(event.currentTarget.dataset.index, 10);\n    if (Number.isNaN(index) || index < 0 || index >= this._files.length) {\n      return;\n    }\n\n    const [file] = this._files.splice(index, 1);\n    this._renderFileList();\n    const total = this._files.reduce((sum, f) => sum + (f.size || 0), 0);\n    this._updateFileCount();\n    this._updateTotalSize(total);\n    this._updateArchiveNameVisibility();\n    this._updateUploadButtonState();\n\n    this.dispatchEvent(\n      new CustomEvent(\"removeupload\", {\n        bubbles: true,\n        detail: { file, index },\n      }),\n    );\n  }\n\n  handleTimeLimitChange(event) {\n    const value = Number.parseInt(event.target.value, 10);\n    if (Number.isNaN(value)) {\n      return;\n    }\n    this._timeLimit = value;\n    this.dispatchEvent(\n      new CustomEvent(\"updateoptions\", {\n        bubbles: true,\n        detail: { timeLimit: value },\n      }),\n    );\n  }\n\n  handleDownloadLimitChange(event) {\n    const value = Number.parseInt(event.target.value, 10);\n    if (Number.isNaN(value)) {\n      return;\n    }\n    this._downloadLimit = value;\n    this.dispatchEvent(\n      new CustomEvent(\"updateoptions\", {\n        bubbles: true,\n        detail: { downloadLimit: value },\n      }),\n    );\n  }\n\n  handlePasswordInput(event) {\n    this._password = event.target.value;\n    this._passwordEnabled = true;\n    this.updatePasswordHint(this._password.length);\n    this.dispatchEvent(\n      new CustomEvent(\"updateoptions\", {\n        bubbles: true,\n        detail: { password: this._password || null },\n      }),\n    );\n  }\n\n  handleArchiveNameInput(event) {\n    const archiveName = event.target.value;\n\n    // Validate the filename\n    const validationError = this._validateArchiveName(archiveName);\n\n    if (validationError) {\n      this._archiveNameValid = false;\n      this._showArchiveNameError(validationError);\n      this._updateUploadButtonState();\n      // Don't dispatch the update if invalid\n      return;\n    }\n\n    // Clear any previous error\n    this._archiveNameValid = true;\n    this._showArchiveNameError(null);\n    this._updateUploadButtonState();\n\n    // Dispatch the update with trimmed name\n    const trimmedName = archiveName.trim();\n    this.dispatchEvent(\n      new CustomEvent(\"updateoptions\", {\n        bubbles: true,\n        detail: { archiveName: trimmedName || null },\n      }),\n    );\n  }\n\n  _validateArchiveName(name) {\n    if (!name || !name.trim()) {\n      return null; // Empty is OK, will use default\n    }\n\n    const trimmed = name.trim();\n\n    // Forbidden characters across Windows, macOS, and Linux\n    // Windows: < > : \" / \\ | ? *\n    // macOS: : /\n    // Linux: /\n    const forbiddenCharsRegex = /[<>:\"/\\\\|?*]/;\n\n    if (forbiddenCharsRegex.test(trimmed)) {\n      return \"archiveNameInvalidChars\";\n    }\n\n    // Can't end with dot or space (Windows restriction)\n    if (/[.\\s]$/.test(trimmed)) {\n      return \"archiveNameInvalidEnd\";\n    }\n\n    // Windows reserved names (case-insensitive)\n    const reservedNames = /^(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])$/i;\n    const nameWithoutExt = trimmed.replace(/\\.zip$/i, \"\");\n\n    if (reservedNames.test(nameWithoutExt)) {\n      return \"archiveNameReserved\";\n    }\n\n    return null; // Valid\n  }\n\n  _showArchiveNameError(errorKey) {\n    if (!this.elements.archiveNameInput) {\n      return;\n    }\n\n    const errorEl = this.elements.archiveNameContainer?.querySelector(\n      '[data-role=\"archive-name-error\"]',\n    );\n    if (!errorEl) {\n      return;\n    }\n\n    if (errorKey) {\n      // Get translated error message\n      // Use window.translate directly to ensure we get the latest translations\n      let errorMessage = \"Invalid filename\";\n      try {\n        const translate = window.translate || this._translate;\n        if (typeof translate === \"function\") {\n          const translated = translate(errorKey);\n          if (translated && translated !== errorKey) {\n            errorMessage = translated;\n          }\n        }\n      } catch (err) {\n        console.warn(`Translation failed for key: ${errorKey}`, err);\n      }\n\n      errorEl.textContent = errorMessage;\n      errorEl.classList.remove(\"hidden\");\n\n      // Add error styling to input\n      this.elements.archiveNameInput.classList.add(\n        \"border-red-500\",\n        \"dark:border-red-500\",\n      );\n    } else {\n      errorEl.textContent = \"\";\n      errorEl.classList.add(\"hidden\");\n\n      // Remove error styling from input\n      this.elements.archiveNameInput.classList.remove(\n        \"border-red-500\",\n        \"dark:border-red-500\",\n      );\n    }\n  }\n\n  _updateUploadButtonState() {\n    if (!this.elements.uploadButton) {\n      return;\n    }\n\n    // Disable upload button if archive name is invalid and we have multiple files\n    const shouldDisable = this._files.length > 1 && !this._archiveNameValid;\n    this.elements.uploadButton.disabled = shouldDisable;\n  }\n\n  setError(message) {\n    this._errorMessage = message;\n    if (!this.elements.error) {\n      return;\n    }\n    if (message) {\n      this.elements.error.textContent = message;\n      this.elements.error.classList.remove(\"hidden\");\n    } else {\n      this.elements.error.textContent = \"\";\n      this.elements.error.classList.add(\"hidden\");\n    }\n  }\n\n  handlePasswordToggle(event) {\n    event.preventDefault();\n    if (!this.elements.passwordField || !this.elements.passwordToggleIcon) {\n      return;\n    }\n\n    this._passwordEnabled = !this._passwordEnabled;\n    if (!this._passwordEnabled) {\n      this._password = \"\";\n      this.updatePasswordHint(0);\n      this.dispatchEvent(\n        new CustomEvent(\"updateoptions\", {\n          bubbles: true,\n          detail: { password: null },\n        }),\n      );\n    }\n\n    this.applyPasswordState();\n\n    if (this._passwordEnabled && this.elements.passwordInput) {\n      this.elements.passwordInput.focus();\n    }\n  }\n\n  togglePasswordVisibility(event) {\n    event.preventDefault();\n    if (!this.elements.passwordInput || !this.elements.passwordVisibilityIcon) {\n      return;\n    }\n\n    const input = this.elements.passwordInput;\n    const isPassword = input.type === \"password\";\n    input.type = isPassword ? \"text\" : \"password\";\n    this.elements.passwordVisibilityIcon.src = isPassword\n      ? \"/eye-off.svg\"\n      : \"/eye.svg\";\n    input.focus();\n  }\n\n  applyPasswordState() {\n    if (!this.elements.passwordField || !this.elements.passwordToggleIcon) {\n      return;\n    }\n\n    // Get the lock icon from within the toggle icon container\n    const lockIcon = this.elements.passwordToggleIcon.querySelector(\n      '[data-role=\"lock-icon\"]',\n    );\n\n    if (this._passwordEnabled) {\n      this.elements.passwordField.removeAttribute(\"hidden\");\n\n      // Show lock icon\n      if (lockIcon) {\n        lockIcon.classList.remove(\"hidden\");\n      }\n\n      if (this.elements.passwordInput) {\n        this.elements.passwordInput.value = this._password || \"\";\n        this.elements.passwordInput.type = \"password\";\n      }\n      if (this.elements.passwordVisibilityIcon) {\n        this.elements.passwordVisibilityIcon.src = \"/eye.svg\";\n      }\n    } else {\n      this.elements.passwordField.setAttribute(\"hidden\", \"hidden\");\n\n      // Hide lock icon\n      if (lockIcon) {\n        lockIcon.classList.add(\"hidden\");\n      }\n\n      if (this.elements.passwordInput) {\n        this.elements.passwordInput.value = \"\";\n        this.elements.passwordInput.type = \"password\";\n      }\n      if (this.elements.passwordVisibilityIcon) {\n        this.elements.passwordVisibilityIcon.src = \"/eye.svg\";\n      }\n    }\n  }\n\n  _setupDragListeners() {\n    if (!this.elements.dropZone) {\n      return;\n    }\n    this.elements.dropZone.addEventListener(\"dragenter\", this._boundDragEnter);\n    this.elements.dropZone.addEventListener(\"dragover\", this._boundDragOver);\n    this.elements.dropZone.addEventListener(\"dragleave\", this._boundDragLeave);\n    this.elements.dropZone.addEventListener(\"drop\", this._boundDrop);\n  }\n\n  _removeDragListeners() {\n    if (!this.elements.dropZone) {\n      return;\n    }\n    this.elements.dropZone.removeEventListener(\n      \"dragenter\",\n      this._boundDragEnter,\n    );\n    this.elements.dropZone.removeEventListener(\"dragover\", this._boundDragOver);\n    this.elements.dropZone.removeEventListener(\n      \"dragleave\",\n      this._boundDragLeave,\n    );\n    this.elements.dropZone.removeEventListener(\"drop\", this._boundDrop);\n    this.elements.dropZone = null;\n  }\n\n  handleDragEnter(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter++;\n\n    // Only show visual feedback when dragging files\n    if (event.dataTransfer && event.dataTransfer.types.includes(\"Files\")) {\n      this._showDragFeedback();\n    }\n  }\n\n  handleDragOver(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  handleDragLeave(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter--;\n\n    if (this._dragCounter === 0) {\n      this._hideDragFeedback();\n    }\n  }\n\n  handleDrop(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this._dragCounter = 0;\n    this._hideDragFeedback();\n\n    const files = Array.from(event.dataTransfer?.files || []);\n    if (files.length > 0) {\n      this.dispatchEvent(\n        new CustomEvent(\"addfiles\", {\n          bubbles: true,\n          detail: { files },\n        }),\n      );\n    }\n  }\n\n  _showDragFeedback() {\n    if (!this.elements.dropZone) {\n      return;\n    }\n    this.elements.dropZone.classList.add(\n      \"ring-2\",\n      \"ring-primary\",\n      \"ring-inset\",\n      \"bg-blue-10\",\n      \"dark:bg-blue-90\",\n    );\n  }\n\n  _hideDragFeedback() {\n    if (!this.elements.dropZone) {\n      return;\n    }\n    this.elements.dropZone.classList.remove(\n      \"ring-2\",\n      \"ring-primary\",\n      \"ring-inset\",\n      \"bg-blue-10\",\n      \"dark:bg-blue-90\",\n    );\n  }\n}\n\ncustomElements.define(\"upload-list-view\", UploadListView);\n", "import { translateElement } from \"../utils.mjs\";\nimport { bytes } from \"../utils.mjs\";\n\nclass UploadUploadingView extends HTMLElement {\n  constructor() {\n    super();\n    this._afterFrame = null;\n    this._progressBar = null;\n    this._progressPercent = null;\n    this._boundHandleCancel = this.handleCancel.bind(this);\n  }\n\n  connectedCallback() {\n    this.render();\n    this.addEventListener(\"click\", this._boundHandleCancel);\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"click\", this._boundHandleCancel);\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n      this._afterFrame = null;\n    }\n  }\n\n  render() {\n    const template = document.getElementById(\"upload-view-uploading\");\n    if (!template) {\n      console.error(\"Template #upload-view-uploading not found\");\n      return;\n    }\n\n    const fragment = template.content.cloneNode(true);\n    this.innerHTML = \"\";\n    this.appendChild(fragment);\n\n    // Cache references to progress elements\n    this._progressBar = this.querySelector('[data-role=\"progress-bar\"]');\n    this._progressPercent = this.querySelector('[data-role=\"progress-percent\"]');\n\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n    }\n    this._afterFrame = requestAnimationFrame(() => {\n      this._afterFrame = null;\n      translateElement(this);\n    });\n  }\n\n  handleCancel(event) {\n    const target = event.target.closest('[data-action=\"cancel\"]');\n    if (!target) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    // Dispatch cancel event that bubbles up\n    this.dispatchEvent(new CustomEvent(\"cancel\", {\n      bubbles: true,\n      composed: true,\n    }));\n  }\n\n  /**\n   * Update upload progress\n   * @param {number} ratio - Progress ratio from 0.0 to 1.0\n   * @param {number} bytesUploaded - Bytes uploaded so far\n   * @param {number} totalBytes - Total bytes to upload\n   */\n  updateProgress(ratio, bytesUploaded, totalBytes) {\n    if (this._progressBar) {\n      this._progressBar.value = ratio;\n    }\n\n    if (this._progressPercent) {\n      const percent = Math.round(ratio * 100);\n      this._progressPercent.textContent = `${percent}%`;\n    }\n  }\n\n  /**\n   * Set file information\n   * @param {string} name - File name\n   * @param {number} size - File size in bytes\n   */\n  setFileInfo(name, size) {\n    const nameEl = this.querySelector('[data-role=\"file-name\"]');\n    const sizeEl = this.querySelector('[data-role=\"file-size\"]');\n\n    if (nameEl) {\n      nameEl.textContent = name;\n    }\n    if (sizeEl) {\n      sizeEl.textContent = bytes(size);\n    }\n  }\n\n  /**\n   * Set expiry information\n   * @param {string} expiryText - Formatted expiry text\n   */\n  setExpiryInfo(expiryText) {\n    const expiryEl = this.querySelector('[data-role=\"expiry-info\"]');\n    if (expiryEl) {\n      expiryEl.textContent = expiryText;\n    }\n  }\n}\n\ncustomElements.define(\"upload-uploading-view\", UploadUploadingView);\n", "//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = (function () {\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function (typeNumber, errorCorrectionLevel) {\n    var PAD0 = 0xec;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function (test, maskPattern) {\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = (function (moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      })(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function (row, col) {\n      for (var r = -1; r <= 7; r += 1) {\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if (\n            (0 <= r && r <= 6 && (c == 0 || c == 6)) ||\n            (0 <= c && c <= 6 && (r == 0 || r == 6)) ||\n            (2 <= r && r <= 4 && 2 <= c && c <= 4)\n          ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function () {\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function () {\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = r % 2 == 0;\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = c % 2 == 0;\n      }\n    };\n\n    var setupPositionAdjustPattern = function () {\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n        for (var j = 0; j < pos.length; j += 1) {\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n            for (var c = -2; c <= 2; c += 1) {\n              if (\n                r == -2 ||\n                r == 2 ||\n                c == -2 ||\n                c == 2 ||\n                (r == 0 && c == 0)\n              ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function (test) {\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = !test && ((bits >> i) & 1) == 1;\n        _modules[Math.floor(i / 3)][(i % 3) + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = !test && ((bits >> i) & 1) == 1;\n        _modules[(i % 3) + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function (test, maskPattern) {\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n        var mod = !test && ((bits >> i) & 1) == 1;\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n        var mod = !test && ((bits >> i) & 1) == 1;\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = !test;\n    };\n\n    var mapData = function (data, maskPattern) {\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n        if (col == 6) col -= 1;\n\n        while (true) {\n          for (var c = 0; c < 2; c += 1) {\n            if (_modules[row][col - c] == null) {\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ((data[byteIndex] >>> bitIndex) & 1) == 1;\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function (buffer, rsBlocks) {\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = modIndex >= 0 ? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function (typeNumber, errorCorrectionLevel, dataList) {\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(\n          data.getLength(),\n          QRUtil.getLengthInBits(data.getMode(), typeNumber),\n        );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw (\n          \"code length overflow. (\" +\n          buffer.getLengthInBits() +\n          \">\" +\n          totalDataCount * 8 +\n          \")\"\n        );\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function (data, mode) {\n      mode = mode || \"Byte\";\n\n      var newData = null;\n\n      switch (mode) {\n        case \"Numeric\":\n          newData = qrNumber(data);\n          break;\n        case \"Alphanumeric\":\n          newData = qrAlphaNum(data);\n          break;\n        case \"Byte\":\n          newData = qr8BitByte(data);\n          break;\n        case \"Kanji\":\n          newData = qrKanji(data);\n          break;\n        default:\n          throw \"mode:\" + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function (row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + \",\" + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function () {\n      return _moduleCount;\n    };\n\n    _this.make = function () {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(\n            typeNumber,\n            _errorCorrectionLevel,\n          );\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(\n              data.getLength(),\n              QRUtil.getLengthInBits(data.getMode(), typeNumber),\n            );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern());\n    };\n\n    _this.createTableTag = function (cellSize, margin) {\n      cellSize = cellSize || 2;\n      margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n\n      var qrHtml = \"\";\n\n      qrHtml += '<table style=\"';\n      qrHtml += \" border-width: 0px; border-style: none;\";\n      qrHtml += \" border-collapse: collapse;\";\n      qrHtml += \" padding: 0px; margin: \" + margin + \"px;\";\n      qrHtml += '\">';\n      qrHtml += \"<tbody>\";\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n        qrHtml += \"<tr>\";\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += \" border-width: 0px; border-style: none;\";\n          qrHtml += \" border-collapse: collapse;\";\n          qrHtml += \" padding: 0px; margin: 0px;\";\n          qrHtml += \" width: \" + cellSize + \"px;\";\n          qrHtml += \" height: \" + cellSize + \"px;\";\n          qrHtml += \" background-color: \";\n          qrHtml += _this.isDark(r, c) ? \"#000000\" : \"#ffffff\";\n          qrHtml += \";\";\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += \"</tr>\";\n      }\n\n      qrHtml += \"</tbody>\";\n      qrHtml += \"</table>\";\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function (cellSize, margin, alt, title) {\n      var opts = {};\n      if (typeof arguments[0] == \"object\") {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = typeof alt === \"string\" ? { text: alt } : alt || {};\n      alt.text = alt.text || null;\n      alt.id = alt.text ? alt.id || \"qrcode-description\" : null;\n\n      // Compose title property surrogate\n      title = typeof title === \"string\" ? { text: title } : title || {};\n      title.text = title.text || null;\n      title.id = title.text ? title.id || \"qrcode-title\" : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c,\n        mc,\n        r,\n        mr,\n        qrSvg = \"\",\n        rect;\n\n      rect =\n        \"l\" +\n        cellSize +\n        \",0 0,\" +\n        cellSize +\n        \" -\" +\n        cellSize +\n        \",0 0,-\" +\n        cellSize +\n        \"z \";\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable\n        ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"'\n        : \"\";\n      qrSvg += ' viewBox=\"0 0 ' + size + \" \" + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg +=\n        title.text || alt.text\n          ? ' role=\"img\" aria-labelledby=\"' +\n            escapeXml([title.id, alt.id].join(\" \").trim()) +\n            '\"'\n          : \"\";\n      qrSvg += \">\";\n      qrSvg += title.text\n        ? '<title id=\"' +\n          escapeXml(title.id) +\n          '\">' +\n          escapeXml(title.text) +\n          \"</title>\"\n        : \"\";\n      qrSvg += alt.text\n        ? '<description id=\"' +\n          escapeXml(alt.id) +\n          '\">' +\n          escapeXml(alt.text) +\n          \"</description>\"\n        : \"\";\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c)) {\n            mc = c * cellSize + margin;\n            qrSvg += \"M\" + mc + \",\" + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += \"</svg>\";\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function (cellSize, margin) {\n      cellSize = cellSize || 2;\n      margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function (x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor((x - min) / cellSize);\n          var r = Math.floor((y - min) / cellSize);\n          return _this.isDark(r, c) ? 0 : 1;\n        } else {\n          return 1;\n        }\n      });\n    };\n\n    _this.createImgTag = function (cellSize, margin, alt) {\n      cellSize = cellSize || 2;\n      margin = typeof margin == \"undefined\" ? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = \"\";\n      img += \"<img\";\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += \"/>\";\n\n      return img;\n    };\n\n    var escapeXml = function (s) {\n      var escaped = \"\";\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch (c) {\n          case \"<\":\n            escaped += \"&lt;\";\n            break;\n          case \">\":\n            escaped += \"&gt;\";\n            break;\n          case \"&\":\n            escaped += \"&amp;\";\n            break;\n          case '\"':\n            escaped += \"&quot;\";\n            break;\n          default:\n            escaped += c;\n            break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function (margin) {\n      var cellSize = 1;\n      margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        \"\u2588\u2588\": \"\u2588\",\n        \"\u2588 \": \"\u2580\",\n        \" \u2588\": \"\u2584\",\n        \"  \": \" \",\n      };\n\n      var blocksLastLineNoMargin = {\n        \"\u2588\u2588\": \"\u2580\",\n        \"\u2588 \": \"\u2580\",\n        \" \u2588\": \" \",\n        \"  \": \" \",\n      };\n\n      var ascii = \"\";\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = \"\u2588\";\n\n          if (\n            min <= x &&\n            x < max &&\n            min <= y &&\n            y < max &&\n            _this.isDark(r1, Math.floor((x - min) / cellSize))\n          ) {\n            p = \" \";\n          }\n\n          if (\n            min <= x &&\n            x < max &&\n            min <= y + 1 &&\n            y + 1 < max &&\n            _this.isDark(r2, Math.floor((x - min) / cellSize))\n          ) {\n            p += \" \";\n          } else {\n            p += \"\u2588\";\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii +=\n            margin < 1 && y + 1 >= max ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += \"\\n\";\n      }\n\n      if (size % 2 && margin > 0) {\n        return (\n          ascii.substring(0, ascii.length - size - 1) +\n          Array(size + 1).join(\"\u2580\")\n        );\n      }\n\n      return ascii.substring(0, ascii.length - 1);\n    };\n\n    _this.createASCII = function (cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = typeof margin == \"undefined\" ? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize + 1).join(\"\u2588\u2588\");\n      var black = Array(cellSize + 1).join(\"  \");\n\n      var ascii = \"\";\n      var line = \"\";\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor((y - min) / cellSize);\n        line = \"\";\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (\n            min <= x &&\n            x < max &&\n            min <= y &&\n            y < max &&\n            _this.isDark(r, Math.floor((x - min) / cellSize))\n          ) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + \"\\n\";\n        }\n      }\n\n      return ascii.substring(0, ascii.length - 1);\n    };\n\n    _this.renderTo2dContext = function (context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? \"black\" : \"white\";\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    default: function (s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    },\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs[\"default\"];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function (unicodeData, numChars) {\n    // create conversion map.\n\n    var unicodeMap = (function () {\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function () {\n        var b = bin.read();\n        if (b == -1) throw \"eof\";\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode((b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + \" != \" + numChars;\n      }\n\n      return unicodeMap;\n    })();\n\n    var unknownChar = \"?\".charCodeAt(0);\n\n    return function (s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == \"number\") {\n            if ((b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER: 1 << 0,\n    MODE_ALPHA_NUM: 1 << 1,\n    MODE_8BIT_BYTE: 1 << 2,\n    MODE_KANJI: 1 << 3,\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L: 1,\n    M: 0,\n    Q: 3,\n    H: 2,\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000: 0,\n    PATTERN001: 1,\n    PATTERN010: 2,\n    PATTERN011: 3,\n    PATTERN100: 4,\n    PATTERN101: 5,\n    PATTERN110: 6,\n    PATTERN111: 7,\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = (function () {\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170],\n    ];\n    var G15 =\n      (1 << 10) |\n      (1 << 8) |\n      (1 << 5) |\n      (1 << 4) |\n      (1 << 2) |\n      (1 << 1) |\n      (1 << 0);\n    var G18 =\n      (1 << 12) |\n      (1 << 11) |\n      (1 << 10) |\n      (1 << 9) |\n      (1 << 8) |\n      (1 << 5) |\n      (1 << 2) |\n      (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function (data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function (data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= G15 << (getBCHDigit(d) - getBCHDigit(G15));\n      }\n      return ((data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function (data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= G18 << (getBCHDigit(d) - getBCHDigit(G18));\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function (typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function (maskPattern) {\n      switch (maskPattern) {\n        case QRMaskPattern.PATTERN000:\n          return function (i, j) {\n            return (i + j) % 2 == 0;\n          };\n        case QRMaskPattern.PATTERN001:\n          return function (i, j) {\n            return i % 2 == 0;\n          };\n        case QRMaskPattern.PATTERN010:\n          return function (i, j) {\n            return j % 3 == 0;\n          };\n        case QRMaskPattern.PATTERN011:\n          return function (i, j) {\n            return (i + j) % 3 == 0;\n          };\n        case QRMaskPattern.PATTERN100:\n          return function (i, j) {\n            return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n          };\n        case QRMaskPattern.PATTERN101:\n          return function (i, j) {\n            return ((i * j) % 2) + ((i * j) % 3) == 0;\n          };\n        case QRMaskPattern.PATTERN110:\n          return function (i, j) {\n            return (((i * j) % 2) + ((i * j) % 3)) % 2 == 0;\n          };\n        case QRMaskPattern.PATTERN111:\n          return function (i, j) {\n            return (((i * j) % 3) + ((i + j) % 2)) % 2 == 0;\n          };\n\n        default:\n          throw \"bad maskPattern:\" + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function (errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0));\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function (mode, type) {\n      if (1 <= type && type < 10) {\n        // 1 - 9\n\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 10;\n          case QRMode.MODE_ALPHA_NUM:\n            return 9;\n          case QRMode.MODE_8BIT_BYTE:\n            return 8;\n          case QRMode.MODE_KANJI:\n            return 8;\n          default:\n            throw \"mode:\" + mode;\n        }\n      } else if (type < 27) {\n        // 10 - 26\n\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 12;\n          case QRMode.MODE_ALPHA_NUM:\n            return 11;\n          case QRMode.MODE_8BIT_BYTE:\n            return 16;\n          case QRMode.MODE_KANJI:\n            return 10;\n          default:\n            throw \"mode:\" + mode;\n        }\n      } else if (type < 41) {\n        // 27 - 40\n\n        switch (mode) {\n          case QRMode.MODE_NUMBER:\n            return 14;\n          case QRMode.MODE_ALPHA_NUM:\n            return 13;\n          case QRMode.MODE_8BIT_BYTE:\n            return 16;\n          case QRMode.MODE_KANJI:\n            return 12;\n          default:\n            throw \"mode:\" + mode;\n        }\n      } else {\n        throw \"type:\" + type;\n      }\n    };\n\n    _this.getLostPoint = function (qrcode) {\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c)) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += 3 + sameCount - 5;\n          }\n        }\n      }\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col)) count += 1;\n          if (qrcode.isDark(row + 1, col)) count += 1;\n          if (qrcode.isDark(row, col + 1)) count += 1;\n          if (qrcode.isDark(row + 1, col + 1)) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (\n            qrcode.isDark(row, col) &&\n            !qrcode.isDark(row, col + 1) &&\n            qrcode.isDark(row, col + 2) &&\n            qrcode.isDark(row, col + 3) &&\n            qrcode.isDark(row, col + 4) &&\n            !qrcode.isDark(row, col + 5) &&\n            qrcode.isDark(row, col + 6)\n          ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (\n            qrcode.isDark(row, col) &&\n            !qrcode.isDark(row + 1, col) &&\n            qrcode.isDark(row + 2, col) &&\n            qrcode.isDark(row + 3, col) &&\n            qrcode.isDark(row + 4, col) &&\n            !qrcode.isDark(row + 5, col) &&\n            qrcode.isDark(row + 6, col)\n          ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col)) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio =\n        Math.abs((100 * darkCount) / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  })();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = (function () {\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] =\n        EXP_TABLE[i - 4] ^\n        EXP_TABLE[i - 5] ^\n        EXP_TABLE[i - 6] ^\n        EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i]] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function (n) {\n      if (n < 1) {\n        throw \"glog(\" + n + \")\";\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function (n) {\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  })();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n    if (typeof num.length == \"undefined\") {\n      throw num.length + \"/\" + shift;\n    }\n\n    var _num = (function () {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    })();\n\n    var _this = {};\n\n    _this.getAt = function (index) {\n      return _num[index];\n    };\n\n    _this.getLength = function () {\n      return _num.length;\n    };\n\n    _this.multiply = function (e) {\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(\n            QRMath.glog(_this.getAt(i)) + QRMath.glog(e.getAt(j)),\n          );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function (e) {\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0)) - QRMath.glog(e.getAt(0));\n\n      var num = new Array(_this.getLength());\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i)) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  }\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = (function () {\n    var RS_BLOCK_TABLE = [\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16],\n    ];\n\n    var qrRSBlock = function (totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function (typeNumber, errorCorrectionLevel) {\n      switch (errorCorrectionLevel) {\n        case QRErrorCorrectionLevel.L:\n          return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n        case QRErrorCorrectionLevel.M:\n          return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n        case QRErrorCorrectionLevel.Q:\n          return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n        case QRErrorCorrectionLevel.H:\n          return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n        default:\n          return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function (typeNumber, errorCorrectionLevel) {\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == \"undefined\") {\n        throw (\n          \"bad rs block @ typeNumber:\" +\n          typeNumber +\n          \"/errorCorrectionLevel:\" +\n          errorCorrectionLevel\n        );\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount));\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  })();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function () {\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function () {\n      return _buffer;\n    };\n\n    _this.getAt = function (index) {\n      var bufIndex = Math.floor(index / 8);\n      return ((_buffer[bufIndex] >>> (7 - (index % 8))) & 1) == 1;\n    };\n\n    _this.put = function (num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit(((num >>> (length - i - 1)) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function () {\n      return _length;\n    };\n\n    _this.putBit = function (bit) {\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= 0x80 >>> _length % 8;\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function (data) {\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function () {\n      return _mode;\n    };\n\n    _this.getLength = function (buffer) {\n      return _data.length;\n    };\n\n    _this.write = function (buffer) {\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3)), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1)), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2)), 7);\n        }\n      }\n    };\n\n    var strToNum = function (s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i));\n      }\n      return num;\n    };\n\n    var chatToNum = function (c) {\n      if (\"0\" <= c && c <= \"9\") {\n        return c.charCodeAt(0) - \"0\".charCodeAt(0);\n      }\n      throw \"illegal char :\" + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function (data) {\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function () {\n      return _mode;\n    };\n\n    _this.getLength = function (buffer) {\n      return _data.length;\n    };\n\n    _this.write = function (buffer) {\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(getCode(s.charAt(i)) * 45 + getCode(s.charAt(i + 1)), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i)), 6);\n      }\n    };\n\n    var getCode = function (c) {\n      if (\"0\" <= c && c <= \"9\") {\n        return c.charCodeAt(0) - \"0\".charCodeAt(0);\n      } else if (\"A\" <= c && c <= \"Z\") {\n        return c.charCodeAt(0) - \"A\".charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n          case \" \":\n            return 36;\n          case \"$\":\n            return 37;\n          case \"%\":\n            return 38;\n          case \"*\":\n            return 39;\n          case \"+\":\n            return 40;\n          case \"-\":\n            return 41;\n          case \".\":\n            return 42;\n          case \"/\":\n            return 43;\n          case \":\":\n            return 44;\n          default:\n            throw \"illegal char :\" + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function (data) {\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function () {\n      return _mode;\n    };\n\n    _this.getLength = function (buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function (buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function (data) {\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs[\"SJIS\"];\n    if (!stringToBytes) {\n      throw \"sjis not supported.\";\n    }\n    !(function (c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ((test[0] << 8) | test[1]) != code) {\n        throw \"sjis not supported.\";\n      }\n    })(\"\\u53cb\", 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function () {\n      return _mode;\n    };\n\n    _this.getLength = function (buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function (buffer) {\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n        var c = ((0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9ffc) {\n          c -= 0x8140;\n        } else if (0xe040 <= c && c <= 0xebbf) {\n          c -= 0xc140;\n        } else {\n          throw \"illegal char at \" + (i + 1) + \"/\" + c;\n        }\n\n        c = ((c >>> 8) & 0xff) * 0xc0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw \"illegal char at \" + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function () {\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function (b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function (i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function (b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function (s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i));\n      }\n    };\n\n    _this.toByteArray = function () {\n      return _bytes;\n    };\n\n    _this.toString = function () {\n      var s = \"\";\n      s += \"[\";\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += \",\";\n        }\n        s += _bytes[i];\n      }\n      s += \"]\";\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function () {\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = \"\";\n\n    var _this = {};\n\n    var writeEncoded = function (b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f));\n    };\n\n    var encode = function (n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw \"n:\" + n;\n    };\n\n    _this.writeByte = function (n) {\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6));\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function () {\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen));\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - (_length % 3);\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += \"=\";\n        }\n      }\n    };\n\n    _this.toString = function () {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function (str) {\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function () {\n      while (_buflen < 8) {\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw \"unexpected end of file./\" + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == \"=\") {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/)) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0));\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8)) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function (c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw \"c:\" + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function (width, height) {\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function (x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function (out) {\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString(\"GIF87a\");\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(\",\");\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(\";\");\n    };\n\n    var bitOutputStream = function (out) {\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function (data, length) {\n        if (data >>> length != 0) {\n          throw \"length over\";\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ((data << _bitLength) | _bitBuffer));\n          length -= 8 - _bitLength;\n          data >>>= 8 - _bitLength;\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function () {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function (lzwMinCodeSize) {\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i));\n      }\n      table.add(String.fromCharCode(clearCode));\n      table.add(String.fromCharCode(endCode));\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c)) {\n          s = s + c;\n        } else {\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n            if (table.size() == 1 << bitLength) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function () {\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function (key) {\n        if (_this.contains(key)) {\n          throw \"dup key:\" + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function () {\n        return _size;\n      };\n\n      _this.indexOf = function (key) {\n        return _map[key];\n      };\n\n      _this.contains = function (key) {\n        return typeof _map[key] != \"undefined\";\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function (width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y));\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return \"data:image/gif;base64,\" + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n})();\n\n// multibyte support\n!(function () {\n  qrcode.stringToBytesFuncs[\"UTF-8\"] = function (s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i = 0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6), 0x80 | (charcode & 0x3f));\n        } else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(\n            0xe0 | (charcode >> 12),\n            0x80 | ((charcode >> 6) & 0x3f),\n            0x80 | (charcode & 0x3f),\n          );\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode =\n            0x10000 +\n            (((charcode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(\n            0xf0 | (charcode >> 18),\n            0x80 | ((charcode >> 12) & 0x3f),\n            0x80 | ((charcode >> 6) & 0x3f),\n            0x80 | (charcode & 0x3f),\n          );\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n})();\n\nexport default qrcode;\n", "import { translateElement, copyToClipboard } from \"../utils.mjs\";\nimport qrcode from \"../qrcode.mjs\";\n\nclass UploadCompleteView extends HTMLElement {\n  constructor() {\n    super();\n    this._afterFrame = null;\n    this._ownedFile = null;\n    this._boundCopy = this.handleCopy.bind(this);\n    this._boundOk = this.handleOk.bind(this);\n    this._boundLinkClick = this.handleLinkClick.bind(this);\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  disconnectedCallback() {\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n      this._afterFrame = null;\n    }\n    this.unbindEventHandlers();\n  }\n\n  render() {\n    const template = document.getElementById(\"upload-view-complete\");\n    if (!template) {\n      console.error(\"Template #upload-view-complete not found\");\n      return;\n    }\n\n    const fragment = template.content.cloneNode(true);\n    this.innerHTML = \"\";\n    this.appendChild(fragment);\n\n    this.bindEventHandlers();\n\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n    }\n\n    this._afterFrame = requestAnimationFrame(() => {\n      this._afterFrame = null;\n      translateElement(this);\n\n      // Re-apply file data after translation\n      if (this._ownedFile) {\n        this.setUploadedFile(this._ownedFile);\n      }\n    });\n  }\n\n  bindEventHandlers() {\n    const copyBtn = this.querySelector('[data-action=\"copy\"]');\n    const okBtn = this.querySelector('[data-action=\"ok\"]');\n    const linkInput = this.querySelector('[data-role=\"download-link\"]');\n\n    if (copyBtn) {\n      copyBtn.addEventListener(\"click\", this._boundCopy);\n    }\n    if (okBtn) {\n      okBtn.addEventListener(\"click\", this._boundOk);\n    }\n    if (linkInput) {\n      linkInput.addEventListener(\"click\", this._boundLinkClick);\n    }\n  }\n\n  unbindEventHandlers() {\n    const copyBtn = this.querySelector('[data-action=\"copy\"]');\n    const okBtn = this.querySelector('[data-action=\"ok\"]');\n    const linkInput = this.querySelector('[data-role=\"download-link\"]');\n\n    if (copyBtn) {\n      copyBtn.removeEventListener(\"click\", this._boundCopy);\n    }\n    if (okBtn) {\n      okBtn.removeEventListener(\"click\", this._boundOk);\n    }\n    if (linkInput) {\n      linkInput.removeEventListener(\"click\", this._boundLinkClick);\n    }\n  }\n\n  setUploadedFile(ownedFile) {\n    if (!ownedFile) {\n      console.warn(\"No ownedFile provided to setUploadedFile\");\n      return;\n    }\n\n    this._ownedFile = ownedFile;\n\n    // Set filename\n    const filenameEl = this.querySelector('[data-role=\"filename\"]');\n    if (filenameEl && ownedFile.name) {\n      filenameEl.textContent = ownedFile.name;\n    }\n\n    // Set download link\n    const linkInput = this.querySelector('[data-role=\"download-link\"]');\n    if (linkInput && ownedFile.url) {\n      linkInput.value = ownedFile.url;\n\n      // Auto-select the text after a brief delay to ensure rendering is complete\n      requestAnimationFrame(() => {\n        linkInput.select();\n        linkInput.focus();\n      });\n    }\n\n    // Generate QR code\n    this.generateQRCode(ownedFile.url);\n  }\n\n  generateQRCode(url) {\n    if (!url) {\n      return;\n    }\n\n    const container = this.querySelector('[data-role=\"qr-container\"]');\n    if (!container) {\n      return;\n    }\n\n    try {\n      const qr = qrcode(0, \"L\"); // Type 0 = auto-detect size, error correction level L\n      qr.addData(url);\n      qr.make();\n\n      const svg = qr.createSvgTag({\n        scalable: true,\n        cellSize: 4,\n        margin: 4,\n      });\n\n      container.innerHTML = svg;\n\n      // Style the SVG\n      const svgEl = container.querySelector(\"svg\");\n      if (svgEl) {\n        svgEl.style.maxWidth = \"200px\";\n        svgEl.style.height = \"auto\";\n      }\n    } catch (err) {\n      console.error(\"Error generating QR code:\", err);\n      container.innerHTML =\n        '<p class=\"text-sm text-grey-60\">QR code unavailable</p>';\n    }\n  }\n\n  handleCopy(event) {\n    event.preventDefault();\n\n    const linkInput = this.querySelector('[data-role=\"download-link\"]');\n    if (!linkInput || !linkInput.value) {\n      return;\n    }\n\n    const url = linkInput.value;\n    const success = copyToClipboard(url);\n\n    if (success) {\n      // Dispatch copy event to bubble up\n      this.dispatchEvent(\n        new CustomEvent(\"copy\", {\n          bubbles: true,\n          detail: { url },\n        }),\n      );\n\n      // Visual feedback - change icon to check\n      const copyBtn = event.currentTarget;\n      const iconEl = copyBtn.querySelector('[data-role=\"copy-icon\"]');\n\n      if (iconEl) {\n        const originalClass = iconEl.className;\n        iconEl.className = \"ri-check-line text-lg leading-4\";\n        setTimeout(() => {\n          iconEl.className = originalClass;\n        }, 2000);\n      }\n    }\n  }\n\n  handleOk(event) {\n    event.preventDefault();\n\n    // Dispatch event to signal completion\n    this.dispatchEvent(\n      new CustomEvent(\"complete-acknowledged\", {\n        bubbles: true,\n        detail: { file: this._ownedFile },\n      }),\n    );\n  }\n\n  handleLinkClick(event) {\n    // Select all text when clicking the input field\n    event.currentTarget.select();\n  }\n}\n\ncustomElements.define(\"upload-complete-view\", UploadCompleteView);\n", "import { translateElement } from \"../utils.mjs\";\n\nclass UploadErrorView extends HTMLElement {\n  constructor() {\n    super();\n    this._afterFrame = null;\n    this._errorMessage = null;\n    this._boundRetry = this.handleRetry.bind(this);\n    this._boundOk = this.handleOk.bind(this);\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  disconnectedCallback() {\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n      this._afterFrame = null;\n    }\n    this.unbindEventHandlers();\n  }\n\n  render() {\n    const template = document.getElementById(\"upload-view-error\");\n    if (!template) {\n      console.error(\"Template #upload-view-error not found\");\n      return;\n    }\n\n    const fragment = template.content.cloneNode(true);\n    this.innerHTML = \"\";\n    this.appendChild(fragment);\n\n    this.bindEventHandlers();\n\n    if (this._afterFrame !== null) {\n      cancelAnimationFrame(this._afterFrame);\n    }\n\n    this._afterFrame = requestAnimationFrame(() => {\n      this._afterFrame = null;\n      translateElement(this);\n\n      // Apply error message if set\n      if (this._errorMessage) {\n        this.setErrorMessage(this._errorMessage);\n      }\n    });\n  }\n\n  bindEventHandlers() {\n    const retryBtn = this.querySelector('[data-action=\"retry\"]');\n    const okBtn = this.querySelector('[data-action=\"ok\"]');\n\n    console.log(\"[UploadErrorView] Binding event handlers\", { retryBtn, okBtn });\n\n    if (retryBtn) {\n      retryBtn.addEventListener(\"click\", this._boundRetry);\n    }\n    if (okBtn) {\n      okBtn.addEventListener(\"click\", this._boundOk);\n    }\n  }\n\n  unbindEventHandlers() {\n    const retryBtn = this.querySelector('[data-action=\"retry\"]');\n    const okBtn = this.querySelector('[data-action=\"ok\"]');\n\n    if (retryBtn) {\n      retryBtn.removeEventListener(\"click\", this._boundRetry);\n    }\n    if (okBtn) {\n      okBtn.removeEventListener(\"click\", this._boundOk);\n    }\n  }\n\n  setErrorMessage(message) {\n    this._errorMessage = message;\n    const messageEl = this.querySelector('[data-role=\"error-message\"]');\n    if (messageEl && message) {\n      messageEl.textContent = message;\n    }\n  }\n\n  handleRetry(event) {\n    console.log(\"[UploadErrorView] Retry button clicked\");\n    event.preventDefault();\n\n    // Dispatch retry event to bubble up\n    this.dispatchEvent(\n      new CustomEvent(\"retry\", {\n        bubbles: true,\n      }),\n    );\n    console.log(\"[UploadErrorView] Retry event dispatched\");\n  }\n\n  handleOk(event) {\n    console.log(\"[UploadErrorView] OK button clicked\");\n    event.preventDefault();\n\n    // Dispatch dismiss event to bubble up\n    this.dispatchEvent(\n      new CustomEvent(\"error-dismiss\", {\n        bubbles: true,\n      }),\n    );\n    console.log(\"[UploadErrorView] Error-dismiss event dispatched\");\n  }\n}\n\ncustomElements.define(\"upload-error-view\", UploadErrorView);\n", "import { bytes, timeLeft } from \"../utils.mjs\";\nimport \"./upload-area-empty.mjs\";\nimport \"./upload-area-list.mjs\";\nimport \"./upload-area-uploading.mjs\";\nimport \"./upload-area-complete.mjs\";\nimport \"./upload-area-error.mjs\";\n\nconst VIEW_TAGS = {\n  empty: \"upload-empty-view\",\n  list: \"upload-list-view\",\n  uploading: \"upload-uploading-view\",\n  complete: \"upload-complete-view\",\n  error: \"upload-error-view\",\n};\n\nclass UploadAreaElement extends HTMLElement {\n  constructor() {\n    super();\n    this._currentView = null;\n    this._currentViewKey = null;\n    this._app = null;\n    this._errorMessage = null;\n    this._isComplete = false;\n    this._isError = false;\n    this._uploadedFile = null;\n    this._boundPaste = this.handlePaste.bind(this);\n  }\n\n  connectedCallback() {\n    if (!this._app) {\n      this._app = this.closest(\"go-send\");\n    }\n    window.addEventListener(\"paste\", this._boundPaste);\n    this.refresh();\n  }\n\n  disconnectedCallback() {\n    window.removeEventListener(\"paste\", this._boundPaste);\n    this._currentView = null;\n  }\n\n  refresh() {\n    const state = this._getAppState();\n    if (!state) {\n      return;\n    }\n\n    // If we're in error state, stay there until explicitly cleared\n    if (this._isError) {\n      this._ensureView(\"error\");\n      this._configureErrorView();\n      return;\n    }\n\n    // If we're in complete state, stay there until explicitly cleared\n    if (this._isComplete) {\n      this._ensureView(\"complete\");\n      this._configureCompleteView();\n      return;\n    }\n\n    const archive = state.archive;\n    const isUploading = Boolean(state.uploading && state.transfer);\n    const hasFiles = Boolean(archive && archive.files && archive.files.length > 0);\n\n    let desiredView = \"empty\";\n    if (isUploading) {\n      desiredView = \"uploading\";\n    } else if (hasFiles) {\n      desiredView = \"list\";\n    }\n\n    this._ensureView(desiredView);\n\n    switch (desiredView) {\n      case \"empty\":\n        this._configureEmptyView(state);\n        break;\n      case \"list\":\n        this._configureListView(state);\n        break;\n      case \"uploading\":\n        this._configureUploadingView(state);\n        break;\n      default:\n        break;\n    }\n\n    this._applyErrorMessage();\n  }\n\n  setUploadButtonEnabled(enabled) {\n    if (this._currentViewKey === \"list\" && this._currentView && typeof this._currentView.setUploadEnabled === \"function\") {\n      this._currentView.setUploadEnabled(enabled);\n    }\n  }\n\n  updateProgress(ratio, bytesUploaded, totalBytes) {\n    if (this._currentViewKey === \"uploading\" && this._currentView && typeof this._currentView.updateProgress === \"function\") {\n      this._currentView.updateProgress(ratio, bytesUploaded, totalBytes);\n    } else if (this._currentViewKey === \"list\" && this._currentView && typeof this._currentView.updateProgress === \"function\") {\n      this._currentView.updateProgress(ratio, bytesUploaded, totalBytes);\n    }\n  }\n\n  updateProgressText(text) {\n    if (this._currentViewKey === \"uploading\" && this._currentView && typeof this._currentView.setStatus === \"function\") {\n      this._currentView.setStatus(text);\n    } else if (this._currentViewKey === \"list\" && this._currentView && typeof this._currentView.updateProgressText === \"function\") {\n      this._currentView.updateProgressText(text);\n    }\n  }\n\n  ensureView(viewKey) {\n    this._ensureView(viewKey);\n  }\n\n  setUploadedFile(ownedFile) {\n    this._isComplete = true;\n    this._uploadedFile = ownedFile;\n\n    if (this._currentViewKey === \"complete\" && this._currentView && typeof this._currentView.setUploadedFile === \"function\") {\n      this._currentView.setUploadedFile(ownedFile);\n    }\n  }\n\n  clearComplete() {\n    this._isComplete = false;\n    this._uploadedFile = null;\n    this.refresh();\n  }\n\n  showErrorView(message) {\n    console.log(\"[UploadArea] showErrorView() called with message:\", message);\n    this._errorMessage = message;\n    this._isComplete = false;\n    this._isError = true;\n    this._ensureView(\"error\");\n    this._configureErrorView();\n    console.log(\"[UploadArea] Error view displayed\");\n  }\n\n  clearError() {\n    console.log(\"[UploadArea] clearError() called\");\n    this._isError = false;\n    this._errorMessage = null;\n    console.log(\"[UploadArea] Error state cleared, calling refresh()\");\n    this.refresh();\n  }\n\n  _configureErrorView() {\n    const view = this._currentView;\n    if (!view || typeof view.setErrorMessage !== \"function\") {\n      return;\n    }\n\n    if (this._errorMessage) {\n      view.setErrorMessage(this._errorMessage);\n    }\n  }\n\n  _ensureView(viewKey) {\n    if (this._currentViewKey === viewKey && this._currentView && this._currentView.parentElement === this) {\n      return;\n    }\n\n    this.innerHTML = \"\";\n    const tagName = VIEW_TAGS[viewKey] || VIEW_TAGS.empty;\n    const view = document.createElement(tagName);\n    this.appendChild(view);\n    this._currentView = view;\n    this._currentViewKey = viewKey;\n\n    this._applyErrorMessage();\n  }\n\n  _configureEmptyView(state) {\n    const view = this._currentView;\n    if (!view || typeof view.setConfig !== \"function\") {\n      return;\n    }\n\n    const limits = state.LIMITS || {};\n    const sizeLabel = bytes(limits.MAX_FILE_SIZE || 0);\n    const orClickText = this._translate(\"orClickWithSize\", `or click to select files (max ${sizeLabel})`, { size: sizeLabel }, state);\n    const addFilesLabel = this._translate(\"addFilesButton\", \"Select files\", null, state);\n    const noticeHTML = state.WEB_UI?.UPLOAD_AREA_NOTICE_HTML || \"\";\n\n    view.setConfig({ orClickText, addFilesLabel, noticeHTML });\n  }\n\n  _configureListView(state) {\n    const view = this._currentView;\n    if (!view || typeof view.setState !== \"function\") {\n      return;\n    }\n\n    const archive = state.archive;\n    const limits = state.LIMITS || {};\n    const defaults = state.DEFAULTS || {};\n\n    view.setState({\n      files: archive?.files || [],\n      totalSize: archive?.size || 0,\n      maxFiles: limits.MAX_FILES_PER_ARCHIVE || 0,\n      limits,\n      defaults,\n      translate: state.translate,\n      timeLimit: archive?.timeLimit ?? null,\n      downloadLimit: archive?.dlimit ?? null,\n      password: archive?.password ?? \"\",\n    });\n  }\n\n  showError(message) {\n    this._errorMessage = message || null;\n    this._applyErrorMessage();\n  }\n\n  _applyErrorMessage() {\n    if (this._currentView && typeof this._currentView.setError === \"function\") {\n      this._currentView.setError(this._errorMessage);\n    }\n  }\n\n  _configureUploadingView(state) {\n    const view = this._currentView;\n    if (!view) {\n      return;\n    }\n\n    const archive = state.archive;\n\n    // Set file name and size\n    if (archive && typeof view.setFileInfo === \"function\") {\n      view.setFileInfo(archive.name || \"File\", archive.size || 0);\n    }\n\n    // Set expiry info\n    if (archive && typeof view.setExpiryInfo === \"function\") {\n      const expiresAt = Date.now() + 500 + (archive.timeLimit || 0) * 1000;\n      const downloadsLeft = archive.dlimit || 1;\n      const timeLeftMs = expiresAt - Date.now();\n      const timeLeftData = timeLeft(timeLeftMs);\n\n      // Get translator\n      const translate = window.translate || ((key) => key);\n\n      // Build expiry text\n      const downloadCountText = translate(\"downloadCount\", { num: downloadsLeft });\n      const timeText = translate(timeLeftData.id, timeLeftData);\n      const expiryText = translate(\"archiveExpiryInfo\", {\n        downloadCount: downloadCountText,\n        timespan: timeText,\n      });\n\n      view.setExpiryInfo(expiryText);\n    }\n\n    // Update progress if transfer is active\n    const transfer = state.transfer;\n    if (transfer && typeof view.updateProgress === \"function\") {\n      const ratio = transfer.progressRatio || 0;\n      const [uploadedBytes = 0, totalBytes = 0] = transfer.progress || [];\n      view.updateProgress(ratio, uploadedBytes, totalBytes);\n    }\n  }\n\n  _configureCompleteView() {\n    const view = this._currentView;\n    if (!view || !this._uploadedFile) {\n      return;\n    }\n\n    if (typeof view.setUploadedFile === \"function\") {\n      view.setUploadedFile(this._uploadedFile);\n    }\n  }\n\n  _getAppState() {\n    if (!this._app || !this._app.state) {\n      this._app = this.closest(\"go-send\");\n    }\n    return this._app?.state || null;\n  }\n\n  _translate(key, fallback, params, state) {\n    const translator = state?.translate || window.translate;\n    if (typeof translator === \"function\") {\n      try {\n        const value = translator(key, params);\n        if (value) {\n          return value;\n        }\n      } catch (err) {\n        // ignore missing key\n      }\n    }\n    return fallback;\n  }\n\n  async handlePaste(event) {\n    const state = this._getAppState();\n    if (!state) {\n      return;\n    }\n\n    // Don't handle paste if uploading or if we're in complete state\n    if (state.uploading || this._isComplete) {\n      return;\n    }\n\n    // Don't handle paste if target is an input field\n    const targetType = event.target?.type;\n    if ([\"password\", \"text\", \"email\", \"textarea\"].includes(targetType)) {\n      return;\n    }\n\n    // Don't handle paste if target is a textarea element\n    if (event.target?.tagName === \"TEXTAREA\") {\n      return;\n    }\n\n    const items = Array.from(event.clipboardData?.items || []);\n    const transferFiles = items.filter(item => item.kind === \"file\");\n    const strings = items.filter(item => item.kind === \"string\");\n\n    if (transferFiles.length > 0) {\n      // Handle pasted files\n      const promises = transferFiles.map(async (item, i) => {\n        const blob = item.getAsFile();\n        if (!blob) {\n          return null;\n        }\n\n        // Try to get filename from associated string\n        const name = await this._getStringFromItem(strings[i]);\n        const file = new File([blob], name || blob.name || \"file\", { type: blob.type });\n        return file;\n      });\n\n      const files = (await Promise.all(promises)).filter(f => !!f);\n      if (files.length > 0) {\n        event.preventDefault();\n        this.dispatchEvent(\n          new CustomEvent(\"addfiles\", {\n            bubbles: true,\n            detail: { files },\n          }),\n        );\n      }\n    } else if (strings.length > 0) {\n      // Handle pasted text - create a text file\n      const textContent = await this._getStringFromItem(strings[0]);\n      if (textContent) {\n        event.preventDefault();\n        const file = new File([textContent], \"pasted.txt\", { type: \"text/plain\" });\n        this.dispatchEvent(\n          new CustomEvent(\"addfiles\", {\n            bubbles: true,\n            detail: { files: [file] },\n          }),\n        );\n      }\n    }\n  }\n\n  _getStringFromItem(item) {\n    if (!item) {\n      return Promise.resolve(\"\");\n    }\n    return new Promise(resolve => {\n      item.getAsString(resolve);\n    });\n  }\n}\n\ncustomElements.define(\"upload-area\", UploadAreaElement);\n"],
  "mappings": "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",
  "names": ["_a", "qrcode", "typeNumber", "errorCorrectionLevel", "bytes", "unicodeMap", "_num", "num", "_this", "data"]
}
