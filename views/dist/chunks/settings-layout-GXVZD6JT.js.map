{
  "version": 3,
  "sources": ["../../src/ui/settings-layout.mjs"],
  "sourcesContent": ["import storage from \"../storage.mjs\";\nimport UserSecrets, { OWNER_SECRET_VERSION, USER_ROLES } from \"../userSecrets.mjs\";\nimport { arrayToB64, translate, translateElement, copyToClipboard } from \"../utils.mjs\";\nimport {\n  DEFAULT_KDF_SETTINGS,\n  deriveKeyMaterial,\n  generateSalt,\n  normalizeKDFSettings,\n  serializeKDFSettings,\n  encodePublicKey,\n  encodeSalt,\n  getPublicKey,\n} from \"../crypto/credentials.mjs\";\nimport { x25519 } from \"@noble/curves/ed25519\";\nimport qrcode from \"../qrcode.mjs\";\n\nclass SettingsLayout extends HTMLElement {\n  constructor() {\n    super();\n    this._templateMounted = false;\n    this._categoryButtons = [];\n    this._panels = new Map();\n    this._activeCategory = \"account\";\n    this._boundCategoryClick = this._handleCategoryClick.bind(this);\n    this._boundPasswordSubmit = this._handlePasswordSubmit.bind(this);\n    this._boundProfileSubmit = this._handleProfileSubmit.bind(this);\n    this._boundClearSessions = this._handleClearSessions.bind(this);\n    this._boundDeactivateAccount = this._handleDeactivateAccount.bind(this);\n    this._boundKeyCopy = this._handleAccountKeyCopy.bind(this);\n    this._passwordSubmitButton = null;\n    this._passwordStatus = null;\n    this._passwordForm = null;\n    this._passwordStatusIcon = null;\n    this._passwordStatusText = null;\n    this._profileForm = null;\n    this._profileSubmitButton = null;\n    this._profileStatus = null;\n    this._profileStatusIcon = null;\n    this._profileStatusText = null;\n    this._accountStatus = null;\n    this._accountStatusIcon = null;\n    this._accountStatusText = null;\n    this._clearSessionsButton = null;\n    this._deactivateAccountButton = null;\n    this._accountKeyValue = null;\n    this._accountKeyCopyButton = null;\n    this._accountKeyStatus = null;\n    this._accountKeyStatusIcon = null;\n    this._accountKeyStatusText = null;\n\n    this._usersNavItem = null;\n    this._usersPanel = null;\n    this._usersHeader = null;\n    this._usersHeader = null;\n    this._isAdmin = false;\n    this._signupSections = new Map();\n    this._signupOverview = null;\n    this._signupDetail = null;\n    this._detailHeading = null;\n    this._detailDescription = null;\n    this._detailActiveCount = null;\n    this._detailStatusEl = null;\n    this._detailQrContainer = null;\n    this._detailLinkInput = null;\n    this._detailCopyButton = null;\n    this._detailCopyIcon = null;\n    this._detailBackButton = null;\n    this._detailFootnote = null;\n    this._activeDetailType = null;\n    this._activeDetailExpiresAt = null;\n    this._usersListSection = null;\n    this._usersListStatus = null;\n    this._usersListEmpty = null;\n    this._usersTableBody = null;\n    this._usersData = [];\n    this._usersLoading = false;\n    this._detailStatusIcon = null;\n    this._detailStatusText = null;\n    this._usersStatusIcon = null;\n    this._usersStatusText = null;\n    this._usersLoading = false;\n    this._boundGenerateClick = this._handleGenerateClick.bind(this);\n    this._boundRevokeClick = this._handleRevokeClick.bind(this);\n    this._boundDetailBack = this._handleDetailBack.bind(this);\n    this._boundDetailCopy = this._handleDetailCopy.bind(this);\n    this._boundDetailLinkFocus = this._handleDetailLinkFocus.bind(this);\n    this._boundUserAction = this._handleUserAction.bind(this);\n  }\n\n  connectedCallback() {\n    if (!this._templateMounted) {\n      const template = document.getElementById(\"settings-layout\");\n      if (!template) {\n        console.error(\"Template #settings-layout not found\");\n        return;\n      }\n      const content = template.content.cloneNode(true);\n      this.appendChild(content);\n      this._templateMounted = true;\n    }\n\n    this._isAdmin = this._checkIsAdmin();\n    this._cacheElements();\n    this._configureAccess();\n    translateElement(this);\n    this._attachListeners();\n    this._populateAccountForms();\n    if (!this._isAdmin && this._activeCategory === \"users\") {\n      this._activeCategory = \"account\";\n    }\n    this._selectCategory(this._activeCategory);\n\n    if (this._isAdmin) {\n      this._loadSignupOverview();\n    }\n  }\n\n  disconnectedCallback() {\n    this._detachListeners();\n    this._categoryButtons = [];\n    this._panels.clear();\n    this._signupSections.clear();\n    this._usersNavItem = null;\n    this._usersPanel = null;\n    this._isAdmin = false;\n    this._signupOverview = null;\n    this._signupDetail = null;\n    this._detailHeading = null;\n    this._detailDescription = null;\n    this._detailActiveCount = null;\n    this._detailStatusEl = null;\n    this._detailStatusIcon = null;\n    this._detailStatusText = null;\n    this._detailQrContainer = null;\n    this._detailLinkInput = null;\n    this._detailCopyButton = null;\n    this._detailCopyIcon = null;\n    this._detailBackButton = null;\n    this._detailFootnote = null;\n    this._activeDetailType = null;\n    this._activeDetailExpiresAt = null;\n    this._profileForm = null;\n    this._profileSubmitButton = null;\n    this._profileStatus = null;\n    this._profileStatusIcon = null;\n    this._profileStatusText = null;\n    this._passwordForm = null;\n    this._passwordSubmitButton = null;\n    this._passwordStatus = null;\n    this._passwordStatusIcon = null;\n    this._passwordStatusText = null;\n    this._accountStatus = null;\n    this._accountStatusIcon = null;\n    this._accountStatusText = null;\n    this._clearSessionsButton = null;\n    this._deactivateAccountButton = null;\n    this._accountKeyValue = null;\n    this._accountKeyCopyButton = null;\n    this._accountKeyStatus = null;\n    this._accountKeyStatusIcon = null;\n    this._accountKeyStatusText = null;\n    this._usersListSection = null;\n    this._usersListStatus = null;\n    this._usersStatusIcon = null;\n    this._usersStatusText = null;\n    this._usersListEmpty = null;\n    this._usersTableBody = null;\n    this._usersData = [];\n    this._usersLoading = false;\n  }\n\n  _cacheElements() {\n    const categoryList = this.querySelector('[data-role=\"category-list\"]');\n    if (categoryList) {\n      this._categoryButtons = Array.from(\n        categoryList.querySelectorAll(\"[data-category]\"),\n      );\n    }\n\n    const panels = this.querySelectorAll(\"[data-panel]\");\n    this._panels = new Map();\n    panels.forEach((panel) => {\n      this._panels.set(panel.getAttribute(\"data-panel\"), panel);\n    });\n\n    this._usersNavItem = this.querySelector(\"[data-role=\\\"users-nav\\\"]\");\n    this._usersPanel = this._panels.get(\"users\") || null;\n    this._usersHeader = this.querySelector('[data-role=\"users-header\"]');\n\n    this._profileForm = this.querySelector('[data-role=\"profile-form\"]');\n    this._profileSubmitButton = this.querySelector('[data-role=\"profile-submit\"]');\n    this._profileStatus = this.querySelector('[data-role=\"profile-status\"]');\n    this._profileStatusIcon = this.querySelector('[data-role=\"profile-status-icon\"]');\n    this._profileStatusText = this.querySelector('[data-role=\"profile-status-text\"]');\n\n    this._passwordForm = this.querySelector('[data-role=\"password-form\"]');\n    this._passwordSubmitButton = this.querySelector('[data-role=\"password-submit\"]');\n    this._passwordStatus = this.querySelector('[data-role=\"password-status\"]');\n    this._passwordStatusIcon = this.querySelector('[data-role=\"password-status-icon\"]');\n    this._passwordStatusText = this.querySelector('[data-role=\"password-status-text\"]');\n\n    this._accountStatus = this.querySelector('[data-role=\"account-status\"]');\n    this._accountStatusIcon = this.querySelector('[data-role=\"account-status-icon\"]');\n    this._accountStatusText = this.querySelector('[data-role=\"account-status-text\"]');\n    this._clearSessionsButton = this.querySelector('[data-role=\"account-clear-sessions\"]');\n    this._deactivateAccountButton = this.querySelector('[data-role=\"account-deactivate\"]');\n    this._accountKeyValue = this.querySelector('[data-role=\"account-key-value\"]');\n    this._accountKeyCopyButton = this.querySelector('[data-role=\"account-key-copy\"]');\n    this._accountKeyStatus = this.querySelector('[data-role=\"account-key-status\"]');\n    this._accountKeyStatusIcon = this.querySelector('[data-role=\"account-key-status-icon\"]');\n    this._accountKeyStatusText = this.querySelector('[data-role=\"account-key-status-text\"]');\n\n    this._signupOverview = this.querySelector('[data-role=\"signup-overview\"]');\n    this._signupDetail = this.querySelector('[data-role=\"signup-detail\"]');\n    this._detailHeading = this.querySelector('[data-role=\"detail-heading\"]');\n    this._detailDescription = this.querySelector('[data-role=\"detail-description\"]');\n    this._detailActiveCount = this.querySelector('[data-role=\"detail-active-count\"]');\n    this._detailStatusEl = this.querySelector('[data-role=\"detail-status\"]');\n    this._detailStatusIcon = this.querySelector('[data-role=\"detail-status-icon\"]');\n    this._detailStatusText = this.querySelector('[data-role=\"detail-status-text\"]');\n    this._detailQrContainer = this.querySelector('[data-role=\"detail-qr\"]');\n    this._detailLinkInput = this.querySelector('[data-role=\"detail-link\"]');\n    this._detailCopyButton = this.querySelector('[data-role=\"detail-copy\"]');\n    this._detailCopyIcon = this.querySelector('[data-role=\"detail-copy-icon\"]');\n    this._detailBackButton = this.querySelector('[data-role=\"detail-back\"]');\n    this._detailFootnote = this.querySelector('[data-role=\"detail-footnote\"]');\n    this._usersListSection = this.querySelector('[data-role=\"users-list\"]');\n    this._usersListStatus = this._usersListSection?.querySelector('[data-role=\"users-list-status\"]') || null;\n    this._usersStatusIcon = this._usersListSection?.querySelector('[data-role=\"users-list-status-icon\"]') || null;\n    this._usersStatusText = this._usersListSection?.querySelector('[data-role=\"users-list-status-text\"]') || null;\n    this._usersListEmpty = this._usersListSection?.querySelector('[data-role=\"users-list-empty\"]') || null;\n    this._usersTableBody = this._usersListSection?.querySelector('[data-role=\"users-table-body\"]') || null;\n  }\n\n  _attachListeners() {\n    this._categoryButtons.forEach((button) => {\n      button.addEventListener(\"click\", this._boundCategoryClick);\n    });\n    if (this._profileSubmitButton) {\n      this._profileSubmitButton.addEventListener(\"click\", this._boundProfileSubmit);\n    }\n    if (this._passwordSubmitButton) {\n      this._passwordSubmitButton.addEventListener(\"click\", this._boundPasswordSubmit);\n    }\n    if (this._clearSessionsButton) {\n      this._clearSessionsButton.addEventListener(\"click\", this._boundClearSessions);\n    }\n    if (this._deactivateAccountButton) {\n      this._deactivateAccountButton.addEventListener(\"click\", this._boundDeactivateAccount);\n    }\n    if (this._accountKeyCopyButton) {\n      this._accountKeyCopyButton.addEventListener(\"click\", this._boundKeyCopy);\n    }\n    if (this._isAdmin) {\n      this._signupSections.forEach((section) => {\n        if (section.generateButton) {\n          section.generateButton.addEventListener(\"click\", this._boundGenerateClick);\n        }\n        if (section.revokeButton) {\n          section.revokeButton.addEventListener(\"click\", this._boundRevokeClick);\n        }\n      });\n      if (this._detailCopyButton) {\n        this._detailCopyButton.addEventListener(\"click\", this._boundDetailCopy);\n      }\n      if (this._detailLinkInput) {\n        this._detailLinkInput.addEventListener(\"focus\", this._boundDetailLinkFocus);\n        this._detailLinkInput.addEventListener(\"click\", this._boundDetailLinkFocus);\n      }\n      if (this._detailBackButton) {\n        this._detailBackButton.addEventListener(\"click\", this._boundDetailBack);\n      }\n      if (this._usersTableBody) {\n        this._usersTableBody.addEventListener(\"click\", this._boundUserAction);\n      }\n    }\n  }\n\n  _detachListeners() {\n    this._categoryButtons.forEach((button) => {\n      button.removeEventListener(\"click\", this._boundCategoryClick);\n    });\n    if (this._profileSubmitButton) {\n      this._profileSubmitButton.removeEventListener(\"click\", this._boundProfileSubmit);\n    }\n    if (this._passwordSubmitButton) {\n      this._passwordSubmitButton.removeEventListener(\"click\", this._boundPasswordSubmit);\n    }\n    if (this._clearSessionsButton) {\n      this._clearSessionsButton.removeEventListener(\"click\", this._boundClearSessions);\n    }\n    if (this._deactivateAccountButton) {\n      this._deactivateAccountButton.removeEventListener(\"click\", this._boundDeactivateAccount);\n    }\n    if (this._accountKeyCopyButton) {\n      this._accountKeyCopyButton.removeEventListener(\"click\", this._boundKeyCopy);\n    }\n    if (this._isAdmin) {\n      this._signupSections.forEach((section) => {\n        if (section.generateButton) {\n          section.generateButton.removeEventListener(\"click\", this._boundGenerateClick);\n        }\n        if (section.revokeButton) {\n          section.revokeButton.removeEventListener(\"click\", this._boundRevokeClick);\n        }\n      });\n      if (this._detailCopyButton) {\n        this._detailCopyButton.removeEventListener(\"click\", this._boundDetailCopy);\n      }\n      if (this._detailLinkInput) {\n        this._detailLinkInput.removeEventListener(\"focus\", this._boundDetailLinkFocus);\n        this._detailLinkInput.removeEventListener(\"click\", this._boundDetailLinkFocus);\n      }\n      if (this._detailBackButton) {\n        this._detailBackButton.removeEventListener(\"click\", this._boundDetailBack);\n      }\n      if (this._usersTableBody) {\n        this._usersTableBody.removeEventListener(\"click\", this._boundUserAction);\n      }\n    }\n  }\n\n  _checkIsAdmin() {\n    const user = storage.user;\n    if (!user || user.role === undefined || user.role === null) {\n      return false;\n    }\n    const role = user.role;\n    if (typeof role === \"number\") {\n      return role === USER_ROLES.ADMIN;\n    }\n    if (typeof role === \"string\") {\n      const trimmed = role.trim();\n      if (!trimmed) {\n        return false;\n      }\n      const asNumber = Number.parseInt(trimmed, 10);\n      if (!Number.isNaN(asNumber)) {\n        return asNumber === USER_ROLES.ADMIN;\n      }\n      return trimmed.toLowerCase() === \"admin\";\n    }\n    return false;\n  }\n\n  _configureAccess() {\n    if (this._isAdmin) {\n      if (this._usersNavItem) {\n        this._usersNavItem.classList.remove(\"hidden\");\n      }\n      this._initSignupSections();\n      if (this._usersListSection) {\n        this._usersListSection.classList.remove(\"hidden\");\n      }\n      this._loadUsers();\n    } else {\n      if (this._usersNavItem) {\n        this._usersNavItem.classList.add(\"hidden\");\n      }\n      if (this._usersPanel) {\n        this._usersPanel.classList.add(\"hidden\");\n      }\n      this._signupSections.clear();\n      if (this._usersListSection) {\n        this._usersListSection.classList.add(\"hidden\");\n      }\n      this._usersData = [];\n      this._renderUsers();\n    }\n  }\n\n  _populateAccountForms() {\n    const userSecrets = storage.user;\n    if (!userSecrets) {\n      return;\n    }\n    const nameInput = this._profileForm?.querySelector(\"#settings-account-name\");\n    if (nameInput) {\n      nameInput.value = userSecrets.name || \"\";\n    }\n    const emailInput = this._profileForm?.querySelector(\"#settings-account-email\");\n    if (emailInput) {\n      emailInput.value = userSecrets.email || \"\";\n    }\n    this._updateAccountKeySummary(userSecrets);\n  }\n\n  _updateAccountKeySummary(userSecrets) {\n    if (!this._accountKeyValue) {\n      return;\n    }\n    const raw = userSecrets?.x25519PrivateKey || \"\";\n    if (!raw) {\n      this._accountKeyValue.textContent = translate(\"settingsAccountKeyUnavailable\");\n      if (this._accountKeyCopyButton) {\n        this._accountKeyCopyButton.disabled = true;\n      }\n      this._setKeyStatus(\"\", \"\");\n      return;\n    }\n    const preview = raw.length <= 20 ? raw : `${raw.slice(0, 12)}\u2026${raw.slice(-6)}`;\n    this._accountKeyValue.textContent = preview;\n    if (this._accountKeyCopyButton) {\n      this._accountKeyCopyButton.disabled = false;\n      this._accountKeyCopyButton.setAttribute(\"data-key-value\", raw);\n    }\n    this._setKeyStatus(\"\", \"\");\n  }\n\n  _initSignupSections() {\n    this._signupSections.clear();\n    const cards = this.querySelectorAll('[data-role=\"signup-card\"]');\n    cards.forEach((card) => {\n      const type = card.getAttribute(\"data-token-type\");\n      if (!type) {\n        return;\n      }\n      const normalized = type.toLowerCase();\n      const section = {\n        container: card,\n        countEl: card.querySelector('[data-role=\"active-count\"]'),\n        generateButton: card.querySelector('[data-role=\"generate\"]'),\n        revokeButton: card.querySelector('[data-role=\"revoke\"]'),\n        statusEl: card.querySelector('[data-role=\"status\"]'),\n      };\n      this._signupSections.set(normalized, section);\n      this._setSectionStatus(normalized, \"\");\n    });\n  }\n\n  _getSignupSection(type) {\n    if (!type) {\n      return null;\n    }\n    return this._signupSections.get(type.toLowerCase()) || null;\n  }\n\n  _setSignupCount(type, count) {\n    const section = this._getSignupSection(type);\n    if (!section || !section.countEl) {\n      return;\n    }\n    const value = Number.isFinite(count) ? count : 0;\n    section.countEl.textContent = String(value);\n    if (this._activeDetailType === type && this._detailActiveCount) {\n      this._detailActiveCount.textContent = String(value);\n    }\n  }\n\n  _setSectionStatus(type, message, variant = \"info\") {\n    const section = this._getSignupSection(type);\n    if (!section || !section.statusEl) {\n      return;\n    }\n    const statusEl = section.statusEl;\n    const text = message || \"\";\n    statusEl.textContent = text;\n    statusEl.classList.remove(\n      \"text-grey-60\",\n      \"dark:text-grey-40\",\n      \"text-green-600\",\n      \"dark:text-green-400\",\n      \"text-red-600\",\n      \"dark:text-red-400\",\n    );\n\n    if (!text) {\n      statusEl.classList.add(\"text-grey-60\", \"dark:text-grey-40\");\n      return;\n    }\n\n    if (variant === \"success\") {\n      statusEl.classList.add(\"text-green-600\", \"dark:text-green-400\");\n    } else if (variant === \"error\") {\n      statusEl.classList.add(\"text-red-600\", \"dark:text-red-400\");\n    } else {\n      statusEl.classList.add(\"text-grey-60\", \"dark:text-grey-40\");\n    }\n  }\n\n  _setDetailStatus(message, variant = \"info\") {\n    if (!this._detailStatusEl) {\n      return;\n    }\n    const baseClass = \"text-sm flex items-center gap-2 min-h-[1.25rem]\";\n    this._detailStatusEl.className = `${baseClass} text-grey-60 dark:text-grey-40`;\n\n    if (this._detailStatusText) {\n      this._detailStatusText.textContent = message || \"\";\n    } else {\n      this._detailStatusEl.textContent = message || \"\";\n    }\n\n    if (this._detailStatusIcon) {\n      this._detailStatusIcon.className = \"hidden\";\n    }\n\n    if (!message) {\n      return;\n    }\n\n    let iconClass = \"ri-information-line text-grey-60 dark:text-grey-40\";\n    if (variant === \"success\") {\n      this._detailStatusEl.className = `${baseClass} text-green-600 dark:text-green-400`;\n      iconClass = \"ri-check-line text-green-600 dark:text-green-400\";\n    } else if (variant === \"error\") {\n      this._detailStatusEl.className = `${baseClass} text-red-600 dark:text-red-400`;\n      iconClass = \"ri-error-warning-line text-red-600 dark:text-red-400\";\n    }\n\n    if (this._detailStatusIcon) {\n      this._detailStatusIcon.className = iconClass;\n    }\n  }\n\n  _setSectionLoading(section, isLoading) {\n    if (!section) {\n      return;\n    }\n    const disabled = Boolean(isLoading);\n    if (section.generateButton) {\n      section.generateButton.disabled = disabled;\n      section.generateButton.classList.toggle(\"opacity-60\", disabled);\n    }\n    if (section.revokeButton) {\n      section.revokeButton.disabled = disabled;\n      section.revokeButton.classList.toggle(\"opacity-60\", disabled);\n    }\n  }\n\n  _showSignupDetail(type, link, expiresAtSeconds) {\n    if (!this._signupDetail || !this._signupOverview) {\n      return;\n    }\n\n    this._activeDetailType = type;\n    this._activeDetailExpiresAt = expiresAtSeconds || null;\n\n    const headingKey =\n      type === \"admin\"\n        ? \"settingsUsersDetailHeadingAdmin\"\n        : \"settingsUsersDetailHeadingUser\";\n    if (this._detailHeading) {\n      this._detailHeading.textContent = translate(headingKey);\n    }\n\n    const expiresText = this._formatExpiry(expiresAtSeconds);\n    if (this._detailDescription) {\n      this._detailDescription.textContent = translate(\"settingsUsersDetailDescription\", {\n        date: expiresText,\n      });\n    }\n\n    if (this._detailActiveCount) {\n      const section = this._getSignupSection(type);\n      const count = section?.countEl ? Number(section.countEl.textContent || 0) : 0;\n      this._detailActiveCount.textContent = String(count);\n    }\n\n    if (this._detailFootnote) {\n      this._detailFootnote.textContent = translate(\"settingsUsersDetailFootnote\");\n    }\n\n    this._setDetailStatus(\"\");\n\n    if (this._detailLinkInput) {\n      this._detailLinkInput.value = link || \"\";\n      requestAnimationFrame(() => {\n        this._detailLinkInput.select();\n        this._detailLinkInput.focus();\n      });\n    }\n\n    if (this._detailQrContainer) {\n      this._renderQRCode(this._detailQrContainer, link);\n    }\n\n    if (this._detailCopyIcon) {\n      const original = this._detailCopyIcon.dataset.originalClass || this._detailCopyIcon.className;\n      this._detailCopyIcon.dataset.originalClass = original;\n      this._detailCopyIcon.className = original;\n    }\n\n    this._signupOverview.classList.add(\"hidden\");\n    this._signupDetail.classList.remove(\"hidden\");\n    if (this._usersHeader) {\n      this._usersHeader.classList.add(\"hidden\");\n    }\n    if (this._usersListSection) {\n      this._usersListSection.classList.add(\"hidden\");\n    }\n  }\n\n  _clearSignupDetail() {\n    if (!this._signupDetail || !this._signupOverview) {\n      return;\n    }\n    this._activeDetailType = null;\n    this._activeDetailExpiresAt = null;\n    if (this._detailLinkInput) {\n      this._detailLinkInput.value = \"\";\n    }\n    if (this._detailQrContainer) {\n      this._detailQrContainer.innerHTML = \"\";\n    }\n    if (this._detailCopyIcon && this._detailCopyIcon.dataset.originalClass) {\n      this._detailCopyIcon.className = this._detailCopyIcon.dataset.originalClass;\n    }\n    this._setDetailStatus(\"\");\n    this._signupDetail.classList.add(\"hidden\");\n    this._signupOverview.classList.remove(\"hidden\");\n    if (this._usersHeader) {\n      this._usersHeader.classList.remove(\"hidden\");\n    }\n    if (this._usersListSection) {\n      this._usersListSection.classList.remove(\"hidden\");\n    }\n  }\n\n  _renderQRCode(container, value) {\n    if (!container) {\n      return;\n    }\n    if (!value) {\n      container.innerHTML = \"\";\n      return;\n    }\n    try {\n      const qr = qrcode(0, \"L\");\n      qr.addData(value);\n      qr.make();\n      container.innerHTML = qr.createSvgTag({\n        scalable: true,\n        cellSize: 4,\n        margin: 4,\n      });\n      const svgEl = container.querySelector(\"svg\");\n      if (svgEl) {\n        svgEl.style.maxWidth = \"200px\";\n        svgEl.style.height = \"auto\";\n      }\n    } catch (error) {\n      console.error(\"[SettingsLayout] QR generation failed\", error);\n      container.innerHTML = `<p class=\"text-sm text-grey-60 dark:text-grey-40 text-center\">${translate(\"settingsUsersQrError\")}</p>`;\n    }\n  }\n\n  _setUsersStatus(message, variant = \"info\") {\n    if (!this._usersListStatus) {\n      return;\n    }\n    const baseClass = \"text-sm flex items-center gap-2 min-h-[1.25rem]\";\n    this._usersListStatus.className = `${baseClass} text-grey-60 dark:text-grey-40`;\n\n    if (this._usersStatusText) {\n      this._usersStatusText.textContent = message || \"\";\n    } else {\n      this._usersListStatus.textContent = message || \"\";\n    }\n\n    if (this._usersStatusIcon) {\n      this._usersStatusIcon.className = \"hidden\";\n    }\n\n    if (!message) {\n      return;\n    }\n\n    let iconClass = \"ri-information-line text-grey-60 dark:text-grey-40\";\n    if (variant === \"success\") {\n      this._usersListStatus.className = `${baseClass} text-green-600 dark:text-green-400`;\n      iconClass = \"ri-check-line text-green-600 dark:text-green-400\";\n    } else if (variant === \"error\") {\n      this._usersListStatus.className = `${baseClass} text-red-600 dark:text-red-400`;\n      iconClass = \"ri-error-warning-line text-red-600 dark:text-red-400\";\n    }\n\n    if (this._usersStatusIcon) {\n      this._usersStatusIcon.className = iconClass;\n    }\n  }\n\n  async _loadUsers() {\n    if (!this._isAdmin || !this._usersListSection) {\n      return;\n    }\n    if (this._usersLoading) {\n      return;\n    }\n\n    this._usersLoading = true;\n    this._setUsersStatus(translate(\"settingsUsersListLoading\"), \"info\");\n\n    try {\n      const response = await fetch(\"/api/admin/users\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`users_list_failed_${response.status}`);\n      }\n\n      const payload = await response.json();\n      const list = Array.isArray(payload?.users) ? payload.users : [];\n      this._usersData = list.map((user) => ({\n        id: Number.parseInt(user.id, 10) || user.id,\n        name: user.name || \"\",\n        email: user.email || \"\",\n        role: user.role || \"\",\n        active: Boolean(user.active),\n        public_key: user.public_key || \"\",\n        encryption_public_key: user.encryption_public_key || \"\",\n        active_sessions: Number.isFinite(user.active_sessions) ? user.active_sessions : Number.parseInt(user.active_sessions ?? 0, 10) || 0,\n        is_current_user: Boolean(user.is_current_user),\n        created: user.created || 0,\n        updated: user.updated || 0,\n      }));\n\n      this._renderUsers();\n      this._setUsersStatus(\"\", \"info\");\n    } catch (error) {\n      console.error(\"[SettingsLayout] Failed to load users\", error);\n      this._setUsersStatus(translate(\"settingsUsersListError\"), \"error\");\n    } finally {\n      this._usersLoading = false;\n    }\n  }\n\n  _renderUsers() {\n    if (!this._usersTableBody) {\n      return;\n    }\n\n    if (!Array.isArray(this._usersData) || !this._usersData.length) {\n      this._usersTableBody.innerHTML = \"\";\n      if (this._usersListEmpty) {\n        this._usersListEmpty.classList.remove(\"hidden\");\n      }\n      return;\n    }\n\n    if (this._usersListEmpty) {\n      this._usersListEmpty.classList.add(\"hidden\");\n    }\n\n    const rows = this._usersData.map((user) => this._renderUserRow(user)).join(\"\");\n    this._usersTableBody.innerHTML = rows;\n  }\n\n  _renderUserRow(user) {\n    const displayName = this._getDisplayName(user);\n    const roleLabel = this._formatUserRole(user.role);\n    const statusLabel = this._formatUserStatus(user.active);\n    const statusClass = user.active ? \"text-green-600 dark:text-green-400\" : \"text-red-600 dark:text-red-400\";\n    const emailText = user.email?.trim() || \"\";\n    const signingKeyTitle = (user.public_key || \"\").trim();\n    const encryptionKeyTitle = (user.encryption_public_key || \"\").trim();\n    const signingKey = this._formatKey(signingKeyTitle);\n    const encryptionKey = this._formatKey(encryptionKeyTitle);\n    const clearDisabled = user.active_sessions === 0;\n    const deleteDisabled = user.is_current_user;\n    const clearButtonLabel = translate(\"settingsUsersActionClearSessions\");\n    const deleteButtonLabel = translate(\"settingsUsersActionDelete\");\n    const signingLabel = translate(\"settingsUsersKeySigning\");\n    const encryptionLabel = translate(\"settingsUsersKeyEncryption\");\n    const baseButtonClass = \"inline-flex items-center justify-center px-3 py-1.5 text-xs font-medium rounded border transition cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed\";\n    const clearButtonClass = `${baseButtonClass} text-grey-80 dark:text-grey-20 border-grey-30 dark:border-grey-60 bg-grey-5 dark:bg-grey-80/40 hover:bg-grey-10 dark:hover:bg-grey-70`;\n    const deleteButtonClass = `${baseButtonClass} text-red-600 dark:text-red-400 border-red-200 dark:border-red-400/40 bg-red-50/60 dark:bg-red-900/20 hover:bg-red-50 dark:hover:bg-red-900/30`;\n    const deactivateButtonClass = `${baseButtonClass} text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-400/40 bg-yellow-50/60 dark:bg-yellow-900/20 hover:bg-yellow-50 dark:hover:bg-yellow-900/30`;\n    const activateButtonClass = `${baseButtonClass} text-green-700 dark:text-green-300 border-green-200 dark:border-green-400/40 bg-green-50/60 dark:bg-green-900/20 hover:bg-green-50 dark:hover:bg-green-900/30`;\n    const toggleAction = user.active ? \"deactivate\" : \"activate\";\n    const toggleButtonLabel = user.active\n      ? translate(\"settingsUsersActionDeactivate\")\n      : translate(\"settingsUsersActionActivate\");\n    const toggleIcon = user.active ? \"ri-user-unfollow-line\" : \"ri-user-follow-line\";\n    const toggleDisabled = user.active && user.is_current_user;\n    const toggleDisabledTitle = toggleDisabled ? ` title=\"${this._escapeHTML(translate(\"settingsUsersActionDeactivateSelfError\"))}\"` : \"\";\n    const detailTags = [];\n    if (roleLabel) {\n      detailTags.push(`<span>${this._escapeHTML(roleLabel)}</span>`);\n    }\n    if (statusLabel) {\n      detailTags.push(`<span class=\\\"${statusClass}\\\">${this._escapeHTML(statusLabel)}</span>`);\n    }\n    if (user.is_current_user) {\n      const youLabel = translate(\"settingsUsersCurrentUserLabel\");\n      detailTags.push(`<span class=\\\"inline-flex items-center px-2 py-0.5 rounded-full bg-primary/10 text-primary text-xs font-medium\\\">${this._escapeHTML(youLabel)}</span>`);\n    }\n    const metaParts = detailTags.filter(Boolean).join(\" \u00B7 \");\n    const signingTitleAttr = signingKeyTitle ? ` title=\"${this._escapeHTML(signingKeyTitle)}\"` : \"\";\n    const encryptionTitleAttr = encryptionKeyTitle ? ` title=\"${this._escapeHTML(encryptionKeyTitle)}\"` : \"\";\n    const clearDisabledTitle = clearDisabled ? ` title=\"${this._escapeHTML(translate(\"settingsUsersActionClearDisabledTooltip\"))}\"` : \"\";\n    const deleteDisabledTitle = deleteDisabled ? ` title=\"${this._escapeHTML(translate(\"settingsUsersActionDeleteSelfTooltip\"))}\"` : \"\";\n    const toggleAriaAttr = ` aria-label=\"${this._escapeHTML(toggleButtonLabel)}\"`;\n    const clearAriaAttr = ` aria-label=\"${this._escapeHTML(clearButtonLabel)}\"`;\n    const deleteAriaAttr = ` aria-label=\"${this._escapeHTML(deleteButtonLabel)}\"`;\n    const toggleDisabledAttr = toggleDisabled ? \" disabled\" : \"\";\n    const clearDisabledAttr = clearDisabled ? \" disabled\" : \"\";\n    const deleteDisabledAttr = deleteDisabled ? \" disabled\" : \"\";\n    const clearButtonContent = `<i class=\"ri-refresh-line text-base leading-4\" aria-hidden=\"true\"></i>`;\n    const deleteButtonContent = `<i class=\"ri-delete-bin-6-line text-base leading-4\" aria-hidden=\"true\"></i>`;\n    const toggleButtonContent = `<i class=\"${toggleIcon} text-base leading-4\" aria-hidden=\"true\"></i>`;\n    const copyButtonClass = \"inline-flex h-7 w-7 shrink-0 items-center justify-center rounded border border-grey-30 dark:border-grey-60 bg-white dark:bg-grey-80 text-grey-60 dark:text-grey-30 hover:text-primary hover:bg-grey-10 dark:hover:bg-grey-70 focus:outline focus:outline-2 focus:outline-primary transition cursor-pointer\";\n    const copyButtonIconClass = \"ri-file-copy-2-line text-base leading-4\";\n    const copyActionLabel = translate(\"copyLinkButton\");\n    const signingCopyLabel = `${copyActionLabel} \u2013 ${translate(\"settingsUsersKeySigning\")}`;\n    const encryptionCopyLabel = `${copyActionLabel} \u2013 ${translate(\"settingsUsersKeyEncryption\")}`;\n    const signingCopyButton = signingKeyTitle\n      ? `<button type=\"button\" class=\"${copyButtonClass}\" data-user-action=\"copy-key\" data-user-id=\"${user.id}\" data-key-value=\"${this._escapeHTML(signingKeyTitle)}\" aria-label=\"${this._escapeHTML(signingCopyLabel)}\" title=\"${this._escapeHTML(signingCopyLabel)}\"><i class=\"${copyButtonIconClass}\" aria-hidden=\"true\"></i><span class=\"sr-only\">${this._escapeHTML(signingCopyLabel)}</span></button>`\n      : \"\";\n    const encryptionCopyButton = encryptionKeyTitle\n      ? `<button type=\"button\" class=\"${copyButtonClass}\" data-user-action=\"copy-key\" data-user-id=\"${user.id}\" data-key-value=\"${this._escapeHTML(encryptionKeyTitle)}\" aria-label=\"${this._escapeHTML(encryptionCopyLabel)}\" title=\"${this._escapeHTML(encryptionCopyLabel)}\"><i class=\"${copyButtonIconClass}\" aria-hidden=\"true\"></i><span class=\"sr-only\">${this._escapeHTML(encryptionCopyLabel)}</span></button>`\n      : \"\";\n    const toggleButtonClass = user.active ? deactivateButtonClass : activateButtonClass;\n\n    return `\n      <tr class=\"align-top\">\n        <td class=\"px-4 py-4\">\n          <div class=\"font-medium text-grey-90 dark:text-grey-10\">${this._escapeHTML(displayName)}</div>\n          <div class=\"text-xs text-grey-60 dark:text-grey-40 mt-1\">${metaParts || \"\"}</div>\n        </td>\n        <td class=\"px-4 py-4 text-sm text-grey-80 dark:text-grey-20\">${emailText ? this._escapeHTML(emailText) : \"\u2014\"}</td>\n        <td class=\"px-4 py-4 text-sm\">\n          <div class=\"space-y-3\">\n            <div class=\"flex flex-col gap-1\">\n              <span class=\"text-xs uppercase tracking-wide text-grey-60 dark:text-grey-40\">${this._escapeHTML(signingLabel)}</span>\n              <div class=\"flex items-center gap-2 min-w-0\">\n                <code class=\"flex-1 min-w-0 font-mono text-xs text-grey-80 dark:text-grey-20 whitespace-nowrap overflow-hidden text-ellipsis\"${signingTitleAttr}>${this._escapeHTML(signingKey)}</code>\n                ${signingCopyButton}\n              </div>\n            </div>\n            <div class=\"flex flex-col gap-1\">\n              <span class=\"text-xs uppercase tracking-wide text-grey-60 dark:text-grey-40\">${this._escapeHTML(encryptionLabel)}</span>\n              <div class=\"flex items-center gap-2 min-w-0\">\n                <code class=\"flex-1 min-w-0 font-mono text-xs text-grey-80 dark:text-grey-20 whitespace-nowrap overflow-hidden text-ellipsis\"${encryptionTitleAttr}>${this._escapeHTML(encryptionKey)}</code>\n                ${encryptionCopyButton}\n              </div>\n            </div>\n          </div>\n        </td>\n        <td class=\"px-4 py-4 text-sm text-grey-80 dark:text-grey-20\">${Number.isFinite(user.active_sessions) ? user.active_sessions : 0}</td>\n        <td class=\"px-4 py-4\">\n          <div class=\"flex items-center gap-2\">\n            <button type=\"button\" class=\"${toggleButtonClass}\" data-user-action=\"${toggleAction}\" data-user-id=\"${user.id}\"${toggleAriaAttr}${toggleDisabledAttr}${toggleDisabledTitle}>${toggleButtonContent}</button>\n            <button type=\"button\" class=\"${clearButtonClass}\" data-user-action=\"clear-sessions\" data-user-id=\"${user.id}\"${clearAriaAttr}${clearDisabledAttr}${clearDisabledTitle}>${clearButtonContent}</button>\n            <button type=\"button\" class=\"${deleteButtonClass}\" data-user-action=\"delete\" data-user-id=\"${user.id}\"${deleteAriaAttr}${deleteDisabledAttr}${deleteDisabledTitle}>${deleteButtonContent}</button>\n          </div>\n        </td>\n      </tr>\n    `;\n  }\n\n  _getDisplayName(user) {\n    if (!user) {\n      return translate(\"settingsUsersNameFallback\");\n    }\n    const name = user.name?.trim();\n    if (name) {\n      return name;\n    }\n    const email = user.email?.trim();\n    if (email) {\n      return email;\n    }\n    return translate(\"settingsUsersNameFallback\");\n  }\n\n  _formatUserRole(role) {\n    const normalized = (role || \"\").toString().toLowerCase();\n    if (normalized === \"admin\") {\n      return translate(\"settingsUsersRoleAdmin\");\n    }\n    if (normalized === \"user\") {\n      return translate(\"settingsUsersRoleUser\");\n    }\n    if (normalized === \"guest\") {\n      return translate(\"settingsUsersRoleGuest\");\n    }\n    return translate(\"settingsUsersRoleUnknown\");\n  }\n\n  _formatUserStatus(active) {\n    return active ? translate(\"settingsUsersStatusActive\") : translate(\"settingsUsersStatusInactive\");\n  }\n\n  _formatKey(key) {\n    const value = (key || \"\").trim();\n    if (!value) {\n      return translate(\"settingsUsersKeyMissing\");\n    }\n    if (value.length <= 36) {\n      return value;\n    }\n    return `${value.slice(0, 20)}\u2026${value.slice(-10)}`;\n  }\n\n  _escapeHTML(str) {\n    if (str == null) {\n      return \"\";\n    }\n    return String(str).replace(/[&<>\"']/g, (char) => {\n      switch (char) {\n        case \"&\":\n          return \"&amp;\";\n        case \"<\":\n          return \"&lt;\";\n        case \">\":\n          return \"&gt;\";\n        case '\"':\n          return \"&quot;\";\n        case \"'\":\n          return \"&#39;\";\n        default:\n          return char;\n      }\n    });\n  }\n\n  async _handleUserAction(event) {\n    const button = event.target.closest(\"[data-user-action]\");\n    if (!button || button.disabled) {\n      return;\n    }\n\n    const action = button.getAttribute(\"data-user-action\");\n    const idAttr = button.getAttribute(\"data-user-id\");\n    const userID = Number.parseInt(idAttr || \"\", 10);\n\n    if (!Number.isFinite(userID)) {\n      return;\n    }\n\n    const user = this._usersData.find((item) => item.id === userID);\n    if (!user) {\n      return;\n    }\n\n    if (action === \"copy-key\") {\n      event.preventDefault();\n      const value = button.getAttribute(\"data-key-value\") || \"\";\n      if (!value) {\n        this._setUsersStatus(translate(\"settingsUsersCopyError\"), \"error\");\n        return;\n      }\n      const success = copyToClipboard(value);\n      if (success) {\n        this._setUsersStatus(translate(\"settingsUsersCopySuccess\"), \"success\");\n        const icon = button.querySelector(\"i\");\n        if (icon) {\n          const original = icon.dataset.originalClass || icon.className;\n          icon.dataset.originalClass = original;\n          icon.className = \"ri-check-line text-base leading-4\";\n          setTimeout(() => {\n            if (icon && icon.dataset.originalClass) {\n              icon.className = icon.dataset.originalClass;\n            }\n          }, 2000);\n        }\n      } else {\n        this._setUsersStatus(translate(\"settingsUsersCopyError\"), \"error\");\n      }\n      return;\n    }\n\n    const displayName = this._getDisplayName(user);\n\n    if (action === \"deactivate\") {\n      if (user.is_current_user) {\n        this._setUsersStatus(translate(\"settingsUsersActionDeactivateSelfError\"), \"error\");\n        return;\n      }\n\n      this._setUsersStatus(translate(\"settingsUsersActionDeactivateWorking\"), \"info\");\n      let succeeded = false;\n      this._setButtonLoading(button, \"ri-loader-4-line\", translate(\"settingsUsersActionDeactivateWorking\"));\n\n      try {\n        const response = await fetch(`/api/admin/users/${userID}/deactivate`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`deactivate_user_failed_${response.status}`);\n        }\n\n        succeeded = true;\n        await this._loadUsers();\n        this._setUsersStatus(translate(\"settingsUsersActionDeactivateSuccess\", { name: displayName }), \"success\");\n      } catch (error) {\n        console.error(\"[SettingsLayout] Failed to deactivate user\", error);\n        this._setUsersStatus(translate(\"settingsUsersActionDeactivateError\"), \"error\");\n      } finally {\n        if (!succeeded) {\n          this._restoreButton(button);\n        }\n      }\n\n      return;\n    }\n\n    if (action === \"activate\") {\n      this._setUsersStatus(translate(\"settingsUsersActionActivateWorking\"), \"info\");\n      let succeeded = false;\n      this._setButtonLoading(button, \"ri-loader-4-line\", translate(\"settingsUsersActionActivateWorking\"));\n\n      try {\n        const response = await fetch(`/api/admin/users/${userID}/activate`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`activate_user_failed_${response.status}`);\n        }\n\n        succeeded = true;\n        await this._loadUsers();\n        this._setUsersStatus(translate(\"settingsUsersActionActivateSuccess\", { name: displayName }), \"success\");\n      } catch (error) {\n        console.error(\"[SettingsLayout] Failed to activate user\", error);\n        this._setUsersStatus(translate(\"settingsUsersActionActivateError\"), \"error\");\n      } finally {\n        if (!succeeded) {\n          this._restoreButton(button);\n        }\n      }\n\n      return;\n    }\n\n    if (action === \"clear-sessions\") {\n      if (user.active_sessions === 0) {\n        return;\n      }\n\n      this._setUsersStatus(translate(\"settingsUsersActionClearWorking\"), \"info\");\n      let succeeded = false;\n      this._setButtonLoading(button, \"ri-loader-4-line\", translate(\"settingsUsersActionClearWorking\"));\n\n      try {\n        const response = await fetch(`/api/admin/users/${userID}/clear-sessions`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`clear_sessions_failed_${response.status}`);\n        }\n\n        user.active_sessions = 0;\n        succeeded = true;\n        await this._loadUsers();\n        if (user.is_current_user) {\n          window.location.assign(\"/login\");\n          return;\n        }\n        this._setUsersStatus(translate(\"settingsUsersActionClearSuccess\", { name: displayName }), \"success\");\n      } catch (error) {\n        console.error(\"[SettingsLayout] Failed to clear sessions\", error);\n        this._setUsersStatus(translate(\"settingsUsersActionClearError\"), \"error\");\n      } finally {\n        if (!succeeded) {\n          this._restoreButton(button);\n        }\n      }\n\n      return;\n    }\n\n    if (action === \"delete\") {\n      if (user.is_current_user) {\n        this._setUsersStatus(translate(\"settingsUsersActionDeleteSelfError\"), \"error\");\n        return;\n      }\n\n      const confirmed = window.confirm(translate(\"settingsUsersActionDeleteConfirm\", { name: displayName }));\n      if (!confirmed) {\n        return;\n      }\n\n      this._setUsersStatus(translate(\"settingsUsersActionDeleteWorking\"), \"info\");\n      let succeeded = false;\n      this._setButtonLoading(button, \"ri-loader-4-line\", translate(\"settingsUsersActionDeleteWorking\"));\n\n      try {\n        const response = await fetch(`/api/admin/users/${userID}`, {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`delete_user_failed_${response.status}`);\n        }\n\n        succeeded = true;\n        await this._loadUsers();\n        this._setUsersStatus(translate(\"settingsUsersActionDeleteSuccess\", { name: displayName }), \"success\");\n      } catch (error) {\n        console.error(\"[SettingsLayout] Failed to delete user\", error);\n        this._setUsersStatus(translate(\"settingsUsersActionDeleteError\"), \"error\");\n      } finally {\n        if (!succeeded) {\n          this._restoreButton(button);\n        }\n      }\n    }\n  }\n\n  _setButtonLoading(button, iconClass, text) {\n    if (!button) {\n      return;\n    }\n    if (!button.dataset.originalContent) {\n      button.dataset.originalContent = button.innerHTML;\n    }\n    if (!button.dataset.originalAriaLabel) {\n      button.dataset.originalAriaLabel = button.getAttribute(\"aria-label\") || \"\";\n    }\n    const icon = iconClass ? `<i class=\"${iconClass} text-base leading-4 animate-spin\" aria-hidden=\"true\"></i>` : \"\";\n    button.innerHTML = icon || \"\";\n    if (text) {\n      button.setAttribute(\"aria-label\", text);\n    }\n    button.setAttribute(\"aria-busy\", \"true\");\n    button.disabled = true;\n    button.classList.add(\"opacity-60\");\n  }\n\n  _restoreButton(button) {\n    if (!button || !button.dataset.originalContent) {\n      return;\n    }\n    button.innerHTML = button.dataset.originalContent;\n    if (button.dataset.originalAriaLabel !== undefined) {\n      if (button.dataset.originalAriaLabel) {\n        button.setAttribute(\"aria-label\", button.dataset.originalAriaLabel);\n      } else {\n        button.removeAttribute(\"aria-label\");\n      }\n      delete button.dataset.originalAriaLabel;\n    }\n    button.removeAttribute(\"aria-busy\");\n    button.disabled = false;\n    button.classList.remove(\"opacity-60\");\n    delete button.dataset.originalContent;\n  }\n\n\n  async _handleGenerateClick(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    const type = button?.getAttribute(\"data-token-type\")?.toLowerCase() || \"admin\";\n    const section = this._getSignupSection(type);\n    if (!section) {\n      return;\n    }\n\n    this._setSectionStatus(type, translate(\"settingsUsersGenerating\"), \"info\");\n    this._setSectionLoading(section, true);\n\n    try {\n      const response = await fetch(\"/api/admin/signup-links\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ type }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`generate_failed_${response.status}`);\n      }\n\n      const data = await response.json();\n      if (typeof data.active_count === \"number\") {\n        this._setSignupCount(type, data.active_count);\n      }\n      const expiresAt = typeof data.expires_at === \"number\" ? data.expires_at : Number(data.expires_at || 0);\n      if (typeof data.link === \"string\") {\n        this._showSignupDetail(type, data.link, expiresAt);\n        this._setDetailStatus(translate(\"settingsUsersGenerateSuccess\"), \"success\");\n      }\n      this._setSectionStatus(type, translate(\"settingsUsersGenerateSuccess\"), \"success\");\n    } catch (error) {\n      console.error(\"[SettingsLayout] Failed to create signup link\", error);\n      this._setSectionStatus(type, translate(\"settingsUsersGenerateError\"), \"error\");\n      if (this._activeDetailType === type) {\n        this._setDetailStatus(translate(\"settingsUsersGenerateError\"), \"error\");\n      }\n    } finally {\n      this._setSectionLoading(section, false);\n    }\n  }\n\n  async _handleRevokeClick(event) {\n    event.preventDefault();\n    const button = event.currentTarget;\n    const type = button?.getAttribute(\"data-token-type\")?.toLowerCase() || \"admin\";\n    const section = this._getSignupSection(type);\n    if (!section) {\n      return;\n    }\n\n    this._setSectionStatus(type, translate(\"settingsUsersRevoking\"), \"info\");\n    this._setSectionLoading(section, true);\n\n    try {\n      const response = await fetch(`/api/admin/signup-links?type=${encodeURIComponent(type)}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`revoke_failed_${response.status}`);\n      }\n\n      const data = await response.json();\n      if (typeof data.active_count === \"number\") {\n        this._setSignupCount(type, data.active_count);\n      } else {\n        this._setSignupCount(type, 0);\n      }\n      if (this._activeDetailType === type) {\n        this._clearSignupDetail();\n      }\n      this._setSectionStatus(type, translate(\"settingsUsersRevokeSuccess\"), \"success\");\n    } catch (error) {\n      console.error(\"[SettingsLayout] Failed to revoke signup links\", error);\n      this._setSectionStatus(type, translate(\"settingsUsersRevokeError\"), \"error\");\n      if (this._activeDetailType === type) {\n        this._setDetailStatus(translate(\"settingsUsersRevokeError\"), \"error\");\n      }\n    } finally {\n      this._setSectionLoading(section, false);\n    }\n  }\n\n  _handleDetailBack(event) {\n    event.preventDefault();\n    this._clearSignupDetail();\n  }\n\n  _handleDetailCopy(event) {\n    event.preventDefault();\n    if (!this._detailLinkInput) {\n      return;\n    }\n    const value = this._detailLinkInput.value;\n    if (!value) {\n      return;\n    }\n\n    const success = copyToClipboard(value);\n    if (success) {\n      this._setDetailStatus(translate(\"settingsUsersDetailCopySuccess\"), \"success\");\n      if (this._detailCopyIcon) {\n        const original = this._detailCopyIcon.dataset.originalClass || this._detailCopyIcon.className;\n        this._detailCopyIcon.dataset.originalClass = original;\n        this._detailCopyIcon.className = \"ri-check-line text-lg leading-4\";\n        setTimeout(() => {\n          if (this._detailCopyIcon) {\n            this._detailCopyIcon.className = this._detailCopyIcon.dataset.originalClass || original;\n          }\n        }, 2000);\n      }\n    } else {\n      this._setDetailStatus(translate(\"settingsUsersDetailCopyError\"), \"error\");\n    }\n  }\n\n  _handleDetailLinkFocus(event) {\n    const input = event.currentTarget;\n    if (input && typeof input.select === \"function\") {\n      input.select();\n    }\n  }\n\n  _formatExpiry(expiresAtSeconds) {\n    if (!expiresAtSeconds) {\n      return translate(\"settingsUsersDetailExpiresUnknown\");\n    }\n\n    const millis = Number(expiresAtSeconds) * 1000;\n    const date = new Date(millis);\n    if (Number.isNaN(date.getTime())) {\n      return translate(\"settingsUsersDetailExpiresUnknown\");\n    }\n\n    const locale = document.documentElement.lang || navigator.language || \"en\";\n    return new Intl.DateTimeFormat(locale, {\n      dateStyle: \"medium\",\n      timeStyle: \"short\",\n    }).format(date);\n  }\n\n  async _loadSignupOverview() {\n    try {\n      const response = await fetch(\"/api/admin/signup-links\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`overview_failed_${response.status}`);\n      }\n\n      const data = await response.json();\n      if (data?.admin && typeof data.admin.active_count === \"number\") {\n        this._setSignupCount(\"admin\", data.admin.active_count);\n      }\n      if (data?.user && typeof data.user.active_count === \"number\") {\n        this._setSignupCount(\"user\", data.user.active_count);\n      }\n      this._setSectionStatus(\"admin\", \"\");\n      this._setSectionStatus(\"user\", \"\");\n      if (this._activeDetailType && this._detailActiveCount) {\n        const section = this._getSignupSection(this._activeDetailType);\n        const countText = section?.countEl ? section.countEl.textContent || \"0\" : \"0\";\n        this._detailActiveCount.textContent = countText;\n      }\n    } catch (error) {\n      console.error(\"[SettingsLayout] Failed to load signup overview\", error);\n      this._setSignupCount(\"admin\", 0);\n      this._setSignupCount(\"user\", 0);\n      this._setSectionStatus(\"admin\", translate(\"settingsUsersOverviewError\"), \"error\");\n      this._setSectionStatus(\"user\", translate(\"settingsUsersOverviewError\"), \"error\");\n      if (this._activeDetailType) {\n        this._setDetailStatus(translate(\"settingsUsersOverviewError\"), \"error\");\n      }\n    }\n  }\n\n  _handleCategoryClick(event) {\n    const category = event.currentTarget.getAttribute(\"data-category\");\n    if (category) {\n      this._selectCategory(category);\n    }\n  }\n\n  _selectCategory(category) {\n    this._activeCategory = category;\n    this._updateCategoryStyles();\n    this._updatePanels();\n  }\n\n  _updateCategoryStyles() {\n    this._categoryButtons.forEach((button) => {\n      const isActive =\n        button.getAttribute(\"data-category\") === this._activeCategory;\n\n      button.classList.toggle(\"border-primary\", isActive);\n      button.classList.toggle(\"bg-primary/10\", isActive);\n      button.classList.toggle(\"text-primary\", isActive);\n      button.classList.toggle(\"text-grey-70\", !isActive);\n      button.classList.toggle(\"dark:text-grey-30\", !isActive);\n      button.classList.toggle(\"border-transparent\", !isActive);\n    });\n  }\n\n  _updatePanels() {\n    this._panels.forEach((panel, key) => {\n      if (key === this._activeCategory) {\n        panel.classList.remove(\"hidden\");\n      } else {\n        panel.classList.add(\"hidden\");\n      }\n    });\n  }\n\n  _setProfileStatus(type, message) {\n    if (!this._profileStatus) {\n      return;\n    }\n    if (this._profileStatusText) {\n      this._profileStatusText.textContent = message || \"\";\n    }\n    this._profileStatus.className = \"text-sm flex items-center gap-2 min-h-[1.25rem]\";\n    if (this._profileStatusIcon) {\n      this._profileStatusIcon.className = \"hidden\";\n    }\n    if (!message) {\n      return;\n    }\n    if (type === \"error\") {\n      this._profileStatus.classList.add(\"text-red-600\", \"dark:text-red-400\");\n      if (this._profileStatusIcon) {\n        this._profileStatusIcon.classList.remove(\"hidden\");\n        this._profileStatusIcon.classList.add(\"ri-close-circle-fill\", \"text-red-600\", \"dark:text-red-400\");\n      }\n    } else if (type === \"success\") {\n      this._profileStatus.classList.add(\"text-green-600\", \"dark:text-green-400\");\n      if (this._profileStatusIcon) {\n        this._profileStatusIcon.classList.remove(\"hidden\");\n        this._profileStatusIcon.classList.add(\"ri-check-line\", \"text-green-600\", \"dark:text-green-400\");\n      }\n    } else {\n      this._profileStatus.classList.add(\"text-grey-70\", \"dark:text-grey-40\");\n      if (this._profileStatusIcon) {\n        this._profileStatusIcon.classList.remove(\"hidden\");\n        this._profileStatusIcon.classList.add(\"ri-information-line\", \"text-grey-60\", \"dark:text-grey-40\");\n      }\n    }\n  }\n\n  _setKeyStatus(type, message) {\n    if (!this._accountKeyStatus) {\n      return;\n    }\n    if (this._accountKeyStatusText) {\n      this._accountKeyStatusText.textContent = message || \"\";\n    }\n    this._accountKeyStatus.className = \"text-xs flex items-center gap-2 min-h-[1.25rem] text-amber-900/80 dark:text-amber-200/80\";\n    if (this._accountKeyStatusIcon) {\n      this._accountKeyStatusIcon.className = \"hidden\";\n    }\n    if (!message) {\n      return;\n    }\n    if (type === \"error\") {\n      this._accountKeyStatus.className = \"text-xs flex items-center gap-2 min-h-[1.25rem] text-red-600 dark:text-red-300\";\n      if (this._accountKeyStatusIcon) {\n        this._accountKeyStatusIcon.classList.remove(\"hidden\");\n        this._accountKeyStatusIcon.className = \"ri-close-circle-fill text-red-600 dark:text-red-300\";\n      }\n    } else if (type === \"success\") {\n      this._accountKeyStatus.className = \"text-xs flex items-center gap-2 min-h-[1.25rem] text-green-700 dark:text-green-300\";\n      if (this._accountKeyStatusIcon) {\n        this._accountKeyStatusIcon.classList.remove(\"hidden\");\n        this._accountKeyStatusIcon.className = \"ri-check-line text-green-700 dark:text-green-300\";\n      }\n    } else {\n      if (this._accountKeyStatusIcon) {\n        this._accountKeyStatusIcon.classList.remove(\"hidden\");\n        this._accountKeyStatusIcon.className = \"ri-information-line text-amber-700 dark:text-amber-200\";\n      }\n    }\n  }\n\n  _setAccountStatus(type, message) {\n    if (!this._accountStatus) {\n      return;\n    }\n    if (this._accountStatusText) {\n      this._accountStatusText.textContent = message || \"\";\n    }\n    this._accountStatus.className = \"text-xs flex items-center gap-2 min-h-[1.25rem]\";\n    if (this._accountStatusIcon) {\n      this._accountStatusIcon.className = \"hidden\";\n    }\n    if (!message) {\n      return;\n    }\n    if (type === \"error\") {\n      this._accountStatus.classList.add(\"text-red-600\", \"dark:text-red-400\");\n      if (this._accountStatusIcon) {\n        this._accountStatusIcon.classList.remove(\"hidden\");\n        this._accountStatusIcon.classList.add(\"ri-close-circle-fill\", \"text-red-600\", \"dark:text-red-400\");\n      }\n    } else if (type === \"success\") {\n      this._accountStatus.classList.add(\"text-green-600\", \"dark:text-green-400\");\n      if (this._accountStatusIcon) {\n        this._accountStatusIcon.classList.remove(\"hidden\");\n        this._accountStatusIcon.classList.add(\"ri-check-line\", \"text-green-600\", \"dark:text-green-400\");\n      }\n    } else {\n      this._accountStatus.classList.add(\"text-grey-70\", \"dark:text-grey-40\");\n      if (this._accountStatusIcon) {\n        this._accountStatusIcon.classList.remove(\"hidden\");\n        this._accountStatusIcon.classList.add(\"ri-information-line\", \"text-grey-60\", \"dark:text-grey-40\");\n      }\n    }\n  }\n\n  _handleAccountKeyCopy(event) {\n    event.preventDefault();\n    if (!this._accountKeyCopyButton) {\n      return;\n    }\n    const value = this._accountKeyCopyButton.getAttribute(\"data-key-value\") || \"\";\n    if (!value) {\n      this._setKeyStatus(\"error\", translate(\"settingsAccountKeyStatusUnavailable\"));\n      return;\n    }\n    const success = copyToClipboard(value);\n    if (success) {\n      this._setKeyStatus(\"success\", translate(\"settingsAccountKeyStatusCopied\"));\n      const icon = this._accountKeyCopyButton.querySelector(\"i\");\n      if (icon) {\n        const original = icon.dataset.originalClass || icon.className;\n        icon.dataset.originalClass = original;\n        icon.className = \"ri-check-line text-base leading-4\";\n        setTimeout(() => {\n          if (icon && icon.dataset.originalClass) {\n            icon.className = icon.dataset.originalClass;\n          }\n        }, 2000);\n      }\n    } else {\n      this._setKeyStatus(\"error\", translate(\"settingsAccountKeyStatusError\"));\n    }\n  }\n\n  _setPasswordStatus(type, message) {\n    if (!this._passwordStatus) {\n      return;\n    }\n    if (this._passwordStatusText) {\n      this._passwordStatusText.textContent = message || \"\";\n    }\n    this._passwordStatus.className = \"text-sm mt-4 flex items-center gap-2\";\n    if (this._passwordStatusIcon) {\n      this._passwordStatusIcon.className = \"hidden\";\n    }\n    if (!message) {\n      return;\n    }\n    if (type === \"error\") {\n      this._passwordStatus.classList.add(\"text-red-600\", \"dark:text-red-400\");\n      if (this._passwordStatusIcon) {\n        this._passwordStatusIcon.classList.remove(\"hidden\");\n        this._passwordStatusIcon.classList.add(\"ri-close-circle-fill\", \"text-red-600\", \"dark:text-red-400\");\n      }\n    } else if (type === \"success\") {\n      this._passwordStatus.classList.add(\"text-green-600\", \"dark:text-green-400\");\n      if (this._passwordStatusIcon) {\n        this._passwordStatusIcon.classList.remove(\"hidden\");\n        this._passwordStatusIcon.classList.add(\"ri-check-line\", \"text-green-600\", \"dark:text-green-400\");\n      }\n    } else {\n      this._passwordStatus.classList.add(\"text-grey-70\", \"dark:text-grey-40\");\n      if (this._passwordStatusIcon) {\n        this._passwordStatusIcon.classList.remove(\"hidden\");\n        this._passwordStatusIcon.classList.add(\"ri-information-line\", \"text-grey-60\", \"dark:text-grey-40\");\n      }\n    }\n  }\n\n  _isValidEmail(value) {\n    if (!value) {\n      return false;\n    }\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value);\n  }\n\n  _mapProfileError(code, status) {\n    switch (code) {\n      case \"invalid_name\":\n        return translate(\"settingsAccountProfileStatusNameRequired\");\n      case \"invalid_email\":\n        return translate(\"settingsAccountProfileStatusEmailInvalid\");\n      case \"email_required\":\n        return translate(\"settingsAccountProfileStatusEmailRequired\");\n      case \"name_required\":\n        return translate(\"settingsAccountProfileStatusNameRequired\");\n      case \"email_in_use\":\n        return translate(\"settingsAccountProfileStatusEmailInUse\");\n      case \"not_active\":\n        return translate(\"settingsAccountDangerStatusNotActive\");\n      case \"forbidden\":\n        return translate(\"settingsAccountProfileStatusError\");\n      default:\n        break;\n    }\n    if (status === 409) {\n      return translate(\"settingsAccountProfileStatusEmailInUse\");\n    }\n    return translate(\"settingsAccountProfileStatusError\");\n  }\n\n  _mapAccountActionError(code) {\n    switch (code) {\n      case \"not_active\":\n        return translate(\"settingsAccountDangerStatusNotActive\");\n      case \"forbidden\":\n        return translate(\"settingsAccountDangerStatusError\");\n      default:\n        return translate(\"settingsAccountDangerStatusError\");\n    }\n  }\n\n  async _handleProfileSubmit(event) {\n    event.preventDefault();\n    if (!this._profileForm) {\n      return;\n    }\n\n    const nameInput = this._profileForm.querySelector(\"#settings-account-name\");\n    const emailInput = this._profileForm.querySelector(\"#settings-account-email\");\n    const name = nameInput?.value.trim() || \"\";\n    const email = emailInput?.value.trim() || \"\";\n\n    if (!name) {\n      this._setProfileStatus(\"error\", translate(\"settingsAccountProfileStatusNameRequired\"));\n      return;\n    }\n    if (!email) {\n      this._setProfileStatus(\"error\", translate(\"settingsAccountProfileStatusEmailRequired\"));\n      return;\n    }\n    if (!this._isValidEmail(email)) {\n      this._setProfileStatus(\"error\", translate(\"settingsAccountProfileStatusEmailInvalid\"));\n      return;\n    }\n\n    this._setProfileStatus(\"info\", translate(\"settingsAccountProfileStatusSaving\"));\n    if (this._profileSubmitButton) {\n      this._profileSubmitButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(\"/api/me/profile\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name, email }),\n      });\n\n      if (!response.ok) {\n        let errorCode = \"\";\n        try {\n          const payload = await response.json();\n          if (payload && typeof payload.error === \"string\") {\n            errorCode = payload.error;\n          }\n        } catch {\n          // ignore parsing issues\n        }\n        const message = this._mapProfileError(errorCode, response.status);\n        throw new Error(message);\n      }\n\n      let data = null;\n      if (response.status !== 204) {\n        try {\n          data = await response.json();\n        } catch {\n          data = null;\n        }\n      }\n\n      const userSecrets = storage.user;\n      if (userSecrets) {\n        userSecrets.name = data?.name ?? name;\n        userSecrets.email = data?.email ?? email;\n        storage.setUser(userSecrets);\n      }\n      this._populateAccountForms();\n      this._setProfileStatus(\"success\", translate(\"settingsAccountProfileStatusSuccess\"));\n    } catch (error) {\n      const message = error?.message || translate(\"settingsAccountProfileStatusError\");\n      this._setProfileStatus(\"error\", message);\n    } finally {\n      if (this._profileSubmitButton) {\n        this._profileSubmitButton.disabled = false;\n      }\n    }\n  }\n\n  async _handleClearSessions(event) {\n    event.preventDefault();\n    this._setAccountStatus(\"info\", translate(\"settingsAccountDangerStatusClearing\"));\n    if (this._clearSessionsButton) {\n      this._clearSessionsButton.disabled = true;\n    }\n    if (this._deactivateAccountButton) {\n      this._deactivateAccountButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(\"/api/me/clear-sessions\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        let errorCode = \"\";\n        try {\n          const payload = await response.json();\n          if (payload && typeof payload.error === \"string\") {\n            errorCode = payload.error;\n          }\n        } catch {\n          // ignore\n        }\n        const message = this._mapAccountActionError(errorCode);\n        throw new Error(message);\n      }\n\n      this._redirectToLogout();\n    } catch (error) {\n      const message = error?.message || translate(\"settingsAccountDangerStatusError\");\n      this._setAccountStatus(\"error\", message);\n      if (this._clearSessionsButton) {\n        this._clearSessionsButton.disabled = false;\n      }\n      if (this._deactivateAccountButton) {\n        this._deactivateAccountButton.disabled = false;\n      }\n    }\n  }\n\n  async _handleDeactivateAccount(event) {\n    event.preventDefault();\n    const confirmed = window.confirm(translate(\"settingsAccountDeactivateConfirm\"));\n    if (!confirmed) {\n      return;\n    }\n    this._setAccountStatus(\"info\", translate(\"settingsAccountDangerStatusDeactivating\"));\n    if (this._deactivateAccountButton) {\n      this._deactivateAccountButton.disabled = true;\n    }\n    if (this._clearSessionsButton) {\n      this._clearSessionsButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(\"/api/me/deactivate\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        let errorCode = \"\";\n        try {\n          const payload = await response.json();\n          if (payload && typeof payload.error === \"string\") {\n            errorCode = payload.error;\n          }\n        } catch {\n          // ignore\n        }\n        const message = this._mapAccountActionError(errorCode);\n        throw new Error(message);\n      }\n\n      this._redirectToLogout();\n    } catch (error) {\n      const message = error?.message || translate(\"settingsAccountDangerStatusError\");\n      this._setAccountStatus(\"error\", message);\n      if (this._deactivateAccountButton) {\n        this._deactivateAccountButton.disabled = false;\n      }\n      if (this._clearSessionsButton) {\n        this._clearSessionsButton.disabled = false;\n      }\n    }\n  }\n\n  _redirectToLogout() {\n    try {\n      storage.clearUser();\n      storage.clearLocalFiles();\n    } catch (err) {\n      console.warn(\"[SettingsLayout] Failed to clear local storage on logout\", err);\n    }\n    window.location.href = \"/logout\";\n  }\n\n  async _handlePasswordSubmit(event) {\n    event.preventDefault();\n    if (!this._passwordForm) {\n      return;\n    }\n\n    const currentInput = this._passwordForm.querySelector(\"#settings-current-password\");\n    const newInput = this._passwordForm.querySelector(\"#settings-new-password\");\n    const confirmInput = this._passwordForm.querySelector(\"#settings-confirm-password\");\n\n    const currentPassword = currentInput?.value || \"\";\n    const newPassword = newInput?.value || \"\";\n    const confirmPassword = confirmInput?.value || \"\";\n\n    if (currentPassword.length < 10) {\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorCurrent\"));\n      return;\n    }\n    if (newPassword.length < 10) {\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorNewLength\"));\n      return;\n    }\n    if (newPassword !== confirmPassword) {\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorMismatch\"));\n      return;\n    }\n\n    const userSecrets = storage.user;\n    if (!userSecrets) {\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorNoSession\"));\n      return;\n    }\n\n    const saltBytes = userSecrets.getSaltBytes();\n    if (!saltBytes || !saltBytes.length) {\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorMissingKeys\"));\n      return;\n    }\n\n    const storedSettings = userSecrets.settings || {};\n    const kdfInput = storedSettings.kdf || storedSettings || DEFAULT_KDF_SETTINGS;\n    const kdfSettings = normalizeKDFSettings(kdfInput);\n\n    let derivedCurrent = null;\n    let newMaterial = null;\n    const newSaltBytes = generateSalt(kdfSettings.saltLength || DEFAULT_KDF_SETTINGS.saltLength);\n\n    try {\n      this._setPasswordStatus(\"info\", translate(\"settingsPasswordStatusInfoDeriving\"));\n      derivedCurrent = await deriveKeyMaterial(currentPassword, saltBytes, kdfSettings);\n\n      const derivedCurrentPublic = x25519.scalarMultBase(derivedCurrent.x25519Seed);\n      const storedPublic = userSecrets.getX25519PublicKey();\n      if (\n        storedPublic &&\n        arrayToB64(derivedCurrentPublic) !== arrayToB64(storedPublic)\n      ) {\n        this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorIncorrect\"));\n        derivedCurrent.edSeed.fill(0);\n        derivedCurrent.x25519Seed.fill(0);\n        return;\n      }\n\n      this._setPasswordStatus(\"info\", translate(\"settingsPasswordStatusInfoPreparing\"));\n      newMaterial = await deriveKeyMaterial(newPassword, newSaltBytes, kdfSettings);\n    } catch (err) {\n      console.error(\"[SettingsLayout] Failed to derive key material\", err);\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorDerive\"));\n      return;\n    } finally {\n      if (derivedCurrent?.edSeed) derivedCurrent.edSeed.fill(0);\n      if (derivedCurrent?.x25519Seed) derivedCurrent.x25519Seed.fill(0);\n    }\n\n    let newEdPublic;\n    let newXPublic;\n    try {\n      newEdPublic = await getPublicKey(newMaterial.edSeed);\n      newXPublic = x25519.scalarMultBase(newMaterial.x25519Seed);\n    } catch (err) {\n      console.error(\"[SettingsLayout] Failed to compute public keys\", err);\n      if (newMaterial?.edSeed) newMaterial.edSeed.fill(0);\n      if (newMaterial?.x25519Seed) newMaterial.x25519Seed.fill(0);\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorPublicKeys\"));\n      return;\n    }\n\n    let newUserSecrets;\n    try {\n      newUserSecrets = UserSecrets.fromKeyMaterial({\n        email: userSecrets.email,\n        name: userSecrets.name,\n        role: userSecrets.role,\n        settings: storedSettings,\n        salt: encodeSalt(newSaltBytes),\n        x25519Seed: newMaterial.x25519Seed,\n        x25519PublicKey: newXPublic,\n        version: userSecrets.version,\n      });\n    } catch (err) {\n      console.error(\"[SettingsLayout] Failed to prepare new user secrets\", err);\n      if (newMaterial?.edSeed) newMaterial.edSeed.fill(0);\n      if (newMaterial?.x25519Seed) newMaterial.x25519Seed.fill(0);\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorUserSecrets\"));\n      return;\n    }\n\n    const fileUpdates = [];\n    try {\n      const files = storage.files || [];\n      for (const ownedFile of files) {\n        if (!ownedFile?.id || !ownedFile.keychain?.rawSecret) {\n          continue;\n        }\n        const wrap = await newUserSecrets.wrapSecret(ownedFile.keychain.rawSecret);\n        fileUpdates.push({\n          id: ownedFile.id,\n          ciphertext: wrap.ciphertext,\n          nonce: wrap.nonce,\n          ephemeral_pub: wrap.ephemeralPublicKey,\n          version: wrap.version || OWNER_SECRET_VERSION,\n        });\n      }\n    } catch (err) {\n      console.error(\"[SettingsLayout] Failed to re-wrap secrets\", err);\n      if (newMaterial?.edSeed) newMaterial.edSeed.fill(0);\n      if (newMaterial?.x25519Seed) newMaterial.x25519Seed.fill(0);\n      this._setPasswordStatus(\"error\", translate(\"settingsPasswordStatusErrorWrap\"));\n      return;\n    }\n\n    const payload = {\n      current_password: currentPassword,\n      new_salt: encodeSalt(newSaltBytes),\n      new_public_key: encodePublicKey(newEdPublic),\n      new_encryption_public_key: arrayToB64(newXPublic),\n      files: fileUpdates,\n      kdf: serializeKDFSettings(kdfSettings),\n    };\n\n    this._setPasswordStatus(\"info\", translate(\"settingsPasswordStatusInfoUpdating\"));\n    if (this._passwordSubmitButton) {\n      this._passwordSubmitButton.disabled = true;\n    }\n\n    try {\n      const response = await fetch(\"/api/passwordreset\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(payload),\n      });\n\n      if (!response.ok) {\n        let serverError = \"\";\n        try {\n          serverError = await response.text();\n        } catch {\n          // ignore parsing errors\n        }\n        console.error(\"[SettingsLayout] Password reset failed\", response.status, serverError);\n        const message = serverError || translate(\"settingsPasswordStatusErrorRequest\");\n        throw new Error(message);\n      }\n\n      storage.setUser(newUserSecrets);\n      this._setPasswordStatus(\"success\", translate(\"settingsPasswordStatusSuccess\"));\n      if (currentInput) currentInput.value = \"\";\n      if (newInput) newInput.value = \"\";\n      if (confirmInput) confirmInput.value = \"\";\n    } catch (err) {\n      const fallback = translate(\"settingsPasswordStatusErrorGeneric\");\n      const message = err?.message || fallback;\n      this._setPasswordStatus(\"error\", message);\n    } finally {\n      if (newMaterial?.edSeed) newMaterial.edSeed.fill(0);\n      if (newMaterial?.x25519Seed) newMaterial.x25519Seed.fill(0);\n      if (this._passwordSubmitButton) {\n        this._passwordSubmitButton.disabled = false;\n      }\n    }\n  }\n}\n\ncustomElements.define(\"settings-layout\", SettingsLayout);\n"],
  "mappings": "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",
  "names": []
}
