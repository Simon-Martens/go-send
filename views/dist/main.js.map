{
  "version": 3,
  "sources": ["../node_modules/crc/mjs/calculators/crc32.js", "../src/zip.mjs", "../src/fileReceiver.mjs", "../src/fileSender.mjs", "../src/capabilities.mjs", "../node_modules/@fluent/bundle/esm/types.js", "../node_modules/@fluent/bundle/esm/resolver.js", "../node_modules/@fluent/bundle/esm/scope.js", "../node_modules/@fluent/bundle/esm/builtins.js", "../node_modules/@fluent/bundle/esm/memoizer.js", "../node_modules/@fluent/bundle/esm/bundle.js", "../node_modules/@fluent/bundle/esm/resource.js", "../src/locale.mjs", "../src/archive.mjs", "../src/faviconProgress.mjs", "../src/controller.mjs", "../src/ui/go-send.mjs", "../src/ui/app-footer.mjs", "../src/main.mjs"],
  "sourcesContent": ["// Generated by `./pycrc.py --algorithm=table-driven --model=crc-32 --generate=c`\nlet TABLE = [\n    0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419, 0x706af48f, 0xe963a535, 0x9e6495a3,\n    0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91,\n    0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,\n    0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9, 0xfa0f3d63, 0x8d080df5,\n    0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\n    0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,\n    0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599, 0xb8bda50f,\n    0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924, 0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d,\n    0x76dc4190, 0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,\n    0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\n    0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457,\n    0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,\n    0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb,\n    0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9,\n    0x5005713c, 0x270241aa, 0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad,\n    0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683,\n    0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,\n    0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb, 0x196c3671, 0x6e6b06e7,\n    0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\n    0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,\n    0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef, 0x4669be79,\n    0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236, 0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f,\n    0xc5ba3bbe, 0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,\n    0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\n    0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21,\n    0x86d3d2d4, 0xf1d4e242, 0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,\n    0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45,\n    0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db,\n    0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693, 0x54de5729, 0x23d967bf,\n    0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d,\n];\nif (typeof Int32Array !== 'undefined') {\n    TABLE = new Int32Array(TABLE);\n}\nconst crc32 = (current, previous) => {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    let crc = previous === 0 ? 0 : ~~previous ^ -1;\n    for (let index = 0; index < current.length; index++) {\n        crc = TABLE[(crc ^ current[index]) & 0xff] ^ (crc >>> 8);\n    }\n    return crc ^ -1;\n};\nexport default crc32;\n", "// INFO: we use calculators/crc32, bc it operates on a UInt8Array, so it works int the browser\nimport crc32 from \"crc/calculators/crc32\";\n\nconst encoder = new TextEncoder();\n\nfunction dosDateTime(dateTime = new Date()) {\n  const year = (dateTime.getFullYear() - 1980) << 9;\n  const month = (dateTime.getMonth() + 1) << 5;\n  const day = dateTime.getDate();\n  const date = year | month | day;\n  const hour = dateTime.getHours() << 11;\n  const minute = dateTime.getMinutes() << 5;\n  const second = Math.floor(dateTime.getSeconds() / 2);\n  const time = hour | minute | second;\n\n  return { date, time };\n}\n\nclass File {\n  constructor(info) {\n    this.name = encoder.encode(info.name);\n    this.size = info.size;\n    this.bytesRead = 0;\n    this.crc = null;\n    this.dateTime = dosDateTime();\n  }\n\n  get header() {\n    const h = new ArrayBuffer(30 + this.name.byteLength);\n    const v = new DataView(h);\n    v.setUint32(0, 0x04034b50, true); // sig\n    v.setUint16(4, 20, true); // version\n    v.setUint16(6, 0x808, true); // bit flags (use data descriptor(8) + utf8-encoded(8 << 8))\n    v.setUint16(8, 0, true); // compression\n    v.setUint16(10, this.dateTime.time, true); // modified time\n    v.setUint16(12, this.dateTime.date, true); // modified date\n    v.setUint32(14, 0, true); // crc32 (in descriptor)\n    v.setUint32(18, 0, true); // compressed size (in descriptor)\n    v.setUint32(22, 0, true); // uncompressed size (in descriptor)\n    v.setUint16(26, this.name.byteLength, true); // name length\n    v.setUint16(28, 0, true); // extra field length\n    for (let i = 0; i < this.name.byteLength; i++) {\n      v.setUint8(30 + i, this.name[i]);\n    }\n    return new Uint8Array(h);\n  }\n\n  get dataDescriptor() {\n    const dd = new ArrayBuffer(16);\n    const v = new DataView(dd);\n    v.setUint32(0, 0x08074b50, true); // sig\n    v.setUint32(4, this.crc, true); // crc32\n    v.setUint32(8, this.size, true); // compressed size\n    v.setUint32(12, this.size, true); // uncompressed size\n    return new Uint8Array(dd);\n  }\n\n  directoryRecord(offset) {\n    const dr = new ArrayBuffer(46 + this.name.byteLength);\n    const v = new DataView(dr);\n    v.setUint32(0, 0x02014b50, true); // sig\n    v.setUint16(4, 20, true); // version made\n    v.setUint16(6, 20, true); // version required\n    v.setUint16(8, 0x808, true); // bit flags (use data descriptor(8) + utf8-encoded(8 << 8))\n    v.setUint16(10, 0, true); // compression\n    v.setUint16(12, this.dateTime.time, true); // modified time\n    v.setUint16(14, this.dateTime.date, true); // modified date\n    v.setUint32(16, this.crc, true); // crc\n    v.setUint32(20, this.size, true); // compressed size\n    v.setUint32(24, this.size, true); // uncompressed size\n    v.setUint16(28, this.name.byteLength, true); // name length\n    v.setUint16(30, 0, true); // extra length\n    v.setUint16(32, 0, true); // comment length\n    v.setUint16(34, 0, true); // disk number\n    v.setUint16(36, 0, true); // internal file attrs\n    v.setUint32(38, 0, true); // external file attrs\n    v.setUint32(42, offset, true); // file offset\n    for (let i = 0; i < this.name.byteLength; i++) {\n      v.setUint8(46 + i, this.name[i]);\n    }\n    return new Uint8Array(dr);\n  }\n\n  get byteLength() {\n    return this.size + this.name.byteLength + 30 + 16;\n  }\n\n  append(data, controller) {\n    this.bytesRead += data.byteLength;\n    const endIndex = data.byteLength - Math.max(this.bytesRead - this.size, 0);\n    const buf = data.slice(0, endIndex);\n    this.crc = crc32(buf, this.crc);\n    controller.enqueue(buf);\n    if (endIndex < data.byteLength) {\n      return data.slice(endIndex, data.byteLength);\n    }\n  }\n}\n\nfunction centralDirectory(files, controller) {\n  let directoryOffset = 0;\n  let directorySize = 0;\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    const record = file.directoryRecord(directoryOffset);\n    directoryOffset += file.byteLength;\n    controller.enqueue(record);\n    directorySize += record.byteLength;\n  }\n  controller.enqueue(eod(files.length, directorySize, directoryOffset));\n}\n\nfunction eod(fileCount, directorySize, directoryOffset) {\n  const e = new ArrayBuffer(22);\n  const v = new DataView(e);\n  v.setUint32(0, 0x06054b50, true); // sig\n  v.setUint16(4, 0, true); // disk number\n  v.setUint16(6, 0, true); // directory disk\n  v.setUint16(8, fileCount, true); // number of records\n  v.setUint16(10, fileCount, true); // total records\n  v.setUint32(12, directorySize, true); // size of directory\n  v.setUint32(16, directoryOffset, true); // offset of directory\n  v.setUint16(20, 0, true); // comment length\n  return new Uint8Array(e);\n}\n\nclass ZipStreamController {\n  constructor(files, source) {\n    this.files = files;\n    this.fileIndex = 0;\n    this.file = null;\n    this.reader = source.getReader();\n    this.nextFile();\n    this.extra = null;\n  }\n\n  nextFile() {\n    this.file = this.files[this.fileIndex++];\n  }\n\n  async pull(controller) {\n    if (!this.file) {\n      // end of archive\n      centralDirectory(this.files, controller);\n      return controller.close();\n    }\n    if (this.file.bytesRead === 0) {\n      // beginning of file\n      controller.enqueue(this.file.header);\n      if (this.extra) {\n        this.extra = this.file.append(this.extra, controller);\n      }\n    }\n    if (this.file.bytesRead >= this.file.size) {\n      // end of file\n      controller.enqueue(this.file.dataDescriptor);\n      this.nextFile();\n      return this.pull(controller);\n    }\n    const data = await this.reader.read();\n    if (data.done) {\n      this.nextFile();\n      return this.pull(controller);\n    }\n    this.extra = this.file.append(data.value, controller);\n  }\n}\n\nexport default class Zip {\n  constructor(manifest, source) {\n    this.files = manifest.files.map((info) => new File(info));\n    this.source = source;\n  }\n\n  get stream() {\n    return new ReadableStream(new ZipStreamController(this.files, this.source));\n  }\n\n  get size() {\n    const entries = this.files.reduce(\n      (total, file) => total + file.byteLength * 2 - file.size,\n      0,\n    );\n    const eod = 22;\n    return entries + eod;\n  }\n}\n", "import Keychain from \"./keychain\";\nimport { delay, bytes, streamToArrayBuffer } from \"./utils\";\nimport { downloadFile, metadata, getApiUrl } from \"./api\";\nimport { blobStream } from \"./streams\";\nimport Zip from \"./zip\";\n\nexport default class FileReceiver extends EventTarget {\n  constructor(fileInfo) {\n    super();\n    this.keychain = new Keychain(fileInfo.secretKey, fileInfo.nonce);\n    if (fileInfo.requiresPassword) {\n      this.keychain.setPassword(fileInfo.password, fileInfo.url);\n    }\n    this.fileInfo = fileInfo;\n    this.reset();\n  }\n\n  get progressRatio() {\n    return this.progress[0] / this.progress[1];\n  }\n\n  get progressIndefinite() {\n    return this.state !== \"downloading\";\n  }\n\n  get sizes() {\n    return {\n      partialSize: bytes(this.progress[0]),\n      totalSize: bytes(this.progress[1]),\n    };\n  }\n\n  cancel() {\n    if (this.downloadRequest) {\n      this.downloadRequest.cancel();\n    }\n  }\n\n  reset() {\n    this.msg = \"fileSizeProgress\";\n    this.state = \"initialized\";\n    this.progress = [0, 1];\n  }\n\n  async getMetadata() {\n    const meta = await metadata(this.fileInfo.id, this.keychain);\n    this.fileInfo.name = meta.name;\n    this.fileInfo.type = meta.type;\n    this.fileInfo.iv = meta.iv;\n    this.fileInfo.size = +meta.size;\n    this.fileInfo.manifest = meta.manifest;\n    this.state = \"ready\";\n  }\n\n  // Removed: reportLink feature not implemented in Go backend\n  // async reportLink(reason) {\n  //   await reportLink(this.fileInfo.id, this.keychain, reason);\n  // }\n\n  sendMessageToSw(msg) {\n    return new Promise((resolve, reject) => {\n      const channel = new MessageChannel();\n\n      channel.port1.onmessage = function (event) {\n        if (event.data === undefined) {\n          reject(\"bad response from serviceWorker\");\n        } else if (event.data.error !== undefined) {\n          reject(event.data.error);\n        } else {\n          resolve(event.data);\n        }\n      };\n\n      navigator.serviceWorker.controller.postMessage(msg, [channel.port2]);\n    });\n  }\n\n  async downloadBlob(noSave = false) {\n    this.state = \"downloading\";\n    this.downloadRequest = await downloadFile(\n      this.fileInfo.id,\n      this.keychain,\n      (p) => {\n        this.progress = [p, this.fileInfo.size];\n        this.dispatchEvent(new Event(\"progress\"));\n      },\n    );\n    try {\n      const ciphertext = await this.downloadRequest.result;\n      this.downloadRequest = null;\n      this.msg = \"decryptingFile\";\n      this.state = \"decrypting\";\n      this.dispatchEvent(new Event(\"decrypting\"));\n      let size = this.fileInfo.size;\n      let plainStream = this.keychain.decryptStream(blobStream(ciphertext));\n      if (this.fileInfo.type === \"send-archive\") {\n        const zip = new Zip(this.fileInfo.manifest, plainStream);\n        plainStream = zip.stream;\n        size = zip.size;\n      }\n      const plaintext = await streamToArrayBuffer(plainStream, size);\n      if (!noSave) {\n        await saveFile({\n          plaintext,\n          name: decodeURIComponent(this.fileInfo.name),\n          type: this.fileInfo.type,\n        });\n      }\n      this.msg = \"downloadFinish\";\n      this.dispatchEvent(new Event(\"complete\"));\n      this.state = \"complete\";\n    } catch (e) {\n      this.downloadRequest = null;\n      throw e;\n    }\n  }\n\n  async downloadStream(noSave = false) {\n    // INFO: We check again, bc eg. openening chrome dev tools\n    // can cause the service worker to be NA.\n    if (!navigator.serviceWorker.controller) {\n      console.log(\"Service worker NA, switching to legacy download\");\n      return this.downloadBlob(noSave);\n    }\n\n    const start = Date.now();\n    const onprogress = (p) => {\n      this.progress = [p, this.fileInfo.size];\n      this.dispatchEvent(new Event(\"progress\"));\n    };\n\n    this.downloadRequest = {\n      cancel: () => {\n        this.sendMessageToSw({ request: \"cancel\", id: this.fileInfo.id });\n      },\n    };\n\n    try {\n      this.state = \"downloading\";\n\n      const info = {\n        request: \"init\",\n        id: this.fileInfo.id,\n        filename: this.fileInfo.name,\n        type: this.fileInfo.type,\n        manifest: this.fileInfo.manifest,\n        key: this.fileInfo.secretKey,\n        requiresPassword: this.fileInfo.requiresPassword,\n        password: this.fileInfo.password,\n        url: this.fileInfo.url,\n        size: this.fileInfo.size,\n        nonce: this.keychain.nonce,\n        noSave,\n      };\n      await this.sendMessageToSw(info);\n\n      onprogress(0);\n\n      if (noSave) {\n        const res = await fetch(getApiUrl(`/api/download/${this.fileInfo.id}`));\n        if (res.status !== 200) {\n          throw new Error(res.status);\n        }\n      } else {\n        const downloadPath = `/api/download/${this.fileInfo.id}`;\n        let downloadUrl = getApiUrl(downloadPath);\n        if (downloadUrl === downloadPath) {\n          downloadUrl = `${location.protocol}//${location.host}${downloadPath}`;\n        }\n        const a = document.createElement(\"a\");\n        a.href = downloadUrl;\n        document.body.appendChild(a);\n        a.click();\n      }\n\n      let prog = 0;\n      let hangs = 0;\n      while (prog < this.fileInfo.size) {\n        const msg = await this.sendMessageToSw({\n          request: \"progress\",\n          id: this.fileInfo.id,\n        });\n        if (msg.progress === prog) {\n          hangs++;\n        } else {\n          hangs = 0;\n        }\n        if (hangs > 30) {\n          // TODO: On Chrome we don't get a cancel\n          // signal so one is indistinguishable from\n          // a hang. We may be able to detect\n          // which end is hung in the service worker\n          // to improve on this.\n          const e = new Error(\"hung download\");\n          e.duration = Date.now() - start;\n          e.size = this.fileInfo.size;\n          e.progress = prog;\n          throw e;\n        }\n        prog = msg.progress;\n        onprogress(prog);\n        await delay(1000);\n      }\n\n      this.downloadRequest = null;\n      this.msg = \"downloadFinish\";\n      this.dispatchEvent(new Event(\"complete\"));\n      this.state = \"complete\";\n    } catch (e) {\n      this.downloadRequest = null;\n      if (e === \"cancelled\" || e.message === \"400\") {\n        throw new Error(0);\n      }\n      throw e;\n    }\n  }\n\n  download(options) {\n    if (options.stream) {\n      return this.downloadStream(options.noSave);\n    }\n    return this.downloadBlob(options.noSave);\n  }\n}\n\nasync function saveFile(file) {\n  return new Promise(function (resolve, reject) {\n    const dataView = new DataView(file.plaintext);\n    const blob = new Blob([dataView], { type: file.type });\n\n    if (navigator.msSaveBlob) {\n      navigator.msSaveBlob(blob, file.name);\n      return resolve();\n    } else {\n      const downloadUrl = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = downloadUrl;\n      a.download = file.name;\n      document.body.appendChild(a);\n      a.click();\n      URL.revokeObjectURL(downloadUrl);\n      setTimeout(resolve, 100);\n    }\n  });\n}\n", "import OwnedFile from \"./ownedFile\";\nimport storage from \"./storage.mjs\";\nimport { OWNER_SECRET_VERSION } from \"./userSecrets.mjs\";\nimport Keychain from \"./keychain\";\nimport { arrayToB64, bytes } from \"./utils\";\nimport { uploadWs } from \"./api\";\nimport { encryptedSize } from \"./utils\";\n\nexport default class FileSender extends EventTarget {\n  constructor() {\n    super();\n    this.keychain = new Keychain();\n    this.reset();\n  }\n\n  get progressRatio() {\n    return this.progress[0] / this.progress[1];\n  }\n\n  get progressIndefinite() {\n    return (\n      [\"fileSizeProgress\", \"notifyUploadEncryptDone\"].indexOf(this.msg) === -1\n    );\n  }\n\n  get sizes() {\n    return {\n      partialSize: bytes(this.progress[0]),\n      totalSize: bytes(this.progress[1]),\n    };\n  }\n\n  reset() {\n    this.uploadRequest = null;\n    this.msg = \"importingFile\";\n    this.progress = [0, 1];\n    this.cancelled = false;\n  }\n\n  cancel() {\n    this.cancelled = true;\n    if (this.uploadRequest) {\n      this.uploadRequest.cancel();\n    }\n  }\n\n  async upload(archive) {\n    if (this.cancelled) {\n      throw new Error(0);\n    }\n    this.msg = \"encryptingFile\";\n    this.dispatchEvent(new Event(\"encrypting\"));\n    const totalSize = encryptedSize(archive.size);\n    const encStream = await this.keychain.encryptStream(archive.stream);\n    const metadata = await this.keychain.encryptMetadata(archive);\n    const authKeyB64 = await this.keychain.authKeyB64();\n    let ownerSecretWrap = null;\n\n    const userSecrets = storage.user;\n    if (userSecrets) {\n      try {\n        const wrapResult = await userSecrets.wrapSecret(this.keychain.rawSecret);\n        ownerSecretWrap = {\n          ciphertext: wrapResult.ciphertext,\n          nonce: wrapResult.nonce,\n          ephemeralPublicKey: wrapResult.ephemeralPublicKey,\n          version: wrapResult.version || OWNER_SECRET_VERSION,\n        };\n        if (wrapResult.updated) {\n          storage.setUser(userSecrets);\n        }\n      } catch (err) {\n        console.warn(\"[FileSender] Failed to wrap owner secret\", err);\n      }\n    }\n\n    this.uploadRequest = uploadWs(\n      encStream,\n      metadata,\n      authKeyB64,\n      archive.timeLimit,\n      archive.dlimit,\n      (p) => {\n        this.progress = [p, totalSize];\n        this.dispatchEvent(new Event(\"progress\"));\n      },\n      ownerSecretWrap,\n    );\n\n    if (this.cancelled) {\n      throw new Error(0);\n    }\n\n    this.msg = \"fileSizeProgress\";\n    this.dispatchEvent(new Event(\"progress\")); // HACK to kick MS Edge\n    try {\n      const result = await this.uploadRequest.result;\n      this.msg = \"notifyUploadEncryptDone\";\n      this.uploadRequest = null;\n      this.progress = [1, 1];\n      const secretKey = arrayToB64(this.keychain.rawSecret);\n      const ownedFile = new OwnedFile({\n        id: result.id,\n        url: `${result.url}#${secretKey}`,\n        name: archive.name,\n        size: archive.size,\n        manifest: archive.manifest,\n        time: result.duration,\n        speed: archive.size / (result.duration / 1000),\n        createdAt: Date.now(),\n        expiresAt: Date.now() + archive.timeLimit * 1000,\n        secretKey: secretKey,\n        nonce: this.keychain.nonce,\n        ownerToken: result.ownerToken,\n        dlimit: archive.dlimit,\n        timeLimit: archive.timeLimit,\n      });\n\n      return ownedFile;\n    } catch (e) {\n      this.msg = \"errorPageHeader\";\n      this.uploadRequest = null;\n      throw e;\n    }\n  }\n}\n", "/* global AUTH_CONFIG */\nimport { browserName, locale } from \"./utils\";\n\nasync function checkCrypto() {\n  try {\n    const key = await crypto.subtle.generateKey(\n      {\n        name: \"AES-GCM\",\n        length: 128,\n      },\n      true,\n      [\"encrypt\", \"decrypt\"],\n    );\n    await crypto.subtle.exportKey(\"raw\", key);\n    await crypto.subtle.encrypt(\n      {\n        name: \"AES-GCM\",\n        iv: crypto.getRandomValues(new Uint8Array(12)),\n        tagLength: 128,\n      },\n      key,\n      new ArrayBuffer(8),\n    );\n    await crypto.subtle.importKey(\n      \"raw\",\n      crypto.getRandomValues(new Uint8Array(16)),\n      \"PBKDF2\",\n      false,\n      [\"deriveKey\"],\n    );\n    await crypto.subtle.importKey(\n      \"raw\",\n      crypto.getRandomValues(new Uint8Array(16)),\n      \"HKDF\",\n      false,\n      [\"deriveKey\"],\n    );\n    await crypto.subtle.generateKey(\n      {\n        name: \"ECDH\",\n        namedCurve: \"P-256\",\n      },\n      true,\n      [\"deriveBits\"],\n    );\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction checkStreams() {\n  try {\n    new ReadableStream({\n      pull() {},\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport default async function getCapabilities() {\n  const browser = browserName();\n  const isMobile = /mobi|android/i.test(navigator.userAgent);\n  const serviceWorker = \"serviceWorker\" in navigator && browser !== \"edge\";\n  let crypto = await checkCrypto();\n  const streams = checkStreams();\n  const share =\n    isMobile &&\n    typeof navigator.share === \"function\" &&\n    locale().startsWith(\"en\"); // en until strings merge\n\n  const standalone =\n    window.matchMedia(\"(display-mode: standalone)\").matches ||\n    navigator.standalone;\n\n  const mobileFirefox = browser === \"firefox\" && isMobile;\n\n  return {\n    crypto,\n    serviceWorker,\n    streamUpload: streams,\n    streamDownload:\n      streams && serviceWorker && browser !== \"safari\" && !mobileFirefox,\n    multifile: streams,\n    share,\n    standalone,\n  };\n}\n", "/**\n * The `FluentType` class is the base of Fluent's type system.\n *\n * Fluent types wrap JavaScript values and store additional configuration for\n * them, which can then be used in the `toString` method together with a proper\n * `Intl` formatter.\n */\nexport class FluentType {\n    /**\n     * Create a `FluentType` instance.\n     *\n     * @param value The JavaScript value to wrap.\n     */\n    constructor(value) {\n        this.value = value;\n    }\n    /**\n     * Unwrap the raw value stored by this `FluentType`.\n     */\n    valueOf() {\n        return this.value;\n    }\n}\n/**\n * A `FluentType` representing no correct value.\n */\nexport class FluentNone extends FluentType {\n    /**\n     * Create an instance of `FluentNone` with an optional fallback value.\n     * @param value The fallback value of this `FluentNone`.\n     */\n    constructor(value = \"???\") {\n        super(value);\n    }\n    /**\n     * Format this `FluentNone` to the fallback string.\n     */\n    toString(scope) {\n        return `{${this.value}}`;\n    }\n}\n/**\n * A `FluentType` representing a number.\n *\n * A `FluentNumber` instance stores the number value of the number it\n * represents. It may also store an option bag of options which will be passed\n * to `Intl.NumerFormat` when the `FluentNumber` is formatted to a string.\n */\nexport class FluentNumber extends FluentType {\n    /**\n     * Create an instance of `FluentNumber` with options to the\n     * `Intl.NumberFormat` constructor.\n     *\n     * @param value The number value of this `FluentNumber`.\n     * @param opts Options which will be passed to `Intl.NumberFormat`.\n     */\n    constructor(value, opts = {}) {\n        super(value);\n        this.opts = opts;\n    }\n    /**\n     * Format this `FluentNumber` to a string.\n     */\n    toString(scope) {\n        try {\n            const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n            return nf.format(this.value);\n        }\n        catch (err) {\n            scope.reportError(err);\n            return this.value.toString(10);\n        }\n    }\n}\n/**\n * A `FluentType` representing a date and time.\n *\n * A `FluentDateTime` instance stores the number value of the date it\n * represents, as a numerical timestamp in milliseconds. It may also store an\n * option bag of options which will be passed to `Intl.DateTimeFormat` when the\n * `FluentDateTime` is formatted to a string.\n */\nexport class FluentDateTime extends FluentType {\n    /**\n     * Create an instance of `FluentDateTime` with options to the\n     * `Intl.DateTimeFormat` constructor.\n     *\n     * @param value The number value of this `FluentDateTime`, in milliseconds.\n     * @param opts Options which will be passed to `Intl.DateTimeFormat`.\n     */\n    constructor(value, opts = {}) {\n        super(value);\n        this.opts = opts;\n    }\n    /**\n     * Format this `FluentDateTime` to a string.\n     */\n    toString(scope) {\n        try {\n            const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n            return dtf.format(this.value);\n        }\n        catch (err) {\n            scope.reportError(err);\n            return new Date(this.value).toISOString();\n        }\n    }\n}\n", "/* global Intl */\n/**\n * @overview\n *\n * The role of the Fluent resolver is to format a `Pattern` to an instance of\n * `FluentValue`. For performance reasons, primitive strings are considered\n * such instances, too.\n *\n * Translations can contain references to other messages or variables,\n * conditional logic in form of select expressions, traits which describe their\n * grammatical features, and can use Fluent builtins which make use of the\n * `Intl` formatters to format numbers and dates into the bundle's languages.\n * See the documentation of the Fluent syntax for more information.\n *\n * In case of errors the resolver will try to salvage as much of the\n * translation as possible. In rare situations where the resolver didn't know\n * how to recover from an error it will return an instance of `FluentNone`.\n *\n * All expressions resolve to an instance of `FluentValue`. The caller should\n * use the `toString` method to convert the instance to a native value.\n *\n * Functions in this file pass around an instance of the `Scope` class, which\n * stores the data required for successful resolution and error recovery.\n */\nimport { FluentType, FluentNone, FluentNumber, FluentDateTime, } from \"./types.js\";\n/**\n * The maximum number of placeables which can be expanded in a single call to\n * `formatPattern`. The limit protects against the Billion Laughs and Quadratic\n * Blowup attacks. See https://msdn.microsoft.com/en-us/magazine/ee335713.aspx.\n */\nconst MAX_PLACEABLES = 100;\n/** Unicode bidi isolation characters. */\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\n/** Helper: match a variant key to the given selector. */\nfunction match(scope, selector, key) {\n    if (key === selector) {\n        // Both are strings.\n        return true;\n    }\n    // XXX Consider comparing options too, e.g. minimumFractionDigits.\n    if (key instanceof FluentNumber &&\n        selector instanceof FluentNumber &&\n        key.value === selector.value) {\n        return true;\n    }\n    if (selector instanceof FluentNumber && typeof key === \"string\") {\n        let category = scope\n            .memoizeIntlObject(Intl.PluralRules, selector.opts)\n            .select(selector.value);\n        if (key === category) {\n            return true;\n        }\n    }\n    return false;\n}\n/** Helper: resolve the default variant from a list of variants. */\nfunction getDefault(scope, variants, star) {\n    if (variants[star]) {\n        return resolvePattern(scope, variants[star].value);\n    }\n    scope.reportError(new RangeError(\"No default\"));\n    return new FluentNone();\n}\n/** Helper: resolve arguments to a call expression. */\nfunction getArguments(scope, args) {\n    const positional = [];\n    const named = Object.create(null);\n    for (const arg of args) {\n        if (arg.type === \"narg\") {\n            named[arg.name] = resolveExpression(scope, arg.value);\n        }\n        else {\n            positional.push(resolveExpression(scope, arg));\n        }\n    }\n    return { positional, named };\n}\n/** Resolve an expression to a Fluent type. */\nfunction resolveExpression(scope, expr) {\n    switch (expr.type) {\n        case \"str\":\n            return expr.value;\n        case \"num\":\n            return new FluentNumber(expr.value, {\n                minimumFractionDigits: expr.precision,\n            });\n        case \"var\":\n            return resolveVariableReference(scope, expr);\n        case \"mesg\":\n            return resolveMessageReference(scope, expr);\n        case \"term\":\n            return resolveTermReference(scope, expr);\n        case \"func\":\n            return resolveFunctionReference(scope, expr);\n        case \"select\":\n            return resolveSelectExpression(scope, expr);\n        default:\n            return new FluentNone();\n    }\n}\n/** Resolve a reference to a variable. */\nfunction resolveVariableReference(scope, { name }) {\n    let arg;\n    if (scope.params) {\n        // We're inside a TermReference. It's OK to reference undefined parameters.\n        if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n            arg = scope.params[name];\n        }\n        else {\n            return new FluentNone(`$${name}`);\n        }\n    }\n    else if (scope.args &&\n        Object.prototype.hasOwnProperty.call(scope.args, name)) {\n        // We're in the top-level Pattern or inside a MessageReference. Missing\n        // variables references produce ReferenceErrors.\n        arg = scope.args[name];\n    }\n    else {\n        scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n        return new FluentNone(`$${name}`);\n    }\n    // Return early if the argument already is an instance of FluentType.\n    if (arg instanceof FluentType) {\n        return arg;\n    }\n    // Convert the argument to a Fluent type.\n    switch (typeof arg) {\n        case \"string\":\n            return arg;\n        case \"number\":\n            return new FluentNumber(arg);\n        case \"object\":\n            if (arg instanceof Date) {\n                return new FluentDateTime(arg.getTime());\n            }\n        // eslint-disable-next-line no-fallthrough\n        default:\n            scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n            return new FluentNone(`$${name}`);\n    }\n}\n/** Resolve a reference to another message. */\nfunction resolveMessageReference(scope, { name, attr }) {\n    const message = scope.bundle._messages.get(name);\n    if (!message) {\n        scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n        return new FluentNone(name);\n    }\n    if (attr) {\n        const attribute = message.attributes[attr];\n        if (attribute) {\n            return resolvePattern(scope, attribute);\n        }\n        scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n        return new FluentNone(`${name}.${attr}`);\n    }\n    if (message.value) {\n        return resolvePattern(scope, message.value);\n    }\n    scope.reportError(new ReferenceError(`No value: ${name}`));\n    return new FluentNone(name);\n}\n/** Resolve a call to a Term with key-value arguments. */\nfunction resolveTermReference(scope, { name, attr, args }) {\n    const id = `-${name}`;\n    const term = scope.bundle._terms.get(id);\n    if (!term) {\n        scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n        return new FluentNone(id);\n    }\n    if (attr) {\n        const attribute = term.attributes[attr];\n        if (attribute) {\n            // Every TermReference has its own variables.\n            scope.params = getArguments(scope, args).named;\n            const resolved = resolvePattern(scope, attribute);\n            scope.params = null;\n            return resolved;\n        }\n        scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n        return new FluentNone(`${id}.${attr}`);\n    }\n    scope.params = getArguments(scope, args).named;\n    const resolved = resolvePattern(scope, term.value);\n    scope.params = null;\n    return resolved;\n}\n/** Resolve a call to a Function with positional and key-value arguments. */\nfunction resolveFunctionReference(scope, { name, args }) {\n    // Some functions are built-in. Others may be provided by the runtime via\n    // the `FluentBundle` constructor.\n    let func = scope.bundle._functions[name];\n    if (!func) {\n        scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n        return new FluentNone(`${name}()`);\n    }\n    if (typeof func !== \"function\") {\n        scope.reportError(new TypeError(`Function ${name}() is not callable`));\n        return new FluentNone(`${name}()`);\n    }\n    try {\n        let resolved = getArguments(scope, args);\n        return func(resolved.positional, resolved.named);\n    }\n    catch (err) {\n        scope.reportError(err);\n        return new FluentNone(`${name}()`);\n    }\n}\n/** Resolve a select expression to the member object. */\nfunction resolveSelectExpression(scope, { selector, variants, star }) {\n    let sel = resolveExpression(scope, selector);\n    if (sel instanceof FluentNone) {\n        return getDefault(scope, variants, star);\n    }\n    // Match the selector against keys of each variant, in order.\n    for (const variant of variants) {\n        const key = resolveExpression(scope, variant.key);\n        if (match(scope, sel, key)) {\n            return resolvePattern(scope, variant.value);\n        }\n    }\n    return getDefault(scope, variants, star);\n}\n/** Resolve a pattern (a complex string with placeables). */\nexport function resolveComplexPattern(scope, ptn) {\n    if (scope.dirty.has(ptn)) {\n        scope.reportError(new RangeError(\"Cyclic reference\"));\n        return new FluentNone();\n    }\n    // Tag the pattern as dirty for the purpose of the current resolution.\n    scope.dirty.add(ptn);\n    const result = [];\n    // Wrap interpolations with Directional Isolate Formatting characters\n    // only when the pattern has more than one element.\n    const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n    for (const elem of ptn) {\n        if (typeof elem === \"string\") {\n            result.push(scope.bundle._transform(elem));\n            continue;\n        }\n        scope.placeables++;\n        if (scope.placeables > MAX_PLACEABLES) {\n            scope.dirty.delete(ptn);\n            // This is a fatal error which causes the resolver to instantly bail out\n            // on this pattern. The length check protects against excessive memory\n            // usage, and throwing protects against eating up the CPU when long\n            // placeables are deeply nested.\n            throw new RangeError(`Too many placeables expanded: ${scope.placeables}, ` +\n                `max allowed is ${MAX_PLACEABLES}`);\n        }\n        if (useIsolating) {\n            result.push(FSI);\n        }\n        result.push(resolveExpression(scope, elem).toString(scope));\n        if (useIsolating) {\n            result.push(PDI);\n        }\n    }\n    scope.dirty.delete(ptn);\n    return result.join(\"\");\n}\n/**\n * Resolve a simple or a complex Pattern to a FluentString\n * (which is really the string primitive).\n */\nfunction resolvePattern(scope, value) {\n    // Resolve a simple pattern.\n    if (typeof value === \"string\") {\n        return scope.bundle._transform(value);\n    }\n    return resolveComplexPattern(scope, value);\n}\n", "export class Scope {\n    constructor(bundle, errors, args) {\n        /**\n         * The Set of patterns already encountered during this resolution.\n         * Used to detect and prevent cyclic resolutions.\n         * @ignore\n         */\n        this.dirty = new WeakSet();\n        /** A dict of parameters passed to a TermReference. */\n        this.params = null;\n        /**\n         * The running count of placeables resolved so far.\n         * Used to detect the Billion Laughs and Quadratic Blowup attacks.\n         * @ignore\n         */\n        this.placeables = 0;\n        this.bundle = bundle;\n        this.errors = errors;\n        this.args = args;\n    }\n    reportError(error) {\n        if (!this.errors || !(error instanceof Error)) {\n            throw error;\n        }\n        this.errors.push(error);\n    }\n    memoizeIntlObject(ctor, opts) {\n        let cache = this.bundle._intls.get(ctor);\n        if (!cache) {\n            cache = {};\n            this.bundle._intls.set(ctor, cache);\n        }\n        let id = JSON.stringify(opts);\n        if (!cache[id]) {\n            cache[id] = new ctor(this.bundle.locales, opts);\n        }\n        return cache[id];\n    }\n}\n", "/**\n * @overview\n *\n * The FTL resolver ships with a number of functions built-in.\n *\n * Each function take two arguments:\n *   - args - an array of positional args\n *   - opts - an object of key-value args\n *\n * Arguments to functions are guaranteed to already be instances of\n * `FluentValue`.  Functions must return `FluentValues` as well.\n */\nimport { FluentNone, FluentNumber, FluentDateTime, } from \"./types.js\";\nfunction values(opts, allowed) {\n    const unwrapped = Object.create(null);\n    for (const [name, opt] of Object.entries(opts)) {\n        if (allowed.includes(name)) {\n            unwrapped[name] = opt.valueOf();\n        }\n    }\n    return unwrapped;\n}\nconst NUMBER_ALLOWED = [\n    \"unitDisplay\",\n    \"currencyDisplay\",\n    \"useGrouping\",\n    \"minimumIntegerDigits\",\n    \"minimumFractionDigits\",\n    \"maximumFractionDigits\",\n    \"minimumSignificantDigits\",\n    \"maximumSignificantDigits\",\n];\n/**\n * The implementation of the `NUMBER()` builtin available to translations.\n *\n * Translations may call the `NUMBER()` builtin in order to specify formatting\n * options of a number. For example:\n *\n *     pi = The value of \u03C0 is {NUMBER($pi, maximumFractionDigits: 2)}.\n *\n * The implementation expects an array of `FluentValues` representing the\n * positional arguments, and an object of named `FluentValues` representing the\n * named parameters.\n *\n * The following options are recognized:\n *\n *     unitDisplay\n *     currencyDisplay\n *     useGrouping\n *     minimumIntegerDigits\n *     minimumFractionDigits\n *     maximumFractionDigits\n *     minimumSignificantDigits\n *     maximumSignificantDigits\n *\n * Other options are ignored.\n *\n * @param args The positional arguments passed to this `NUMBER()`.\n * @param opts The named argments passed to this `NUMBER()`.\n */\nexport function NUMBER(args, opts) {\n    let arg = args[0];\n    if (arg instanceof FluentNone) {\n        return new FluentNone(`NUMBER(${arg.valueOf()})`);\n    }\n    if (arg instanceof FluentNumber) {\n        return new FluentNumber(arg.valueOf(), {\n            ...arg.opts,\n            ...values(opts, NUMBER_ALLOWED),\n        });\n    }\n    if (arg instanceof FluentDateTime) {\n        return new FluentNumber(arg.valueOf(), {\n            ...values(opts, NUMBER_ALLOWED),\n        });\n    }\n    throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\n    \"dateStyle\",\n    \"timeStyle\",\n    \"fractionalSecondDigits\",\n    \"dayPeriod\",\n    \"hour12\",\n    \"weekday\",\n    \"era\",\n    \"year\",\n    \"month\",\n    \"day\",\n    \"hour\",\n    \"minute\",\n    \"second\",\n    \"timeZoneName\",\n];\n/**\n * The implementation of the `DATETIME()` builtin available to translations.\n *\n * Translations may call the `DATETIME()` builtin in order to specify\n * formatting options of a number. For example:\n *\n *     now = It's {DATETIME($today, month: \"long\")}.\n *\n * The implementation expects an array of `FluentValues` representing the\n * positional arguments, and an object of named `FluentValues` representing the\n * named parameters.\n *\n * The following options are recognized:\n *\n *     dateStyle\n *     timeStyle\n *     fractionalSecondDigits\n *     dayPeriod\n *     hour12\n *     weekday\n *     era\n *     year\n *     month\n *     day\n *     hour\n *     minute\n *     second\n *     timeZoneName\n *\n * Other options are ignored.\n *\n * @param args The positional arguments passed to this `DATETIME()`.\n * @param opts The named argments passed to this `DATETIME()`.\n */\nexport function DATETIME(args, opts) {\n    let arg = args[0];\n    if (arg instanceof FluentNone) {\n        return new FluentNone(`DATETIME(${arg.valueOf()})`);\n    }\n    if (arg instanceof FluentDateTime) {\n        return new FluentDateTime(arg.valueOf(), {\n            ...arg.opts,\n            ...values(opts, DATETIME_ALLOWED),\n        });\n    }\n    if (arg instanceof FluentNumber) {\n        return new FluentDateTime(arg.valueOf(), {\n            ...values(opts, DATETIME_ALLOWED),\n        });\n    }\n    throw new TypeError(\"Invalid argument to DATETIME\");\n}\n", "const cache = new Map();\nexport function getMemoizerForLocale(locales) {\n    const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n    let memoizer = cache.get(stringLocale);\n    if (memoizer === undefined) {\n        memoizer = new Map();\n        cache.set(stringLocale, memoizer);\n    }\n    return memoizer;\n}\n", "import { resolveComplexPattern } from \"./resolver.js\";\nimport { Scope } from \"./scope.js\";\nimport { FluentNone } from \"./types.js\";\nimport { NUMBER, DATETIME } from \"./builtins.js\";\nimport { getMemoizerForLocale } from \"./memoizer.js\";\n/**\n * Message bundles are single-language stores of translation resources. They are\n * responsible for formatting message values and attributes to strings.\n */\nexport class FluentBundle {\n    /**\n     * Create an instance of `FluentBundle`.\n     *\n     * @example\n     * ```js\n     * let bundle = new FluentBundle([\"en-US\", \"en\"]);\n     *\n     * let bundle = new FluentBundle(locales, {useIsolating: false});\n     *\n     * let bundle = new FluentBundle(locales, {\n     *   useIsolating: true,\n     *   functions: {\n     *     NODE_ENV: () => process.env.NODE_ENV\n     *   }\n     * });\n     * ```\n     *\n     * @param locales - Used to instantiate `Intl` formatters used by translations.\n     * @param options - Optional configuration for the bundle.\n     */\n    constructor(locales, { functions, useIsolating = true, transform = (v) => v, } = {}) {\n        /** @ignore */\n        this._terms = new Map();\n        /** @ignore */\n        this._messages = new Map();\n        this.locales = Array.isArray(locales) ? locales : [locales];\n        this._functions = {\n            NUMBER,\n            DATETIME,\n            ...functions,\n        };\n        this._useIsolating = useIsolating;\n        this._transform = transform;\n        this._intls = getMemoizerForLocale(locales);\n    }\n    /**\n     * Check if a message is present in the bundle.\n     *\n     * @param id - The identifier of the message to check.\n     */\n    hasMessage(id) {\n        return this._messages.has(id);\n    }\n    /**\n     * Return a raw unformatted message object from the bundle.\n     *\n     * Raw messages are `{value, attributes}` shapes containing translation units\n     * called `Patterns`. `Patterns` are implementation-specific; they should be\n     * treated as black boxes and formatted with `FluentBundle.formatPattern`.\n     *\n     * @param id - The identifier of the message to check.\n     */\n    getMessage(id) {\n        return this._messages.get(id);\n    }\n    /**\n     * Add a translation resource to the bundle.\n     *\n     * @example\n     * ```js\n     * let res = new FluentResource(\"foo = Foo\");\n     * bundle.addResource(res);\n     * bundle.getMessage(\"foo\");\n     * // \u2192 {value: .., attributes: {..}}\n     * ```\n     *\n     * @param res\n     * @param options\n     */\n    addResource(res, { allowOverrides = false, } = {}) {\n        const errors = [];\n        for (let i = 0; i < res.body.length; i++) {\n            let entry = res.body[i];\n            if (entry.id.startsWith(\"-\")) {\n                // Identifiers starting with a dash (-) define terms. Terms are private\n                // and cannot be retrieved from FluentBundle.\n                if (allowOverrides === false && this._terms.has(entry.id)) {\n                    errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n                    continue;\n                }\n                this._terms.set(entry.id, entry);\n            }\n            else {\n                if (allowOverrides === false && this._messages.has(entry.id)) {\n                    errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n                    continue;\n                }\n                this._messages.set(entry.id, entry);\n            }\n        }\n        return errors;\n    }\n    /**\n     * Format a `Pattern` to a string.\n     *\n     * Format a raw `Pattern` into a string. `args` will be used to resolve\n     * references to variables passed as arguments to the translation.\n     *\n     * In case of errors `formatPattern` will try to salvage as much of the\n     * translation as possible and will still return a string. For performance\n     * reasons, the encountered errors are not returned but instead are appended\n     * to the `errors` array passed as the third argument.\n     *\n     * If `errors` is omitted, the first encountered error will be thrown.\n     *\n     * @example\n     * ```js\n     * let errors = [];\n     * bundle.addResource(\n     *     new FluentResource(\"hello = Hello, {$name}!\"));\n     *\n     * let hello = bundle.getMessage(\"hello\");\n     * if (hello.value) {\n     *     bundle.formatPattern(hello.value, {name: \"Jane\"}, errors);\n     *     // Returns \"Hello, Jane!\" and `errors` is empty.\n     *\n     *     bundle.formatPattern(hello.value, undefined, errors);\n     *     // Returns \"Hello, {$name}!\" and `errors` is now:\n     *     // [<ReferenceError: Unknown variable: name>]\n     * }\n     * ```\n     */\n    formatPattern(pattern, args = null, errors = null) {\n        // Resolve a simple pattern without creating a scope. No error handling is\n        // required; by definition simple patterns don't have placeables.\n        if (typeof pattern === \"string\") {\n            return this._transform(pattern);\n        }\n        // Resolve a complex pattern.\n        let scope = new Scope(this, errors, args);\n        try {\n            let value = resolveComplexPattern(scope, pattern);\n            return value.toString(scope);\n        }\n        catch (err) {\n            if (scope.errors && err instanceof Error) {\n                scope.errors.push(err);\n                return new FluentNone().toString(scope);\n            }\n            throw err;\n        }\n    }\n}\n", "// This regex is used to iterate through the beginnings of messages and terms.\n// With the /m flag, the ^ matches at the beginning of every line.\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\n// Both Attributes and Variants are parsed in while loops. These regexes are\n// used to break out of them.\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\n// A \"run\" is a sequence of text or string literal characters which don't\n// require any special handling. For TextElements such special characters are: {\n// (starts a placeable), and line breaks which require additional logic to check\n// if the next line is indented. For StringLiterals they are: \\ (starts an\n// escape sequence), \" (ends the literal), and line breaks which are not allowed\n// in StringLiterals. Note that string runs may be empty; text runs may not.\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\n// Escape sequences.\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\n// Used for trimming TextElements and indents.\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\n// Used in makeIndent to strip spaces from blank lines and normalize CRLF to LF.\nconst RE_BLANK_LINES = / *\\r?\\n/g;\n// Used in makeIndent to measure the indentation.\nconst RE_INDENT = /( *)$/;\n// Common tokens.\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\n// Note the optional comma. As a deviation from the Fluent EBNF, the parser\n// doesn't enforce commas between call arguments.\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\n/**\n * Fluent Resource is a structure storing parsed localization entries.\n */\nexport class FluentResource {\n    constructor(source) {\n        this.body = [];\n        RE_MESSAGE_START.lastIndex = 0;\n        let cursor = 0;\n        // Iterate over the beginnings of messages and terms to efficiently skip\n        // comments and recover from errors.\n        while (true) {\n            let next = RE_MESSAGE_START.exec(source);\n            if (next === null) {\n                break;\n            }\n            cursor = RE_MESSAGE_START.lastIndex;\n            try {\n                this.body.push(parseMessage(next[1]));\n            }\n            catch (err) {\n                if (err instanceof SyntaxError) {\n                    // Don't report any Fluent syntax errors. Skip directly to the\n                    // beginning of the next message or term.\n                    continue;\n                }\n                throw err;\n            }\n        }\n        // The parser implementation is inlined below for performance reasons,\n        // as well as for convenience of accessing `source` and `cursor`.\n        // The parser focuses on minimizing the number of false negatives at the\n        // expense of increasing the risk of false positives. In other words, it\n        // aims at parsing valid Fluent messages with a success rate of 100%, but it\n        // may also parse a few invalid messages which the reference parser would\n        // reject. The parser doesn't perform any validation and may produce entries\n        // which wouldn't make sense in the real world. For best results users are\n        // advised to validate translations with the fluent-syntax parser\n        // pre-runtime.\n        // The parser makes an extensive use of sticky regexes which can be anchored\n        // to any offset of the source string without slicing it. Errors are thrown\n        // to bail out of parsing of ill-formed messages.\n        function test(re) {\n            re.lastIndex = cursor;\n            return re.test(source);\n        }\n        // Advance the cursor by the char if it matches. May be used as a predicate\n        // (was the match found?) or, if errorClass is passed, as an assertion.\n        function consumeChar(char, errorClass) {\n            if (source[cursor] === char) {\n                cursor++;\n                return true;\n            }\n            if (errorClass) {\n                throw new errorClass(`Expected ${char}`);\n            }\n            return false;\n        }\n        // Advance the cursor by the token if it matches. May be used as a predicate\n        // (was the match found?) or, if errorClass is passed, as an assertion.\n        function consumeToken(re, errorClass) {\n            if (test(re)) {\n                cursor = re.lastIndex;\n                return true;\n            }\n            if (errorClass) {\n                throw new errorClass(`Expected ${re.toString()}`);\n            }\n            return false;\n        }\n        // Execute a regex, advance the cursor, and return all capture groups.\n        function match(re) {\n            re.lastIndex = cursor;\n            let result = re.exec(source);\n            if (result === null) {\n                throw new SyntaxError(`Expected ${re.toString()}`);\n            }\n            cursor = re.lastIndex;\n            return result;\n        }\n        // Execute a regex, advance the cursor, and return the capture group.\n        function match1(re) {\n            return match(re)[1];\n        }\n        function parseMessage(id) {\n            let value = parsePattern();\n            let attributes = parseAttributes();\n            if (value === null && Object.keys(attributes).length === 0) {\n                throw new SyntaxError(\"Expected message value or attributes\");\n            }\n            return { id, value, attributes };\n        }\n        function parseAttributes() {\n            let attrs = Object.create(null);\n            while (test(RE_ATTRIBUTE_START)) {\n                let name = match1(RE_ATTRIBUTE_START);\n                let value = parsePattern();\n                if (value === null) {\n                    throw new SyntaxError(\"Expected attribute value\");\n                }\n                attrs[name] = value;\n            }\n            return attrs;\n        }\n        function parsePattern() {\n            let first;\n            // First try to parse any simple text on the same line as the id.\n            if (test(RE_TEXT_RUN)) {\n                first = match1(RE_TEXT_RUN);\n            }\n            // If there's a placeable on the first line, parse a complex pattern.\n            if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n                // Re-use the text parsed above, if possible.\n                return parsePatternElements(first ? [first] : [], Infinity);\n            }\n            // RE_TEXT_VALUE stops at newlines. Only continue parsing the pattern if\n            // what comes after the newline is indented.\n            let indent = parseIndent();\n            if (indent) {\n                if (first) {\n                    // If there's text on the first line, the blank block is part of the\n                    // translation content in its entirety.\n                    return parsePatternElements([first, indent], indent.length);\n                }\n                // Otherwise, we're dealing with a block pattern, i.e. a pattern which\n                // starts on a new line. Discrad the leading newlines but keep the\n                // inline indent; it will be used by the dedentation logic.\n                indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n                return parsePatternElements([indent], indent.length);\n            }\n            if (first) {\n                // It was just a simple inline text after all.\n                return trim(first, RE_TRAILING_SPACES);\n            }\n            return null;\n        }\n        // Parse a complex pattern as an array of elements.\n        function parsePatternElements(elements = [], commonIndent) {\n            while (true) {\n                if (test(RE_TEXT_RUN)) {\n                    elements.push(match1(RE_TEXT_RUN));\n                    continue;\n                }\n                if (source[cursor] === \"{\") {\n                    elements.push(parsePlaceable());\n                    continue;\n                }\n                if (source[cursor] === \"}\") {\n                    throw new SyntaxError(\"Unbalanced closing brace\");\n                }\n                let indent = parseIndent();\n                if (indent) {\n                    elements.push(indent);\n                    commonIndent = Math.min(commonIndent, indent.length);\n                    continue;\n                }\n                break;\n            }\n            let lastIndex = elements.length - 1;\n            let lastElement = elements[lastIndex];\n            // Trim the trailing spaces in the last element if it's a TextElement.\n            if (typeof lastElement === \"string\") {\n                elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n            }\n            let baked = [];\n            for (let element of elements) {\n                if (element instanceof Indent) {\n                    // Dedent indented lines by the maximum common indent.\n                    element = element.value.slice(0, element.value.length - commonIndent);\n                }\n                if (element) {\n                    baked.push(element);\n                }\n            }\n            return baked;\n        }\n        function parsePlaceable() {\n            consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n            let selector = parseInlineExpression();\n            if (consumeToken(TOKEN_BRACE_CLOSE)) {\n                return selector;\n            }\n            if (consumeToken(TOKEN_ARROW)) {\n                let variants = parseVariants();\n                consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n                return {\n                    type: \"select\",\n                    selector,\n                    ...variants,\n                };\n            }\n            throw new SyntaxError(\"Unclosed placeable\");\n        }\n        function parseInlineExpression() {\n            if (source[cursor] === \"{\") {\n                // It's a nested placeable.\n                return parsePlaceable();\n            }\n            if (test(RE_REFERENCE)) {\n                let [, sigil, name, attr = null] = match(RE_REFERENCE);\n                if (sigil === \"$\") {\n                    return { type: \"var\", name };\n                }\n                if (consumeToken(TOKEN_PAREN_OPEN)) {\n                    let args = parseArguments();\n                    if (sigil === \"-\") {\n                        // A parameterized term: -term(...).\n                        return { type: \"term\", name, attr, args };\n                    }\n                    if (RE_FUNCTION_NAME.test(name)) {\n                        return { type: \"func\", name, args };\n                    }\n                    throw new SyntaxError(\"Function names must be all upper-case\");\n                }\n                if (sigil === \"-\") {\n                    // A non-parameterized term: -term.\n                    return {\n                        type: \"term\",\n                        name,\n                        attr,\n                        args: [],\n                    };\n                }\n                return { type: \"mesg\", name, attr };\n            }\n            return parseLiteral();\n        }\n        function parseArguments() {\n            let args = [];\n            while (true) {\n                switch (source[cursor]) {\n                    case \")\": // End of the argument list.\n                        cursor++;\n                        return args;\n                    case undefined: // EOF\n                        throw new SyntaxError(\"Unclosed argument list\");\n                }\n                args.push(parseArgument());\n                // Commas between arguments are treated as whitespace.\n                consumeToken(TOKEN_COMMA);\n            }\n        }\n        function parseArgument() {\n            let expr = parseInlineExpression();\n            if (expr.type !== \"mesg\") {\n                return expr;\n            }\n            if (consumeToken(TOKEN_COLON)) {\n                // The reference is the beginning of a named argument.\n                return {\n                    type: \"narg\",\n                    name: expr.name,\n                    value: parseLiteral(),\n                };\n            }\n            // It's a regular message reference.\n            return expr;\n        }\n        function parseVariants() {\n            let variants = [];\n            let count = 0;\n            let star;\n            while (test(RE_VARIANT_START)) {\n                if (consumeChar(\"*\")) {\n                    star = count;\n                }\n                let key = parseVariantKey();\n                let value = parsePattern();\n                if (value === null) {\n                    throw new SyntaxError(\"Expected variant value\");\n                }\n                variants[count++] = { key, value };\n            }\n            if (count === 0) {\n                return null;\n            }\n            if (star === undefined) {\n                throw new SyntaxError(\"Expected default variant\");\n            }\n            return { variants, star };\n        }\n        function parseVariantKey() {\n            consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n            let key;\n            if (test(RE_NUMBER_LITERAL)) {\n                key = parseNumberLiteral();\n            }\n            else {\n                key = {\n                    type: \"str\",\n                    value: match1(RE_IDENTIFIER),\n                };\n            }\n            consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n            return key;\n        }\n        function parseLiteral() {\n            if (test(RE_NUMBER_LITERAL)) {\n                return parseNumberLiteral();\n            }\n            if (source[cursor] === '\"') {\n                return parseStringLiteral();\n            }\n            throw new SyntaxError(\"Invalid expression\");\n        }\n        function parseNumberLiteral() {\n            let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n            let precision = fraction.length;\n            return {\n                type: \"num\",\n                value: parseFloat(value),\n                precision,\n            };\n        }\n        function parseStringLiteral() {\n            consumeChar('\"', SyntaxError);\n            let value = \"\";\n            while (true) {\n                value += match1(RE_STRING_RUN);\n                if (source[cursor] === \"\\\\\") {\n                    value += parseEscapeSequence();\n                    continue;\n                }\n                if (consumeChar('\"')) {\n                    return { type: \"str\", value };\n                }\n                // We've reached an EOL of EOF.\n                throw new SyntaxError(\"Unclosed string literal\");\n            }\n        }\n        // Unescape known escape sequences.\n        function parseEscapeSequence() {\n            if (test(RE_STRING_ESCAPE)) {\n                return match1(RE_STRING_ESCAPE);\n            }\n            if (test(RE_UNICODE_ESCAPE)) {\n                let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n                let codepoint = parseInt(codepoint4 || codepoint6, 16);\n                return codepoint <= 0xd7ff || 0xe000 <= codepoint\n                    ? // It's a Unicode scalar value.\n                        String.fromCodePoint(codepoint)\n                    : // Lonely surrogates can cause trouble when the parsing result is\n                        // saved using UTF-8. Use U+FFFD REPLACEMENT CHARACTER instead.\n                        \"\uFFFD\";\n            }\n            throw new SyntaxError(\"Unknown escape sequence\");\n        }\n        // Parse blank space. Return it if it looks like indent before a pattern\n        // line. Skip it othwerwise.\n        function parseIndent() {\n            let start = cursor;\n            consumeToken(TOKEN_BLANK);\n            // Check the first non-blank character after the indent.\n            switch (source[cursor]) {\n                case \".\":\n                case \"[\":\n                case \"*\":\n                case \"}\":\n                case undefined: // EOF\n                    // A special character. End the Pattern.\n                    return false;\n                case \"{\":\n                    // Placeables don't require indentation (in EBNF: block-placeable).\n                    // Continue the Pattern.\n                    return makeIndent(source.slice(start, cursor));\n            }\n            // If the first character on the line is not one of the special characters\n            // listed above, it's a regular text character. Check if there's at least\n            // one space of indent before it.\n            if (source[cursor - 1] === \" \") {\n                // It's an indented text character (in EBNF: indented-char). Continue\n                // the Pattern.\n                return makeIndent(source.slice(start, cursor));\n            }\n            // A not-indented text character is likely the identifier of the next\n            // message. End the Pattern.\n            return false;\n        }\n        // Trim blanks in text according to the given regex.\n        function trim(text, re) {\n            return text.replace(re, \"\");\n        }\n        // Normalize a blank block and extract the indent details.\n        function makeIndent(blank) {\n            let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            let length = RE_INDENT.exec(blank)[1].length;\n            return new Indent(value, length);\n        }\n    }\n}\nclass Indent {\n    constructor(value, length) {\n        this.value = value;\n        this.length = length;\n    }\n}\n", "import { FluentBundle, FluentResource } from \"@fluent/bundle\";\n\nfunction makeBundle(locale, ftl) {\n  const bundle = new FluentBundle(locale, { useIsolating: false });\n  bundle.addResource(new FluentResource(ftl));\n  return bundle;\n}\n\n// INFO: Explicit locale imports - to avoid the glob helper chunk\n// which kinda needs an extra network request.\nconst localeLoaders = {\n  an: () => import(\"../locales/an.ftl\"),\n  ar: () => import(\"../locales/ar.ftl\"),\n  ast: () => import(\"../locales/ast.ftl\"),\n  az: () => import(\"../locales/az.ftl\"),\n  azz: () => import(\"../locales/azz.ftl\"),\n  be: () => import(\"../locales/be.ftl\"),\n  bn: () => import(\"../locales/bn.ftl\"),\n  br: () => import(\"../locales/br.ftl\"),\n  bs: () => import(\"../locales/bs.ftl\"),\n  ca: () => import(\"../locales/ca.ftl\"),\n  cak: () => import(\"../locales/cak.ftl\"),\n  ckb: () => import(\"../locales/ckb.ftl\"),\n  cs: () => import(\"../locales/cs.ftl\"),\n  cy: () => import(\"../locales/cy.ftl\"),\n  da: () => import(\"../locales/da.ftl\"),\n  de: () => import(\"../locales/de.ftl\"),\n  dsb: () => import(\"../locales/dsb.ftl\"),\n  el: () => import(\"../locales/el.ftl\"),\n  \"en-CA\": () => import(\"../locales/en-CA.ftl\"),\n  \"en-GB\": () => import(\"../locales/en-GB.ftl\"),\n  \"en-US\": () => import(\"../locales/en-US.ftl\"),\n  \"es-AR\": () => import(\"../locales/es-AR.ftl\"),\n  \"es-CL\": () => import(\"../locales/es-CL.ftl\"),\n  \"es-ES\": () => import(\"../locales/es-ES.ftl\"),\n  \"es-MX\": () => import(\"../locales/es-MX.ftl\"),\n  et: () => import(\"../locales/et.ftl\"),\n  eu: () => import(\"../locales/eu.ftl\"),\n  fa: () => import(\"../locales/fa.ftl\"),\n  fi: () => import(\"../locales/fi.ftl\"),\n  fr: () => import(\"../locales/fr.ftl\"),\n  \"fy-NL\": () => import(\"../locales/fy-NL.ftl\"),\n  gn: () => import(\"../locales/gn.ftl\"),\n  gor: () => import(\"../locales/gor.ftl\"),\n  he: () => import(\"../locales/he.ftl\"),\n  hr: () => import(\"../locales/hr.ftl\"),\n  hsb: () => import(\"../locales/hsb.ftl\"),\n  hu: () => import(\"../locales/hu.ftl\"),\n  hus: () => import(\"../locales/hus.ftl\"),\n  \"hy-AM\": () => import(\"../locales/hy-AM.ftl\"),\n  ia: () => import(\"../locales/ia.ftl\"),\n  id: () => import(\"../locales/id.ftl\"),\n  ig: () => import(\"../locales/ig.ftl\"),\n  it: () => import(\"../locales/it.ftl\"),\n  ixl: () => import(\"../locales/ixl.ftl\"),\n  ja: () => import(\"../locales/ja.ftl\"),\n  ka: () => import(\"../locales/ka.ftl\"),\n  kab: () => import(\"../locales/kab.ftl\"),\n  ko: () => import(\"../locales/ko.ftl\"),\n  lt: () => import(\"../locales/lt.ftl\"),\n  lus: () => import(\"../locales/lus.ftl\"),\n  meh: () => import(\"../locales/meh.ftl\"),\n  mix: () => import(\"../locales/mix.ftl\"),\n  ml: () => import(\"../locales/ml.ftl\"),\n  ms: () => import(\"../locales/ms.ftl\"),\n  \"nb-NO\": () => import(\"../locales/nb-NO.ftl\"),\n  nl: () => import(\"../locales/nl.ftl\"),\n  \"nn-NO\": () => import(\"../locales/nn-NO.ftl\"),\n  oc: () => import(\"../locales/oc.ftl\"),\n  \"pa-IN\": () => import(\"../locales/pa-IN.ftl\"),\n  pai: () => import(\"../locales/pai.ftl\"),\n  pl: () => import(\"../locales/pl.ftl\"),\n  ppl: () => import(\"../locales/ppl.ftl\"),\n  \"pt-BR\": () => import(\"../locales/pt-BR.ftl\"),\n  \"pt-PT\": () => import(\"../locales/pt-PT.ftl\"),\n  quc: () => import(\"../locales/quc.ftl\"),\n  ro: () => import(\"../locales/ro.ftl\"),\n  ru: () => import(\"../locales/ru.ftl\"),\n  sk: () => import(\"../locales/sk.ftl\"),\n  sl: () => import(\"../locales/sl.ftl\"),\n  sn: () => import(\"../locales/sn.ftl\"),\n  sq: () => import(\"../locales/sq.ftl\"),\n  sr: () => import(\"../locales/sr.ftl\"),\n  su: () => import(\"../locales/su.ftl\"),\n  \"sv-SE\": () => import(\"../locales/sv-SE.ftl\"),\n  te: () => import(\"../locales/te.ftl\"),\n  th: () => import(\"../locales/th.ftl\"),\n  tl: () => import(\"../locales/tl.ftl\"),\n  tr: () => import(\"../locales/tr.ftl\"),\n  trs: () => import(\"../locales/trs.ftl\"),\n  uk: () => import(\"../locales/uk.ftl\"),\n  vi: () => import(\"../locales/vi.ftl\"),\n  yo: () => import(\"../locales/yo.ftl\"),\n  yua: () => import(\"../locales/yua.ftl\"),\n  zgh: () => import(\"../locales/zgh.ftl\"),\n  \"zh-CN\": () => import(\"../locales/zh-CN.ftl\"),\n  \"zh-TW\": () => import(\"../locales/zh-TW.ftl\"),\n};\n\nexport async function getTranslator(locale) {\n  const bundles = [];\n  const { default: en } = await import(\"../locales/en-US.ftl\");\n\n  if (locale !== \"en-US\" && localeLoaders[locale]) {\n    const { default: ftl } = await localeLoaders[locale]();\n    bundles.push(makeBundle(locale, ftl));\n  }\n\n  bundles.push(makeBundle(\"en-US\", en));\n  return function (id, data) {\n    for (let bundle of bundles) {\n      if (bundle.hasMessage(id)) {\n        return bundle.formatPattern(bundle.getMessage(id).value, data);\n      }\n    }\n  };\n}\n", "import { blobStream, concatStream } from './streams';\n\nfunction isDupe(newFile, array) {\n  for (const file of array) {\n    if (\n      newFile.name === file.name &&\n      newFile.size === file.size &&\n      newFile.lastModified === file.lastModified\n    ) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default class Archive {\n  constructor(files = [], defaultTimeLimit = 86400, defaultDownloadLimit = 1) {\n    this.files = Array.from(files);\n    this.defaultTimeLimit = defaultTimeLimit;\n    this.defaultDownloadLimit = defaultDownloadLimit;\n    this.timeLimit = defaultTimeLimit;\n    this.dlimit = defaultDownloadLimit;\n    this.password = null;\n    this.customArchiveName = null;\n  }\n\n  get name() {\n    if (this.files.length > 1) {\n      // Use custom name if set, otherwise default to 'Send-Archive'\n      const baseName = this.customArchiveName || 'Send-Archive';\n      // Ensure .zip extension\n      return baseName.endsWith('.zip') ? baseName : `${baseName}.zip`;\n    }\n    return this.files[0].name;\n  }\n\n  setArchiveName(name) {\n    // Only allow setting custom name for multi-file archives\n    if (this.files.length > 1) {\n      this.customArchiveName = name;\n    }\n  }\n\n  get type() {\n    return this.files.length > 1 ? 'send-archive' : this.files[0].type;\n  }\n\n  get size() {\n    return this.files.reduce((total, file) => total + file.size, 0);\n  }\n\n  get numFiles() {\n    return this.files.length;\n  }\n\n  get manifest() {\n    return {\n      files: this.files.map(file => ({\n        name: file.name,\n        size: file.size,\n        type: file.type\n      }))\n    };\n  }\n\n  get stream() {\n    return concatStream(this.files.map(file => blobStream(file)));\n  }\n\n  addFiles(files, maxSize, maxFiles) {\n    if (this.files.length + files.length > maxFiles) {\n      throw new Error('tooManyFiles');\n    }\n    const newFiles = files.filter(\n      file => file.size > 0 && !isDupe(file, this.files)\n    );\n    const newSize = newFiles.reduce((total, file) => total + file.size, 0);\n    if (this.size + newSize > maxSize) {\n      throw new Error('fileTooBig');\n    }\n    this.files = this.files.concat(newFiles);\n    return true;\n  }\n\n  remove(file) {\n    const index = this.files.indexOf(file);\n    if (index > -1) {\n      this.files.splice(index, 1);\n    }\n  }\n\n  clear() {\n    this.files = [];\n    this.dlimit = this.defaultDownloadLimit;\n    this.timeLimit = this.defaultTimeLimit;\n    this.password = null;\n    this.customArchiveName = null;\n  }\n}\n", "/**\n * Favicon Progress Indicator\n *\n * Draws a circular progress ring on the favicon during upload/download.\n * Based on Firefox Send's implementation.\n */\n\nconst SIZE = 32;\nconst LOADER_WIDTH = 5;\n\n/**\n * Draw a circular arc on canvas\n */\nfunction drawCircle(canvas, context, color, lineWidth, outerWidth, percent) {\n  canvas.width = canvas.height = outerWidth;\n  context.translate(outerWidth * 0.5, outerWidth * 0.5);\n  context.rotate(-Math.PI * 0.5);\n  const radius = (outerWidth - lineWidth) * 0.5;\n  context.beginPath();\n  context.arc(0, 0, radius, 0, Math.PI * 2 * percent, false);\n  context.strokeStyle = color;\n  context.lineCap = \"square\";\n  context.lineWidth = lineWidth;\n  context.stroke();\n}\n\n/**\n * Generate a data URL for a favicon with progress indicator\n */\nfunction drawProgressFavicon(progressRatio, primaryColor) {\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n\n  // Draw background circle (light gray)\n  drawCircle(canvas, context, \"#efefef\", LOADER_WIDTH, SIZE, 1);\n\n  // Draw progress circle (primary color)\n  drawCircle(canvas, context, primaryColor, LOADER_WIDTH, SIZE, progressRatio);\n\n  return canvas.toDataURL();\n}\n\n/**\n * Update the favicon with progress indicator\n *\n * @param {number} progressRatio - Progress from 0.0 to 1.0\n */\nexport function updateFavicon(progressRatio) {\n  let link = document.querySelector(\"link[rel='icon'][sizes='32x32']\");\n\n  // Create the icon link if it doesn't exist\n  if (!link) {\n    link = document.createElement(\"link\");\n    link.rel = \"icon\";\n    link.type = \"image/png\";\n    link.sizes = \"32x32\";\n    document.head.appendChild(link);\n  }\n\n  const progress = progressRatio * 100;\n\n  // Reset to default favicon at 0% or 100%\n  if (progress === 0 || progress === 100) {\n    link.type = \"image/png\";\n\n    // Use custom favicon if configured, otherwise use default\n    const customFavicon = window.WEB_UI?.CUSTOM_ASSETS?.favicon_32px;\n    link.href = customFavicon || \"/favicon.ico\";\n    return;\n  }\n\n  // Draw progress indicator\n  const primaryColor = window.WEB_UI?.COLORS?.PRIMARY || \"#0A84FF\";\n  link.href = drawProgressFavicon(progressRatio, primaryColor);\n}\n\n/**\n * Update page title with progress percentage\n * (shown when tab is not focused)\n *\n * @param {number} progressRatio - Progress from 0.0 to 1.0\n */\nexport function updateTitle(progressRatio) {\n  const percent = Math.floor(progressRatio * 100);\n  document.title = `${percent}% - Send`;\n}\n\n/**\n * Reset page title to default\n */\nexport function resetTitle() {\n  document.title = \"Send\";\n}\n\n/**\n * Setup automatic favicon/title updates based on window focus\n * Call this once during app initialization\n */\nexport function setupProgressIndicators() {\n  let updateTitleOnProgress = false;\n\n  // When window loses focus, show progress in title\n  window.addEventListener(\"blur\", () => {\n    updateTitleOnProgress = true;\n  });\n\n  // When window gains focus, reset to default\n  window.addEventListener(\"focus\", () => {\n    updateTitleOnProgress = false;\n    resetTitle();\n    updateFavicon(0);\n  });\n\n  // Return helper to conditionally update title\n  return {\n    update: (progressRatio) => {\n      if (updateTitleOnProgress) {\n        updateTitle(progressRatio);\n      }\n      updateFavicon(progressRatio);\n    },\n    reset: () => {\n      resetTitle();\n      updateFavicon(0);\n    },\n  };\n}\n", "import FileReceiver from \"./fileReceiver\";\nimport FileSender from \"./fileSender\";\n// import copyDialog from \"./ui/copyDialog\";\n// import okDialog from \"./ui/okDialog\";\n// import shareDialog from \"./ui/shareDialog\";\nimport { bytes } from \"./utils\";\nimport { copyToClipboard, delay, openLinksInNewTab, percent, setTranslate, locale } from \"./utils\";\nimport getCapabilities from \"./capabilities.mjs\";\nimport storage from \"./storage.mjs\";\nimport { getTranslator } from \"./locale.mjs\";\nimport Archive from \"./archive.mjs\";\nimport { setupProgressIndicators } from \"./faviconProgress.mjs\";\n\n/**\n * Controller - Handles business logic for the application\n *\n * This class initializes application state and listens to events\n * from the <go-send> custom element to orchestrate file uploads,\n * downloads, and state management.\n *\n * Usage:\n *   const controller = new Controller(goSendElement);\n *   await controller.ready;  // Wait for state initialization\n *   controller.hookupHandlers();  // in connectedCallback\n *   controller.destroyHandlers(); // in disconnectedCallback\n */\nexport class Controller {\n  constructor(rootElement) {\n    this.root = rootElement;\n    this.state = null;\n\n    // Bind event handlers so they maintain 'this' context\n    this.handleAddFiles = this.handleAddFiles.bind(this);\n    this.handleRemoveUpload = this.handleRemoveUpload.bind(this);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleCopy = this.handleCopy.bind(this);\n    this.handleShare = this.handleShare.bind(this);\n    this.handleUpdateOptions = this.handleUpdateOptions.bind(this);\n\n    // Download handlers\n    this.handleMetadataRequest = this.handleMetadataRequest.bind(this);\n    this.handleDownloadStart = this.handleDownloadStart.bind(this);\n\n    // Track intervals for cleanup\n    this.intervals = [];\n\n    // Track last render time for countdown timer optimization\n    this.lastRender = 0;\n\n    // Setup favicon/title progress indicators\n    this.progressIndicators = setupProgressIndicators();\n\n    // Start async initialization immediately\n    this.ready = this.initialize();\n  }\n\n  /**\n   * Initialize application state asynchronously\n   * - Check browser capabilities (crypto, service worker)\n   * - Register service worker if supported\n   * - Load translations\n   * - Create initial state object\n   * - Expose state globally for debugging\n   */\n  async initialize() {\n    /* global DEFAULTS LIMITS WEB_UI PREFS */\n\n    // Check capabilities\n    const capabilities = await getCapabilities();\n    if (!capabilities.crypto && window.location.pathname !== \"/unsupported/crypto\") {\n      window.location.assign(\"/unsupported/crypto\");\n      throw new Error(\"Crypto not supported\");\n    }\n\n    // Register service worker\n    if (capabilities.serviceWorker) {\n      try {\n        await navigator.serviceWorker.register(\"/serviceWorker.js\");\n        await navigator.serviceWorker.ready;\n        console.log(\"[Controller] Service Worker registered\");\n      } catch (e) {\n        console.warn(\"[Controller] Service Worker registration failed:\", e);\n        capabilities.streamDownload = false;\n      }\n    }\n\n    // Load translations\n    const translate = await getTranslator(locale());\n    setTranslate(translate);\n    window.translate = translate; // Make globally available for components\n\n    // Create state object\n    this.state = {\n      LIMITS,\n      DEFAULTS,\n      WEB_UI,\n      PREFS,\n      archive: new Archive([], DEFAULTS.EXPIRE_SECONDS, DEFAULTS.DOWNLOADS),\n      capabilities,\n      translate,\n      storage,\n      transfer: null,\n      fileInfo: null,\n      locale: locale(),\n    };\n\n    // Expose globally for debugging and external access\n    window.appState = this.state;\n\n    console.log(\"[Controller] Initialization complete\");\n    return this.state;\n  }\n\n  /**\n   * Initialize upload view - check for existing files\n   * Called when upload-layout is first shown\n   */\n  async initializeUploadView() {\n    console.log(\"[Controller] Initializing upload view\");\n    await this.checkFiles();\n  }\n\n  /**\n   * Attach event listeners to the root element\n   * Call this in connectedCallback()\n   */\n  hookupHandlers() {\n    this.root.addEventListener(\"addfiles\", this.handleAddFiles);\n    this.root.addEventListener(\"removeupload\", this.handleRemoveUpload);\n    this.root.addEventListener(\"upload\", this.handleUpload);\n    this.root.addEventListener(\"cancel\", this.handleCancel);\n    this.root.addEventListener(\"delete\", this.handleDelete);\n    this.root.addEventListener(\"copy\", this.handleCopy);\n    this.root.addEventListener(\"share\", this.handleShare);\n    this.root.addEventListener(\"updateoptions\", this.handleUpdateOptions);\n\n    // Download handlers\n    this.root.addEventListener(\"metadata-request\", this.handleMetadataRequest);\n    this.root.addEventListener(\"download-start\", this.handleDownloadStart);\n\n    // Set up periodic tasks (like in old controller)\n\n    // Poll for file info updates (download counts, expiration) every 2 minutes\n    this.intervals.push(\n      setInterval(() => this.checkFiles(), 2 * 60 * 1000)\n    );\n\n    // Re-render file list every minute to update countdown timers (\"expires in X minutes\")\n    this.intervals.push(\n      setInterval(() => this.rerenderCountdowns(), 60 * 1000)\n    );\n\n    console.log(\"[Controller] Event handlers attached\");\n  }\n\n  /**\n   * Remove event listeners and clean up intervals\n   * Call this in disconnectedCallback()\n   */\n  destroyHandlers() {\n    this.root.removeEventListener(\"addfiles\", this.handleAddFiles);\n    this.root.removeEventListener(\"removeupload\", this.handleRemoveUpload);\n    this.root.removeEventListener(\"upload\", this.handleUpload);\n    this.root.removeEventListener(\"cancel\", this.handleCancel);\n    this.root.removeEventListener(\"delete\", this.handleDelete);\n    this.root.removeEventListener(\"copy\", this.handleCopy);\n    this.root.removeEventListener(\"share\", this.handleShare);\n    this.root.removeEventListener(\"updateoptions\", this.handleUpdateOptions);\n\n    // Download handlers\n    this.root.removeEventListener(\"metadata-request\", this.handleMetadataRequest);\n    this.root.removeEventListener(\"download-start\", this.handleDownloadStart);\n\n    // Clear intervals\n    this.intervals.forEach(id => clearInterval(id));\n    this.intervals = [];\n\n    console.log(\"[Controller] Event handlers destroyed\");\n  }\n\n  /**\n   * Event Handlers\n   */\n\n  async handleAddFiles(event) {\n    const { files } = event.detail;\n\n    if (files.length < 1) {\n      return;\n    }\n\n    console.log(\"[Controller] Adding files:\", files);\n\n    const maxSize = this.state.LIMITS.MAX_FILE_SIZE;\n    try {\n      this.state.archive.addFiles(\n        files,\n        maxSize,\n        this.state.LIMITS.MAX_FILES_PER_ARCHIVE,\n      );\n\n      this._showUploadAreaError(null);\n\n      if (\n        this.root.currentLayout &&\n        typeof this.root.currentLayout.refreshArchiveState === \"function\"\n      ) {\n        this.root.currentLayout.refreshArchiveState();\n      }\n    } catch (e) {\n      console.error(\"[Controller] Error adding files:\", e);\n      this._handleAddFilesError(e);\n    }\n  }\n\n  handleRemoveUpload(event) {\n    const { file } = event.detail;\n\n    console.log(\"[Controller] Removing upload:\", file);\n\n    this.state.archive.remove(file);\n    if (this.state.archive.numFiles === 0) {\n      this.state.archive.clear();\n    }\n\n    this._showUploadAreaError(null);\n\n    if (\n      this.root.currentLayout &&\n      typeof this.root.currentLayout.refreshArchiveState === \"function\"\n    ) {\n      this.root.currentLayout.refreshArchiveState();\n    }\n  }\n\n  handleUpdateOptions(event) {\n    const { timeLimit, downloadLimit, password, archiveName } = event.detail;\n    const archive = this.state.archive;\n\n    if (!archive) {\n      return;\n    }\n\n    if (typeof timeLimit === \"number\" && !Number.isNaN(timeLimit)) {\n      archive.timeLimit = timeLimit;\n    }\n\n    if (typeof downloadLimit === \"number\" && !Number.isNaN(downloadLimit)) {\n      archive.dlimit = downloadLimit;\n    }\n\n    if (password !== undefined) {\n      archive.password = password ? password : null;\n    }\n\n    if (archiveName !== undefined) {\n      archive.customArchiveName = archiveName ? archiveName : null;\n    }\n\n    console.log(\"[Controller] Updated archive options\", {\n      timeLimit: archive.timeLimit,\n      downloadLimit: archive.dlimit,\n      password: archive.password ? \"***\" : null,\n    });\n\n  }\n\n  async handleUpload(event) {\n    console.log(\"[Controller] Starting upload\");\n\n    if (this.state.storage.files.length >= this.state.LIMITS.MAX_ARCHIVES_PER_USER) {\n      console.warn(\"[Controller] Too many archives\");\n      return;\n    }\n\n    const archive = this.state.archive;\n    const sender = new FileSender();\n\n    sender.addEventListener(\"progress\", () => this.updateProgress());\n    sender.addEventListener(\"encrypting\", () => this.render());\n    sender.addEventListener(\"complete\", () => this.render());\n\n    this.state.transfer = sender;\n    this.state.uploading = true;\n    this.render();\n\n    if (\n      this.root.currentLayout &&\n      typeof this.root.currentLayout.refreshArchiveState === \"function\"\n    ) {\n      this.root.currentLayout.refreshArchiveState();\n    }\n\n    const links = openLinksInNewTab();\n    await delay(200);\n\n    try {\n      const ownedFile = await sender.upload(archive);\n      this.state.storage.totalUploads += 1;\n      this.progressIndicators.reset();\n\n      this.state.storage.addFile(ownedFile);\n\n      if (archive.password) {\n        await this.handlePassword({ password: archive.password, file: ownedFile });\n      }\n\n      console.log(\"[Controller] Upload complete:\", ownedFile);\n\n      // Reset upload state after successful upload\n      this.state.uploading = false;\n      this.state.transfer = null;\n\n      // Clear the archive for next upload\n      archive.clear();\n      await this.state.storage.merge();\n\n      // Update the layout to show complete view\n      if (this.root.currentLayout && this.root.currentLayout.setUploadComplete) {\n        this.root.currentLayout.setUploadComplete(ownedFile);\n      }\n\n    } catch (err) {\n      if (err.message === \"0\") {\n        // Cancelled, do nothing\n        console.log(\"[Controller] Upload cancelled\");\n\n        // Reset state for cancel\n        openLinksInNewTab(links, false);\n        archive.clear();\n        this.state.uploading = false;\n        this.state.transfer = null;\n        await this.state.storage.merge();\n        this.render();\n\n        if (\n          this.root.currentLayout &&\n          typeof this.root.currentLayout.refreshArchiveState === \"function\"\n        ) {\n          this.root.currentLayout.refreshArchiveState();\n        }\n      } else {\n        console.error(\"[Controller] Upload error:\", err);\n\n        // Reset upload state but keep archive for retry\n        this.state.uploading = false;\n        this.state.transfer = null;\n        this.render();\n\n        // Show error after state is reset\n        this._showUploadError(err.message || \"An error occurred during upload\");\n      }\n    }\n  }\n\n  handleCancel(event) {\n    console.log(\"[Controller] Cancelling upload\");\n\n    if (this.state.transfer) {\n      this.state.transfer.cancel();\n      this.progressIndicators.reset();\n    }\n\n    if (\n      this.root.currentLayout &&\n      typeof this.root.currentLayout.refreshArchiveState === \"function\"\n    ) {\n      this.root.currentLayout.refreshArchiveState();\n    }\n  }\n\n  async handleDelete(event) {\n    const { ownedFile } = event.detail;\n\n    console.log(\"[Controller] Deleting file:\", ownedFile);\n\n    try {\n      this.state.storage.remove(ownedFile.id);\n      await ownedFile.del();\n\n      // Update UI: refresh upload list\n      if (\n        this.root.currentLayout &&\n        typeof this.root.currentLayout.refreshUploadList === \"function\"\n      ) {\n        this.root.currentLayout.refreshUploadList();\n      }\n    } catch (e) {\n      console.error(\"[Controller] Error deleting file:\", e);\n    }\n  }\n\n  handleCopy(event) {\n    const { url } = event.detail;\n\n    console.log(\"[Controller] Copying to clipboard:\", url);\n    copyToClipboard(url);\n  }\n\n  handleShare(event) {\n    const { url, name } = event.detail;\n\n    console.log(\"[Controller] Sharing:\", { url, name });\n\n    // Use native share API if available\n    if (navigator.share) {\n      navigator.share({\n        title: name,\n        url: url\n      }).catch(err => console.log(\"[Controller] Share cancelled:\", err));\n    } else {\n      // Fallback to copy\n      this.handleCopy({ detail: { url } });\n    }\n  }\n\n  /**\n   * Helper Methods\n   */\n\n  async handlePassword({ password, file }) {\n    try {\n      this.state.settingPassword = true;\n      this.render();\n      await file.setPassword(password);\n      this.state.storage.writeFile(file);\n      await delay(1000);\n    } catch (err) {\n      console.error(\"[Controller] Error setting password:\", err);\n      this.state.passwordSetError = err;\n    } finally {\n      this.state.settingPassword = false;\n    }\n    this.render();\n  }\n\n  updateProgress() {\n    if (!this.state.transfer) return;\n\n    const ratio = this.state.transfer.progressRatio;\n\n    // Update layout if it has progress methods\n    if (this.root.currentLayout && this.root.currentLayout.updateProgress) {\n      const bytesUploaded = this.state.transfer.progress[0];\n      const totalBytes = this.state.transfer.progress[1];\n      this.root.currentLayout.updateProgress(ratio, bytesUploaded, totalBytes);\n    }\n\n    // Update favicon and title (if window not focused)\n    this.progressIndicators.update(ratio);\n  }\n\n  /**\n   * Check for file updates (download counts, expiration, etc.)\n   * Called periodically and on initial load\n   */\n  async checkFiles() {\n    const changes = await this.state.storage.merge();\n\n    // Re-render if download counts changed OR files expired/removed\n    if (changes.downloadCount || changes.outgoing) {\n      this.render();\n    }\n  }\n\n  /**\n   * Re-render the upload list to update countdown timers\n   * Called every minute to update \"expires in X minutes\" displays\n   */\n  rerenderCountdowns() {\n    // Only re-render if:\n    // 1. We have files to show\n    // 2. User is on upload view\n    // 3. Haven't rendered in the last 30 seconds\n    const now = Date.now();\n    const hasFiles = this.state.storage && this.state.storage.files.length > 0;\n    const isUploadView = this.root.currentLayout && this.root.currentLayout.tagName === 'UPLOAD-LAYOUT';\n    const needsUpdate = now - this.lastRender > 30000;\n\n    if (hasFiles && isUploadView && needsUpdate) {\n      console.log(\"[Controller] Updating countdown timers\");\n      this.render();\n    }\n  }\n\n  render() {\n    // Update last render time\n    this.lastRender = Date.now();\n\n    // Refresh upload list if on upload layout\n    const layout = this.root.currentLayout;\n    if (layout && layout.tagName === 'UPLOAD-LAYOUT' && typeof layout.refreshUploadList === 'function') {\n      layout.refreshUploadList();\n    }\n\n    console.log(\"[Controller] Render requested\");\n  }\n\n  _translate(key, fallback, params) {\n    const translator = this.state.translate || window.translate;\n    if (typeof translator === \"function\") {\n      try {\n        const value = translator(key, params);\n        if (value) {\n          return value;\n        }\n      } catch (err) {\n        // ignore missing translation key\n      }\n    }\n    return fallback;\n  }\n\n  _handleAddFilesError(error) {\n    let message = \"\";\n\n    if (error && error.message === \"tooManyFiles\") {\n      message = this._translate(\n        \"tooManyFiles\",\n        `Too many files (max ${this.state.LIMITS.MAX_FILES_PER_ARCHIVE})`,\n        {\n          count: this.state.LIMITS.MAX_FILES_PER_ARCHIVE,\n          size: bytes(this.state.LIMITS.MAX_FILE_SIZE),\n        },\n      );\n    } else if (error && error.message === \"fileTooBig\") {\n      message = this._translate(\n        \"fileTooBig\",\n        `That file is too big (max ${bytes(this.state.LIMITS.MAX_FILE_SIZE)})`,\n        {\n          size: bytes(this.state.LIMITS.MAX_FILE_SIZE),\n        },\n      );\n    }\n\n    if (message) {\n      this._showUploadAreaError(message);\n    } else {\n      this._showUploadAreaError(null);\n    }\n  }\n\n  _showUploadAreaError(message) {\n    const layout = this.root.currentLayout;\n    if (!layout || !layout.uploadArea) {\n      return;\n    }\n\n    if (message && typeof layout.uploadArea.showError === \"function\") {\n      layout.uploadArea.showError(message);\n    } else if (!message) {\n      if (typeof layout.uploadArea.clearError === \"function\") {\n        layout.uploadArea.clearError();\n      } else if (typeof layout.uploadArea.showError === \"function\") {\n        layout.uploadArea.showError(null);\n      }\n    }\n  }\n\n  _showUploadError(message) {\n    const layout = this.root.currentLayout;\n    if (!layout || !layout.uploadArea) {\n      return;\n    }\n\n    if (typeof layout.uploadArea.showErrorView === \"function\") {\n      layout.uploadArea.showErrorView(message);\n    }\n  }\n\n  /**\n   * Download Event Handlers\n   */\n\n  /**\n   * Handle metadata-request event from download-layout\n   * Creates FileReceiver and fetches file metadata\n   */\n  async handleMetadataRequest(event) {\n    const { fileInfo } = event.detail;\n    console.log(\"[Controller] Metadata request for file:\", fileInfo.id);\n\n    // Store fileInfo in state\n    this.state.fileInfo = fileInfo;\n\n    // Create FileReceiver\n    const receiver = new FileReceiver(fileInfo);\n\n    try {\n      // Fetch metadata (decrypts file info like name, size, type)\n      await receiver.getMetadata();\n\n      // Store receiver in state.transfer\n      this.state.transfer = receiver;\n\n      // Update fileInfo with decrypted metadata\n      Object.assign(this.state.fileInfo, {\n        name: receiver.fileInfo.name,\n        type: receiver.fileInfo.type,\n        size: receiver.fileInfo.size,\n        manifest: receiver.fileInfo.manifest,\n        iv: receiver.fileInfo.iv,\n      });\n\n      console.log(\"[Controller] Metadata fetched successfully:\", {\n        name: receiver.fileInfo.name,\n        size: receiver.fileInfo.size,\n        type: receiver.fileInfo.type,\n      });\n\n      // Tell download-layout to show overview\n      const layout = this.root.currentLayout;\n      if (layout && typeof layout.showOverviewView === \"function\") {\n        layout.showOverviewView(this.state.fileInfo);\n      }\n    } catch (e) {\n      console.error(\"[Controller] Error fetching metadata:\", e);\n\n      // Handle specific errors\n      if (e.message === \"401\") {\n        // Password incorrect\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showPasswordView === \"function\") {\n          const translate = this.state.translate || window.translate;\n          const errorMsg = translate ? translate(\"passwordTryAgain\") : \"Incorrect password. Please try again.\";\n          layout.showPasswordView(errorMsg);\n        }\n      } else if (e.message === \"404\") {\n        // File not found\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showErrorView === \"function\") {\n          const translate = this.state.translate || window.translate;\n          const errorMsg = translate ? translate(\"notFoundDescription\") : \"File not found or expired.\";\n          layout.showErrorView(errorMsg);\n        }\n      } else {\n        // Other error\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showErrorView === \"function\") {\n          layout.showErrorView(\"An error occurred while fetching file information.\");\n        }\n      }\n    }\n  }\n\n  /**\n   * Handle download-start event from file-overview view\n   * Starts the actual file download\n   */\n  async handleDownloadStart(event) {\n    console.log(\"[Controller] Download start\");\n\n    if (!this.state.transfer) {\n      console.error(\"[Controller] No transfer (FileReceiver) in state\");\n      return;\n    }\n\n    const receiver = this.state.transfer;\n\n    // Set up progress listeners\n    receiver.addEventListener(\"progress\", () => {\n      this.updateDownloadProgress();\n    });\n    receiver.addEventListener(\"decrypting\", () => {\n      console.log(\"[Controller] Decrypting file...\");\n    });\n    receiver.addEventListener(\"complete\", () => {\n      console.log(\"[Controller] Download complete\");\n      this.handleDownloadComplete();\n    });\n\n    try {\n      // Start download (choose method based on capabilities)\n      const useStream = this.state.capabilities.streamDownload;\n      await receiver.download({ stream: useStream });\n\n      // Update stats\n      this.state.storage.totalDownloads += 1;\n    } catch (err) {\n      console.error(\"[Controller] Download error:\", err);\n\n      if (err.message === \"0\") {\n        // Download cancelled by user\n        receiver.reset();\n        this.progressIndicators.reset();\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showOverviewView === \"function\") {\n          layout.showOverviewView(this.state.fileInfo);\n        }\n      } else if (err.message === \"404\") {\n        // File not found\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showErrorView === \"function\") {\n          const translate = this.state.translate || window.translate;\n          const errorMsg = translate ? translate(\"notFoundDescription\") : \"File not found or expired.\";\n          layout.showErrorView(errorMsg);\n        }\n      } else {\n        // Other error\n        const layout = this.root.currentLayout;\n        if (layout && typeof layout.showErrorView === \"function\") {\n          layout.showErrorView(\"An error occurred during download.\");\n        }\n      }\n    }\n  }\n\n  /**\n   * Update download progress (called during download)\n   */\n  updateDownloadProgress() {\n    if (!this.state.transfer) return;\n\n    const receiver = this.state.transfer;\n    const ratio = receiver.progressRatio;\n    const bytesDownloaded = receiver.progress[0];\n    const totalBytes = receiver.progress[1];\n\n    // Update layout progress\n    const layout = this.root.currentLayout;\n    if (layout && typeof layout.updateProgress === \"function\") {\n      layout.updateProgress(ratio, bytesDownloaded, totalBytes);\n    }\n\n    // Update favicon and title (if window not focused)\n    this.progressIndicators.update(ratio);\n  }\n\n  /**\n   * Handle download complete\n   */\n  handleDownloadComplete() {\n    console.log(\"[Controller] Download completed successfully\");\n\n    // Reset progress indicators\n    this.progressIndicators.reset();\n\n    // Show finished view\n    const layout = this.root.currentLayout;\n    if (layout && typeof layout.showFinishedView === \"function\") {\n      layout.showFinishedView();\n    }\n\n    // Clean up\n    this.state.transfer = null;\n  }\n}\n", "import { translateElement } from \"../utils.mjs\";\nimport { Controller } from \"../controller.mjs\";\n\n/**\n * <go-send> - Root element\n * - Manages high-level layout switching (upload, download, error, etc.)\n * - Maintains reference to current layout only\n * - Controller handles all business logic, state initialization, and events\n */\nclass GoSendElement extends HTMLElement {\n  constructor() {\n    super();\n    this.currentView = null;\n\n    // Current layout reference (only one layout active at a time)\n    this.currentLayout = null;\n\n    // Controller handles business logic and state initialization\n    // Instantiated immediately, initializes state asynchronously\n    this.controller = new Controller(this);\n\n    // Track scheduled initialization and template state\n    this._initFrame = null;\n    this._templateMounted = false;\n  }\n\n  /**\n   * Convenience getter for state (delegates to controller)\n   */\n  get state() {\n    return this.controller ? this.controller.state : null;\n  }\n\n  connectedCallback() {\n    // Mount template first (synchronous)\n    if (!this._templateMounted) {\n      const template = document.getElementById(\"go-send\");\n      if (!template) {\n        console.error(\"Template #go-send not found\");\n        return;\n      }\n\n      const content = template.content.cloneNode(true);\n      this.appendChild(content);\n      this._templateMounted = true;\n    }\n\n    if (this._initFrame !== null) {\n      cancelAnimationFrame(this._initFrame);\n    }\n\n    // Schedule async initialization\n    this._initFrame = requestAnimationFrame(async () => {\n      this._initFrame = null;\n      if (!this.isConnected) {\n        return;\n      }\n\n      // Wait for controller to initialize state\n      await this.controller.ready;\n\n      // Check again after await - component might have disconnected\n      if (!this.isConnected) {\n        return;\n      }\n\n      // Now we have state, can render\n      translateElement(this);\n\n      // Layout will be set by router in main.mjs\n      // Don't show any layout here - let the router decide\n\n      this.controller.hookupHandlers();\n    });\n  }\n\n  disconnectedCallback() {\n    if (this._initFrame !== null) {\n      cancelAnimationFrame(this._initFrame);\n      this._initFrame = null;\n    }\n    if (this.controller) {\n      this.controller.destroyHandlers();\n      this.controller = null;\n    }\n  }\n\n  showUploadLayout() {\n    const slot = this.querySelector(\"#app-content\");\n    if (!slot) {\n      console.error(\"Slot #app-content not found in go-send template\");\n      return;\n    }\n\n    slot.innerHTML = \"\";\n    const uploadLayout = document.createElement(\"upload-layout\");\n    slot.appendChild(uploadLayout);\n\n    this.currentLayout = uploadLayout;\n    this.currentView = \"upload\";\n\n    // Initialize upload view (check for existing files on load)\n    if (this.controller && typeof this.controller.initializeUploadView === 'function') {\n      this.controller.initializeUploadView();\n    }\n  }\n\n  showDownloadLayout() {\n    const slot = this.querySelector(\"#app-content\");\n    if (!slot) {\n      console.error(\"Slot #app-content not found in go-send template\");\n      return;\n    }\n\n    slot.innerHTML = \"\";\n    const downloadLayout = document.createElement(\"download-layout\");\n    slot.appendChild(downloadLayout);\n\n    this.currentLayout = downloadLayout;\n    this.currentView = \"download\";\n  }\n\n  showRegisterLayout() {\n    const slot = this.querySelector(\"#app-content\");\n    if (!slot) {\n      console.error(\"Slot #app-content not found in go-send template\");\n      return;\n    }\n\n    slot.innerHTML = \"\";\n    const registerLayout = document.createElement(\"register-layout\");\n    slot.appendChild(registerLayout);\n\n    this.currentLayout = registerLayout;\n    this.currentView = \"register\";\n  }\n\n  showLoginLayout() {\n    const slot = this.querySelector(\"#app-content\");\n    if (!slot) {\n      console.error(\"Slot #app-content not found in go-send template\");\n      return;\n    }\n\n    slot.innerHTML = \"\";\n    const loginLayout = document.createElement(\"login-layout\");\n    slot.appendChild(loginLayout);\n\n    this.currentLayout = loginLayout;\n    this.currentView = \"login\";\n  }\n\n  showErrorLayout(errorMessage) {\n    const slot = this.querySelector(\"#app-content\");\n    if (!slot) {\n      console.error(\"Slot #app-content not found in go-send template\");\n      return;\n    }\n\n    slot.innerHTML = \"\";\n    const errorLayout = document.createElement(\"error-layout\");\n    if (errorMessage) {\n      errorLayout.setAttribute(\"message\", errorMessage);\n    }\n    slot.appendChild(errorLayout);\n\n    this.currentLayout = errorLayout;\n    this.currentView = \"error\";\n  }\n}\n\n// Register the custom element\ncustomElements.define(\"go-send\", GoSendElement);\n", "import { translateElement } from \"../utils.mjs\";\nimport storage from \"../storage.mjs\";\n\n/**\n * <app-footer> - Site footer component\n *\n * Responsibilities:\n * - Displays site branding with status indicator\n * - Shows configured footer links (CLI, DMCA, Source, Custom)\n * - Displays dynamic login/logout link based on authentication state\n * - Handles internationalization for all footer text\n *\n * Configuration comes from window.FOOTER (set by server)\n */\nclass AppFooter extends HTMLElement {\n  constructor() {\n    super();\n    this._templateMounted = false;\n    this._frame = null;\n    this.config = window.FOOTER || {};\n    this._boundHandlers = {\n      handleLogoutClick: this.handleLogoutClick.bind(this),\n    };\n  }\n\n  connectedCallback() {\n    // Mount template\n    if (!this._templateMounted) {\n      const template = document.getElementById(\"app-footer\");\n      if (!template) {\n        console.error(\"Template #app-footer not found\");\n        return;\n      }\n      const content = template.content.cloneNode(true);\n      this.appendChild(content);\n      this._templateMounted = true;\n    }\n\n    if (this._frame !== null) {\n      cancelAnimationFrame(this._frame);\n    }\n\n    this._frame = requestAnimationFrame(() => {\n      this._frame = null;\n      if (!this.isConnected) return;\n\n      translateElement(this);\n      this.setupFooter();\n    });\n  }\n\n  disconnectedCallback() {\n    if (this._frame !== null) {\n      cancelAnimationFrame(this._frame);\n      this._frame = null;\n    }\n\n    // Remove logout click handler\n    const authLink = this.querySelector('[data-role=\"auth-link\"]');\n    if (authLink && authLink.href.includes('/logout')) {\n      authLink.removeEventListener('click', this._boundHandlers.handleLogoutClick);\n    }\n  }\n\n  setupFooter() {\n    // Set up branding and source link (left side)\n    const sourceLink = this.querySelector('[data-role=\"source-link\"]');\n    const brand = this.querySelector('[data-role=\"brand\"]');\n\n    if (this.config.SourceURL) {\n      if (sourceLink) {\n        sourceLink.href = this.config.SourceURL;\n        sourceLink.style.display = \"\";\n      }\n      if (brand) brand.style.display = \"none\";\n    } else {\n      if (sourceLink) sourceLink.style.display = \"none\";\n      if (brand) brand.style.display = \"\";\n    }\n\n    // Set up status dot (green for upload pages, blue for download pages)\n    const statusDot = this.querySelector('[data-role=\"status-dot\"]');\n    if (statusDot) {\n      const isDownload =\n        window.location.pathname.match(/^\\/download/) ||\n        window.location.pathname.match(/^\\/[0-9a-fA-F]{10,16}/);\n      statusDot.className = isDownload\n        ? \"status-dot status-dot-blue\"\n        : \"status-dot status-dot-green\";\n    }\n\n    // Set up custom text/link\n    const customLi = this.querySelector('[data-if-custom]');\n    const customLink = this.querySelector('[data-role=\"custom-link\"]');\n    const customText = this.querySelector('[data-role=\"custom-text\"]');\n\n    if (this.config.CustomText) {\n      if (customText) customText.textContent = this.config.CustomText;\n      if (this.config.CustomURL && customLink) {\n        customLink.href = this.config.CustomURL;\n        customLink.target = \"_blank\";\n      } else if (customLink) {\n        // If no URL, make it plain text\n        const span = document.createElement(\"span\");\n        span.textContent = this.config.CustomText;\n        customLink.replaceWith(span);\n      }\n      if (customLi) customLi.style.display = \"\";\n    } else {\n      if (customLi) customLi.style.display = \"none\";\n    }\n\n    // Set up CLI link\n    const cliLi = this.querySelector('[data-if-cli]');\n    const cliLink = this.querySelector('[data-role=\"cli-link\"]');\n    if (this.config.CLIURL) {\n      if (cliLink) {\n        cliLink.href = this.config.CLIURL;\n        cliLink.target = \"_blank\";\n      }\n      if (cliLi) cliLi.style.display = \"\";\n    } else {\n      if (cliLi) cliLi.style.display = \"none\";\n    }\n\n    // Set up DMCA link\n    const dmcaLi = this.querySelector('[data-if-dmca]');\n    const dmcaLink = this.querySelector('[data-role=\"dmca-link\"]');\n    if (this.config.DMCAURL) {\n      if (dmcaLink) {\n        dmcaLink.href = this.config.DMCAURL;\n        dmcaLink.target = \"_blank\";\n      }\n      if (dmcaLi) dmcaLi.style.display = \"\";\n    } else {\n      if (dmcaLi) dmcaLi.style.display = \"none\";\n    }\n\n    // Set up Source link (in footer list on right side)\n    const sourceLi = this.querySelector('[data-if-source]');\n    const sourceFooterLink = this.querySelector('[data-role=\"source-link-footer\"]');\n    if (this.config.SourceURL) {\n      if (sourceFooterLink) {\n        sourceFooterLink.href = this.config.SourceURL;\n        sourceFooterLink.target = \"_blank\";\n      }\n      if (sourceLi) sourceLi.style.display = \"\";\n    } else {\n      if (sourceLi) sourceLi.style.display = \"none\";\n    }\n\n    // Set up username display and auth link based on authentication state\n    const usernameSpan = this.querySelector('[data-role=\"username\"]');\n    const authLink = this.querySelector('[data-role=\"auth-link\"]');\n    const authLabel = this.querySelector('[data-role=\"auth-label\"]');\n    const user = storage.user;\n\n    if (usernameSpan) {\n      if (user && user.name) {\n        usernameSpan.textContent = user.name;\n        usernameSpan.style.display = \"\";\n      } else {\n        usernameSpan.style.display = \"none\";\n      }\n    }\n\n    if (authLink && authLabel) {\n      // Remove any existing listener first\n      authLink.removeEventListener('click', this._boundHandlers.handleLogoutClick);\n\n      // Ensure target is NOT set to _blank (should open in same tab)\n      authLink.removeAttribute('target');\n\n      if (user) {\n        // User is logged in - show logout\n        authLink.href = \"/logout\";\n        authLabel.id = \"footerLinkLogout\";\n        authLabel.setAttribute(\"data-type\", \"lang\");\n        authLabel.textContent = \"Sign out\"; // Will be translated\n\n        // Add click handler to clear localStorage before navigation\n        authLink.addEventListener('click', this._boundHandlers.handleLogoutClick);\n      } else {\n        // User is not logged in - show login\n        authLink.href = \"/login\";\n        authLabel.id = \"footerLinkLogin\";\n        authLabel.setAttribute(\"data-type\", \"lang\");\n        authLabel.textContent = \"Sign in\"; // Will be translated\n      }\n\n      // Re-translate after changing the text\n      translateElement(this);\n    }\n  }\n\n  handleLogoutClick(event) {\n    // Clear all localStorage before navigating to logout endpoint\n    storage.clearAll();\n    // Let the browser continue with navigation to /logout\n  }\n}\n\n// Register the custom element\ncustomElements.define(\"app-footer\", AppFooter);\n", "import \"./styles.css\";\nimport \"./ui/go-send.mjs\";\nimport \"./ui/app-footer.mjs\";\nimport storage from \"./storage.mjs\";\nimport { APP_VERSION } from \"./userSecrets.mjs\";\nimport { syncOwnedFiles } from \"./syncFiles.mjs\";\n\n(async function start() {\n  // Check app version and clear localStorage if version mismatch\n  const user = storage.user;\n  if (user && user.version && user.version !== APP_VERSION) {\n    console.warn(`[App] Version mismatch: stored ${user.version}, current ${APP_VERSION}. Clearing localStorage.`);\n    storage.clearAll();\n  }\n\n  // Sync files from server if user is logged in\n  // This ensures files uploaded from other devices are available\n  if (storage.user) {\n    syncOwnedFiles(storage.user).catch(err => {\n      console.warn(\"[App] File sync failed during startup\", err);\n    });\n  }\n\n  const app = document.querySelector(\"go-send\");\n  if (!app) {\n    console.warn(\"[Router] <go-send> element not found in DOM\");\n    return;\n  }\n\n  // INFO: Load dependencies based on pathname\n  const path = window.location.pathname;\n  if (path === \"/\" || path.startsWith(\"/upload\")) {\n    // INFO: Matches: / or /upload[...]\n    await initUploadRoute(app);\n  } else if (path.match(/^\\/download/) || path.match(/^\\/[0-9a-fA-F]{10,16}/)) {\n    // INFO: Matches: /download/... or /{fileId}\n    await initDownloadRoute(app);\n  } else if (path.startsWith(\"/register\")) {\n    // INFO: Matches: /register/admin/[token] or /register/[token]\n    await initRegisterRoute(app);\n  } else if (path.startsWith(\"/login\")) {\n    await initLoginRoute(app);\n  } else {\n    // TODO: Handle 404\n    console.warn(`[Router] Unknown route: ${path}, defaulting to upload`);\n    await initUploadRoute(app);\n  }\n\n  console.log(\"[Router] Route initialized\");\n})();\n\nasync function initUploadRoute(app) {\n  console.log(\"[Route] Initializing upload page...\");\n  await Promise.all([\n    import(\"./ui/upload-layout.mjs\"),\n    import(\"./ui/upload-area.mjs\"),\n    import(\"./ui/upload-right.mjs\"),\n    app.controller.ready,\n  ]);\n\n  app.showUploadLayout();\n  console.log(\"[Route] Upload page ready\");\n}\n\nexport async function initDownloadRoute(app) {\n  console.log(\"[Route] Initializing download page...\");\n\n  // Import download-specific components\n  await Promise.all([\n    import(\"./ui/download-layout.mjs\"),\n    import(\"./ui/file-password.mjs\"),\n    import(\"./ui/file-overview.mjs\"),\n    import(\"./ui/file-downloading.mjs\"),\n    import(\"./ui/file-finished.mjs\"),\n    import(\"./ui/file-error.mjs\"),\n    app.controller.ready,\n  ]);\n\n  app.showDownloadLayout();\n  console.log(\"[Route] Download page ready\");\n}\n\nasync function initRegisterRoute(app) {\n  console.log(\"[Route] Initializing register page...\");\n\n  // Import register-specific components\n  await Promise.all([\n    import(\"./ui/register-layout.mjs\"),\n    app.controller.ready,\n  ]);\n\n  app.showRegisterLayout();\n  console.log(\"[Route] Register page ready\");\n}\n\nasync function initLoginRoute(app) {\n  console.log(\"[Route] Initializing login page...\");\n\n  await Promise.all([\n    import(\"./ui/login-layout.mjs\"),\n    app.controller.ready,\n  ]);\n\n  app.showLoginLayout();\n  console.log(\"[Route] Login page ready\");\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAI,QAAQ;AAAA,EACR;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EACpF;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,EAAY;AAAA,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",
  "names": ["eod", "start", "metadata", "crypto", "resolved", "cache", "match", "start", "locale", "percent"]
}
